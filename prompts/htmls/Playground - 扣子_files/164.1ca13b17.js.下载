"use strict";(self.webpackChunkapp_botstudio_main=self.webpackChunkapp_botstudio_main||[]).push([["164"],{454402:function(e,n,t){t.d(n,{y1:function(){return w}});var o=t(723530);function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}t(938809);var i=["shift","alt","meta","mod","ctrl"],u={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function a(e){return(u[e]||e).trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function c(e,n){return void 0===n&&(n=","),e.split(n)}function l(e,n,t){void 0===n&&(n="+");var o=e.toLocaleLowerCase().split(n).map(function(e){return a(e)}),u={alt:o.includes("alt"),ctrl:o.includes("ctrl")||o.includes("control"),shift:o.includes("shift"),meta:o.includes("meta"),mod:o.includes("mod")},c=o.filter(function(e){return!i.includes(e)});return r({},u,{keys:c,description:t})}"undefined"!=typeof document&&(document.addEventListener("keydown",function(e){if(void 0!==e.key)d([a(e.key),a(e.code)])}),document.addEventListener("keyup",function(e){if(void 0!==e.key)v([a(e.key),a(e.code)])})),"undefined"!=typeof window&&window.addEventListener("blur",function(){f.clear()});var f=new Set;function s(e){return Array.isArray(e)}function d(e){var n=Array.isArray(e)?e:[e];f.has("meta")&&f.forEach(function(e){var n;return n=e,!i.includes(n)&&f.delete(e.toLowerCase())}),n.forEach(function(e){return f.add(e.toLowerCase())})}function v(e){var n=Array.isArray(e)?e:[e];"meta"===e?f.clear():n.forEach(function(e){return f.delete(e.toLowerCase())})}function y(e,n){var t=e.target;void 0===n&&(n=!1);var o=t&&t.tagName;return s(n)?!!(o&&n&&n.some(function(e){return e.toLowerCase()===o.toLowerCase()})):!!(o&&n&&!0===n)}var p=function(e,n,t){void 0===t&&(t=!1);var o,r,i=n.alt,u=n.meta,c=n.mod,l=n.shift,d=n.ctrl,v=n.keys,y=e.key,p=e.code,h=e.ctrlKey,m=e.metaKey,k=e.shiftKey,b=e.altKey,w=a(p),g=y.toLowerCase();if(!(null!=v&&v.includes(w))&&!(null!=v&&v.includes(g))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(w))return!1;if(!t){if(!b===i&&"alt"!==g||!k===l&&"shift"!==g)return!1;if(c){if(!m&&!h)return!1}else if(!m===u&&"meta"!==g&&"os"!==g||!h===d&&"ctrl"!==g&&"control"!==g)return!1}if(v&&1===v.length&&(v.includes(g)||v.includes(w)))return!0;if(v){;return void 0===r&&(r=","),(s(o=v)?o:o.split(r)).every(function(e){return f.has(e.trim().toLowerCase())})}if(!v)return!0;return!1},h=(0,o.createContext)(void 0),m=(0,o.createContext)({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),k=function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},b="undefined"!=typeof window?o.useLayoutEffect:o.useEffect;function w(e,n,t,r){var i,u,f=(0,o.useRef)(null),w=(0,o.useRef)(!1),g=t instanceof Array?r instanceof Array?void 0:r:t,L=s(e)?e.join(null==g?void 0:g.splitKey):e,E=t instanceof Array?t:r instanceof Array?r:void 0,C=(0,o.useCallback)(n,null!=E?E:[]),A=(0,o.useRef)(C);E?A.current=C:A.current=n;var K=(i=g,!function e(n,t){return n&&t&&"object"==typeof n&&"object"==typeof t?Object.keys(n).length===Object.keys(t).length&&Object.keys(n).reduce(function(o,r){return o&&e(n[r],t[r])},!0):n===t}((u=(0,o.useRef)(void 0)).current,i)&&(u.current=i),u.current),O=(0,o.useContext)(m).enabledScopes,R=(0,o.useContext)(h);return b(function(){if((null==K?void 0:K.enabled)!==!1&&(e=O,n=null==K?void 0:K.scopes,0===e.length&&n?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):!!(!n||e.some(function(e){return n.includes(e)})||e.includes("*")))){var e,n,t=function(e,n){var t;if(void 0===n&&(n=!1),y(e,["input","textarea","select"])&&!y(e,null==K?void 0:K.enableOnFormTags))return;if(null!==f.current){var o=f.current.getRootNode();if((o instanceof Document||o instanceof ShadowRoot)&&o.activeElement!==f.current&&!f.current.contains(o.activeElement)){k(e);return}}if(null==(t=e.target)||!t.isContentEditable||!!(null!=K&&K.enableOnContentEditable))c(L,null==K?void 0:K.splitKey).forEach(function(t){var o,r,i,u,a,c,f,s=l(t,null==K?void 0:K.combinationKey);if(p(e,s,null==K?void 0:K.ignoreModifiers)||null!=(f=s.keys)&&f.includes("*")){;if(null!=K&&null!=K.ignoreEventWhen&&K.ignoreEventWhen(e)||n&&w.current)return;if(o=e,r=s,("function"==typeof(i=null==K?void 0:K.preventDefault)&&i(o,r)||!0===i)&&o.preventDefault(),u=e,a=s,"function"==typeof(c=null==K?void 0:K.enabled)?!c(u,a):!0!==c&&void 0!==c){k(e);return}A.current(e,s),!n&&(w.current=!0)}})},o=function(e){if(void 0!==e.key)d(a(e.code)),((null==K?void 0:K.keydown)===void 0&&(null==K?void 0:K.keyup)!==!0||null!=K&&K.keydown)&&t(e)},r=function(e){if(void 0!==e.key)v(a(e.code)),w.current=!1,null!=K&&K.keyup&&t(e,!0)},i=f.current||(null==g?void 0:g.document)||document;return i.addEventListener("keyup",r),i.addEventListener("keydown",o),R&&c(L,null==K?void 0:K.splitKey).forEach(function(e){return R.addHotkey(l(e,null==K?void 0:K.combinationKey,null==K?void 0:K.description))}),function(){i.removeEventListener("keyup",r),i.removeEventListener("keydown",o),R&&c(L,null==K?void 0:K.splitKey).forEach(function(e){return R.removeHotkey(l(e,null==K?void 0:K.combinationKey,null==K?void 0:K.description))})}}},[L,K,O]),f}},146951:function(e,n,t){t.d(n,{Z:()=>s});var o=t("573600"),r=t("69917"),i=t("97525"),u=t("256785"),a=function(e,n){for(var t=e.length;t--&&(0,u.Z)(n,e[t],0)>-1;);return t},c=function(e,n){for(var t=-1,o=e.length;++t<o&&(0,u.Z)(n,e[t],0)>-1;);return t},l=t("663790"),f=t("697488"),s=function(e,n,t){if((e=(0,f.Z)(e))&&(t||void 0===n))return(0,r.Z)(e);if(!e||!(n=(0,o.Z)(n)))return e;var u=(0,l.Z)(e),s=(0,l.Z)(n),d=c(u,s),v=a(u,s)+1;return(0,i.Z)(u,d,v).join("")}}}]);
//# sourceMappingURL=https://sourcemap-redirect.coze.cn/obj/coze-sourcemap/ol-sourcemap/bot/1.0.2.2129/164.1ca13b17.js.map