"use strict";(self.webpackChunkapp_botstudio_main=self.webpackChunkapp_botstudio_main||[]).push([["66461"],{966379:function(e,r,t){t.r(r),t.d(r,{md2html:()=>u.k,LazyEditorFullInputInner:()=>b,LazyEditorFullInput:()=>m,DEFAULT_ZONE:()=>n.S,Text:()=>d.T,ToolbarItemEnum:()=>v._,ZoneDelta:()=>a.I,normalizeSchema:()=>c.normalizeSchema,checkAndGetMarkdown:()=>c.checkAndGetMarkdown,DeltaSet:()=>i.D,ToolbarButton:()=>o.Z,delta2md:()=>c.delta2md,Plugin:()=>s.S,EditorEventType:()=>f.r,displayType:()=>l.v});var n=t("221013"),i=t("963036"),a=t("541956"),l=t("815696"),d=t("200031"),s=t("827157"),o=t("974474"),u=t("519310"),c=t("583871"),p=t("723530"),m=(0,p.lazy)(()=>Promise.all([t.e("4118"),t.e("7561"),t.e("16533"),t.e("53101"),t.e("92389"),t.e("43969"),t.e("53389"),t.e("79605")]).then(t.bind(t,165660))),b=(0,p.lazy)(()=>Promise.all([t.e("4118"),t.e("7561"),t.e("16533"),t.e("53101"),t.e("92389"),t.e("43969"),t.e("53389"),t.e("79605")]).then(t.bind(t,165660)).then(e=>({default:e.EditorFullInputInner}))),v=t("611082"),f=t("314267")},519310:function(e,r,t){t.d(r,{k:function(){return l},o:function(){return d}});var n=t(634866),i=t.n(n),a=t(926467),l=(e,r)=>{i().extension("blockExt",{type:"output",regex:/<card-block\b[^>]*>(.*?)<\/card-block>/g,replace(e){var t,n,i,a=s(null===(t=new DOMParser().parseFromString(e,"text/html").querySelector("card-block"))||void 0===t?void 0:t.getAttribute("data-content"));if("string"==typeof a&&(a=s(a)),!a)return"";var l=null==a?void 0:null===(i=a.props)||void 0===i?void 0:null===(n=i.data)||void 0===n?void 0:n.user;if(!l)return"";l.avatar_url=window.decodeURIComponent(l.avatar_url);var d=null==r?void 0:r.find(e=>e.item_id===(null==l?void 0:l.id));return d&&(l.cn_name=d.name,l.avatar_url=d.avatar_url),'<a\n       data-name="'.concat(l.cn_name,'"\n       data-type="0"\n       data-url="').concat(l.avatar_url,'"\n       data-token="').concat(l.id,"\"\n       data-meta-block-props='").concat(JSON.stringify(a),'\'\n       class="editor-kit-mention mention mention-token_mock_id mention-type_0"\n       ><img src="').concat(l.avatar_url,'" /><span>@').concat(l.cn_name,"<span></a>")}});var t=new(i()).Converter({ghCodeBlocks:!0,parseImgDimension:!0,strikethrough:!0,requireSpaceBeforeHeadingText:!0,extensions:["blockExt"],literalMidWordUnderscores:!0}),n=[],a=e.replaceAll(/```[\w#\+\-]+\n[\s\S]*?\n```|\n/g,e=>e.startsWith("```")?(n.push(e),"${codeblock}$"):"\n\n");a=(a=a.split("\n").map(e=>e.startsWith("    ")?"${blank}$".concat(e):e).join("\n")).replace(/(\n\n)(\n*)/g,function(e,r,t){return r+t.replace(/\n\n/g,"<br/>\n")});var l=0;return a=a.replace(/\$\{codeblock\}\$/g,function(e){return n[l++]}),function(e){return e.replace(/<del\b[^>]*>(.*?)<\/del>/g,"<strike>$1</strike>")}(t.makeHtml(a).replace(/\$\{blank\}\$/g,"").replaceAll("&amp;#96;","`"))},d=(e,r)=>{var t=new DOMParser().parseFromString(e,"text/html"),n=t.querySelectorAll(":not(a) > img")||[],i=new Map;for(var l in r){var{origin_url:d,url:s}=r[l].image||{};d&&s&&i.set(d,s)}return n.forEach((e,r)=>{var t=e.getAttribute("src")||"";if(!!e.parentElement&&!!t){if(i.has(t))t=i.get(t);else{e.remove();return}e.setAttribute("src",t),e.setAttribute("data-biz-key",a.u),e.classList.add("image"),e.style.maxWidth="100%"}}),t.querySelectorAll("video").forEach(e=>{e.remove()}),t.body.innerHTML};function s(e){if(!!e)try{return JSON.parse(e)}catch(e){return}}},283796:function(e,r,t){t.d(r,{ct:function(){return a},j9:function(){return d},tG:function(){return s}});var n,i=t(723530);var a=((n={}).Bot="bot",n.DouyinBot="douyin-bot",n),l=(0,i.createContext)({scene:"bot"}),d=l.Provider,s=()=>{var e=(0,i.useContext)(l);if(!e)throw Error("useBotCreatorContext must be used within a BotCreatorProvider");return e}},761218:function(e,r,t){t.d(r,{s:()=>z});var n=t("938809"),i=t("723530"),a=t("797029"),l=t("656804"),d=t("538478"),s=t("856306"),o=t.n(s),u=t("168074"),c=t("265871"),p=t("549908"),m=t("964860");t("974625");var b=t("341333"),v=t("265489"),f=t("556923"),A=e=>{var{value:r,children:t,visible:a,tipFormatter:l=e=>"".concat(e)}=e,d=(0,f._)(e,["value","children","visible","tipFormatter"]),s=i.useRef(null),[o,c]=i.useState("1");function p(){s.current&&window.cancelAnimationFrame(s.current)}return i.useEffect(()=>(a?s.current=window.requestAnimationFrame(()=>{c(Math.random().toString())}):p(),p),[r,a]),(0,n.jsx)(u.u,(0,v._)((0,b._)({placement:"top",content:l(r),overlayInnerStyle:{minHeight:"auto"},rePosKey:o,visible:a},d),{children:t}))},h=(e,r)=>(0,n.jsx)(A,{value:r.value,visible:r.dragging,children:e}),x=t("866466"),g=t.n(x),k=t("462669"),y=t.n(k),w=t("318249"),S=t.n(w),W=t("294754"),_=t.n(W),D=t("13355"),E=t.n(D),J=t("876846"),M=t.n(J),I=t("257340"),U={};U.styleTagTransform=M(),U.setAttributes=_(),U.insert=S().bind(null,"head"),U.domAPI=y(),U.insertStyleElement=E(),g()(I.Z,U);var F=I.Z&&I.Z.locals?I.Z.locals:void 0,C=e=>{var{value:r,onChange:t,max:i=1,min:a=0,step:l=1,disabled:d,marks:s,className:o}=e;return(0,n.jsx)("div",{className:F["rc-slider-wrapper"],children:(0,n.jsx)(m.Z,{className:o,disabled:d,value:r,max:i,min:a,step:l,marks:s,handleRender:h,onChange:e=>{"number"==typeof e&&(null==t||t(e))}})})},H=t("18590"),Z={};Z.styleTagTransform=M(),Z.setAttributes=_(),Z.insert=S().bind(null,"head"),Z.domAPI=y(),Z.insertStyleElement=E(),g()(H.Z,Z);var Y=H.Z&&H.Z.locals?H.Z.locals:void 0,N=(e,r,t)=>{if((0,a.Z)(t))return e.toString();var n=Number(e),i=e.toString();if(Number.isNaN(n))return"".concat(e);if(0===t&&!(0,l.Z)(Number(e))&&r)return"".concat(r);var d=i.indexOf(".");if(d<0)return i;var s=i.substring(0,d+1+t);return s.endsWith(".")&&0===t?s.substring(0,s.length-1):s},B=(e,r,t)=>{if((0,a.Z)(t))return e;if(0===t&&!(0,l.Z)(e)&&r)return r;var n=Math.pow(10,t);return Math.round(e*n)/n},z=(0,u.Q2)(e=>{var{value:r,onChange:t,max:i=1,min:a=0,step:l=1,disabled:s,decimalPlaces:m,marks:b,className:v,useRcSlider:f=!1}=e,A=e=>{var n=B(e,r,m);null==t||t(n)};return(0,n.jsxs)("div",{className:o()(Y["input-slider"],v),children:[f?(0,n.jsx)(C,{disabled:s,value:r,max:i,min:a,step:l,marks:b,onChange:e=>{"number"==typeof e&&(null==t||t(e))}}):(0,n.jsx)(u.iR,{className:Y.slider,disabled:s,value:r,max:i,min:a,step:l,marks:b,onChange:e=>{"number"==typeof e&&(null==t||t(e))}}),(0,n.jsxs)("div",{style:{position:"relative",marginLeft:24},children:[(0,n.jsx)(c.Z,{className:o()(Y["input-btn"],s&&Y["input-btn-disabled"]),onClick:e=>{if(e.stopPropagation(),!(0,d.Z)(r)||!(r<=a))!s&&void 0!==r&&A(r-l)}}),(0,n.jsx)(u.Rn,{className:Y["input-number"],value:r,disabled:s,formatter:e=>N(e,r),hideButtons:!0,onNumberChange:A,max:i,min:a}),(0,n.jsx)(p.Z,{className:o()(Y["input-btn"],s&&Y["input-btn-disabled"]),onClick:e=>{if(!(0,d.Z)(r)||!(r>=i))e.stopPropagation(),!s&&void 0!==r&&A(r+l)}})]})]})})},116458:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC"},18590:function(e,r,t){var n=t(160052),i=t.n(n),a=t(570717),l=t.n(a)()(i());l.push([e.id,".input-slider--yxHMYdWSJm0_kv5D{align-items:flex-start;display:flex}.input-slider--yxHMYdWSJm0_kv5D .semi-slider{padding:0}.input-slider--yxHMYdWSJm0_kv5D .slider--_FuAXctbtvAzt1Yl{height:52px;width:174px}.input-slider--yxHMYdWSJm0_kv5D .slider--_FuAXctbtvAzt1Yl .semi-slider-marks{color:var(--light-usage-text-color-text-2,rgba(28,31,35,.6));font-size:12px;top:32px}.input-slider--yxHMYdWSJm0_kv5D .slider--_FuAXctbtvAzt1Yl .semi-slider-mark{transform:unset}.input-slider--yxHMYdWSJm0_kv5D .slider--_FuAXctbtvAzt1Yl .semi-slider-mark:last-child{left:unset;right:0;transform:translateX(-100%);white-space:nowrap;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.input-slider--yxHMYdWSJm0_kv5D .slider--_FuAXctbtvAzt1Yl .semi-slider-dot.semi-slider-dot-active{background-color:transparent}.input-slider--yxHMYdWSJm0_kv5D .input-number--FIaufWf0EXDlwCmo{flex:1 1}.input-slider--yxHMYdWSJm0_kv5D .input-number--FIaufWf0EXDlwCmo .semi-input-wrapper{background-color:#fff;border:1px solid var(--light-usage-border-color-border,rgba(28,31,35,.08))}.input-slider--yxHMYdWSJm0_kv5D .input-number--FIaufWf0EXDlwCmo .semi-input-wrapper:focus-within{border-color:var(--semi-color-focus-border)}.input-slider--yxHMYdWSJm0_kv5D .input-number--FIaufWf0EXDlwCmo input{text-align:center}.input-slider--yxHMYdWSJm0_kv5D .input-btn--a4sJFOiVqkwUyD5u{color:rgba(28,29,35,.8);cursor:pointer;font-size:12px;padding:10px 8px;position:absolute;top:0;z-index:1}.input-slider--yxHMYdWSJm0_kv5D .input-btn--a4sJFOiVqkwUyD5u:first-child{left:0}.input-slider--yxHMYdWSJm0_kv5D .input-btn--a4sJFOiVqkwUyD5u:last-child{right:0}.input-slider--yxHMYdWSJm0_kv5D .input-btn-disabled--fWR5tnSNRIikKa28{cursor:not-allowed}",""]),l.locals={"input-slider":"input-slider--yxHMYdWSJm0_kv5D",inputSlider:"input-slider--yxHMYdWSJm0_kv5D",slider:"slider--_FuAXctbtvAzt1Yl","input-number":"input-number--FIaufWf0EXDlwCmo",inputNumber:"input-number--FIaufWf0EXDlwCmo","input-btn":"input-btn--a4sJFOiVqkwUyD5u",inputBtn:"input-btn--a4sJFOiVqkwUyD5u","input-btn-disabled":"input-btn-disabled--fWR5tnSNRIikKa28",inputBtnDisabled:"input-btn-disabled--fWR5tnSNRIikKa28"},r.Z=l},257340:function(e,r,t){var n=t(160052),i=t.n(n),a=t(570717),l=t.n(a)()(i());l.push([e.id,".rc-slider-wrapper--lUxWtdAlIEUmhKfJ .rc-slider{padding:13px 0}.rc-slider-wrapper--lUxWtdAlIEUmhKfJ .rc-slider-track,.rc-slider-wrapper--lUxWtdAlIEUmhKfJ .rc-slider-tracks{background-color:#4d53e8;height:4px}.rc-slider-wrapper--lUxWtdAlIEUmhKfJ .rc-slider-handle{border:none;height:24px;margin-top:-11px;opacity:1;width:24px}.rc-slider-wrapper--lUxWtdAlIEUmhKfJ .rc-slider .rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging,.rc-slider-wrapper--lUxWtdAlIEUmhKfJ .rc-slider-handle,.rc-slider-wrapper--lUxWtdAlIEUmhKfJ .rc-slider-handle:active,.rc-slider-wrapper--lUxWtdAlIEUmhKfJ .rc-slider-handle:focus,.rc-slider-wrapper--lUxWtdAlIEUmhKfJ .rc-slider-handle:focus-visible{box-shadow:0 0 1px 0 rgba(0,0,0,.3);box-shadow:0 4px 6px 0 rgba(0,0,0,.1)}",""]),l.locals={"rc-slider-wrapper":"rc-slider-wrapper--lUxWtdAlIEUmhKfJ",rcSliderWrapper:"rc-slider-wrapper--lUxWtdAlIEUmhKfJ"},r.Z=l}}]);
//# sourceMappingURL=https://sourcemap-redirect.coze.cn/obj/coze-sourcemap/ol-sourcemap/bot/1.0.2.2569/66461.866fd009.js.map