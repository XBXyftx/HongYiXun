"use strict";(self.webpackChunkapp_botstudio_main=self.webpackChunkapp_botstudio_main||[]).push([["91206"],{693707:function(e,t,n){n.r(t),n.d(t,{OverdueBanner:()=>R,OrganizationInviteDetailPage:()=>nD,useVoiceprintEnable:()=>e_,OrganizationDeleteButton:()=>n4.I,WorkspaceEmptyGuide:()=>n2,EnterpriseManageSubMenu:()=>ep.RC,OrganizationMemberManage:()=>nT,CommonMenuLayout:()=>eu,EnterpriseInviteDetailPage:()=>nB,useOverdueBannerVisible:()=>I,useOrganizationDeletion:()=>n4.qp,PERSONAL_ENTERPRISE_ID:()=>ep.wQ,useEnterpriseApplyJoin:()=>H,DeleteConfirmationModal:()=>n4.fd,EnterpriseManageMenuLayout:()=>eN,MemberManage:()=>nd,TCEManagementBanner:()=>S,UserLevel:()=>r.a,EnterpriseInvitePrivateDetailPage:()=>nR,useEnterpriseCreationGuide:()=>Q,useOrganizationAccessGuard:()=>nQ,OverdueBannerForLayout:()=>M,CreateEnterprise:()=>eS.U,CreateEnterpriseCoachmark:()=>k,PersonalAccountPermission:()=>nF,ApplyJoin:()=>nZ.s,EnterpriseSelector:()=>eo,useSubscriptionPlan:()=>r.H,UpgradeBannerForLayout:()=>eT,OrganizationManageMenuLayout:()=>eC});var r=n("88393"),i=n("938809"),a=n("723530"),s=n("559293"),l=n("244189"),o=n("16242"),c=n("182956"),d=n("449001"),p=n.p+"static/image/create-enterprise.ce20f95e.png",_=n("866466"),m=n.n(_),u=n("462669"),x=n.n(u),h=n("318249"),g=n.n(h),v=n("294754"),f=n.n(v),b=n("13355"),j=n.n(b),y=n("876846"),w=n.n(y),N=n("822692"),z={};z.styleTagTransform=w(),z.setAttributes=f(),z.insert=g().bind(null,"head"),z.domAPI=x(),z.insertStyleElement=j(),m()(N.Z,z);var C=N.Z&&N.Z.locals?N.Z.locals:void 0,k=e=>{var{children:t,onCreateEnterprise:n,onVisibleChange:_}=e,m=(0,a.useRef)(!1),{data:{data:{need_create_enterprise:u}={need_create_enterprise:!1}}={},run:x,loading:h}=(0,s.Z)(()=>d.f_.NeedCreateEnterprise(),{manual:!0}),{accountPlan:g}=(0,r.H)(),v=g.member_version===l.aZ.Team;return(0,a.useEffect)(()=>{setTimeout(()=>{x()},1e3)},[x]),(0,a.useEffect)(()=>{if(!h&&m.current!==u)m.current=u,null==_||_(u)},[u,_,h]),(0,i.jsx)(c.Popover,{trigger:"custom",position:"rightBottom",className:C["create-enterprise-coachmark"],showArrow:!0,content:(0,i.jsxs)("div",{children:[(0,i.jsx)("img",{src:p,className:"w-full"}),(0,i.jsxs)("div",{className:"p-[8px]",children:[(0,i.jsx)("div",{className:"coz-fg-plus text-[16px] font-medium",children:o.o.t(v?"team_creation_uncompete_tips_title":"enterprise_creation_uncompete_tips_title")}),(0,i.jsx)("div",{className:"coz-fg-primary mt-[4px]",children:o.o.t(v?"team_creation_uncompete_tips_desc":"enterprise_creation_uncompete_tips_desc")})]}),(0,i.jsx)("div",{className:"p-[8px] text-right",children:(0,i.jsx)(c.Button,{color:"highlight",onClick:()=>null==n?void 0:n(),children:o.o.t("enterprise_create_pop_button_go_create")})})]}),visible:u,children:(0,i.jsx)("div",{children:t})})},T=n("698363"),S=()=>(0,T.I2)()?(0,i.jsx)(c.Banner,{fullMode:!0,type:"danger",closeIcon:!1,description:(0,i.jsx)("div",{children:o.o.t("enterprise_bytedance_ban_member_edit")})}):null,A=n("274372"),B=n("929635"),P=n("280067");function I(){return(0,P.th)().isOverdue}function R(){var e=(0,T.HU)(),t=(0,T.ZY)();(0,B.mR)({manual:!1});var{openVolcanoUrl:n}=(0,B.y3)(),r=null,a=!e,s=t.includes(A.gY.super_admin);if(a||s)r=(0,i.jsxs)("div",{className:"leading-[24px]",children:[o.o.t("coze_personal_account_overdue"),(0,i.jsx)("span",{className:"coz-fg-hglt pl-2 cursor-pointer",onClick:()=>n({url:"/finance/fund/recharge"}),children:o.o.t("coze_pay_now")})]});else{var l,d=null!==(l=e.super_admin_list[0])&&void 0!==l?l:{};r=(0,i.jsx)("div",{className:"leading-[24px]",children:o.o.t("coze_plan_overdue",{username:d.name})})}return(0,i.jsx)(c.Banner,{className:"py-[8px]",fullMode:!0,type:"danger",closeIcon:!1,description:r})}var M=()=>{var e=I();return(0,i.jsx)(i.Fragment,{children:e?(0,i.jsx)(R,{}):null})},D=n("842197"),Z=n("412590"),E=n("988726"),U=n("614331"),L=n("448082"),F=n("801368"),Y="coze-create-enterprise-success",Q=e=>{var t=(0,D.useLocation)(),[n,r]=(0,a.useState)(!1),[i,s]=(0,a.useState)(null),l=(0,T.F2)();(0,a.useEffect)(()=>{var t=F.D.getValue(Y);t&&t.split(",").includes(l)&&(s(l),e(!0),r(!0))},[l,e]);var o=()=>{var e;r(!1),F.D.setValue(Y,null===(e=F.D.getValue(Y))||void 0===e?void 0:e.split(",").filter(e=>e!==l).join(",")),s(null)};return(0,a.useEffect)(()=>{o()},[t.pathname]),{showGuide:n,guideEnterpriseId:i,handleCloseGuide:o}},O=n("142969"),K="coze-apply-enterprise-join-user",H=e=>{var[t,n]=(0,a.useState)(!1),r=(0,Z.Pc)(),i="logined"===(0,Z.bc)(),s=(0,T.JZ)(),l=(0,D.useLocation)();(0,a.useEffect)(()=>{var t=F.D.getValue(K),a=null==t?void 0:t.split(",");i&&(null==r?void 0:r.user_id_str)&&s.filter(e=>{var t;return!(null===(t=e.enterprise_role_type_list)||void 0===t?void 0:t.length)}).length&&(!(null==a?void 0:a.length)||!(null==a?void 0:a.includes(null==r?void 0:r.user_id_str)))&&(null==e||e(!0),n(!0))},[null==r?void 0:r.user_id_str,e,i,s]);var o=()=>{n(!1)};return(0,O.Z)(()=>{o()},[l.pathname]),{showGuide:t,dealOpenGuide:()=>{var e;if(!!(null==r?void 0:r.user_id_str))F.D.setValue(K,((null===(e=F.D.getValue(K))||void 0===e?void 0:e.split(","))||[]).concat(null==r?void 0:r.user_id_str).join(","))},handleCloseGuide:o}},V=n("856306"),q=n.n(V),G=n("322624"),J={};J.styleTagTransform=w(),J.setAttributes=f(),J.insert=g().bind(null,"head"),J.domAPI=x(),J.insertStyleElement=j(),m()(G.Z,J);var X=G.Z&&G.Z.locals?G.Z.locals:void 0,{Text:W}=c.Typography,$={showTooltip:!0},ee=e=>{switch(e){case A.gY.super_admin:return o.o.t("enterprise_role_super_admin1");case A.gY.admin:return o.o.t("enterprise_role_admin");case A.gY.member:return o.o.t("enterprise_member_list_character_employee");case A.gY.guest:return o.o.t("enterprise_member_list_character_guest")}},et=e=>{switch(e){case A.ZQ.super_admin2:return o.o.t("enterprise_role_super_admin1");case A.ZQ.admin2:return o.o.t("enterprise_role_admin");case A.ZQ.member2:return o.o.t("enterprise_member_list_character_employee");case A.ZQ.guest2:return o.o.t("enterprise_member_list_character_guest")}},en=e=>{var{onClick:t,info:n,activeId:r}=e;return(0,i.jsx)(c.Dropdown.Item,{className:"group",onClick:()=>{t()},children:(0,i.jsxs)("div",{className:"w-full flex items-center",children:[(0,i.jsxs)(c.Space,{spacing:8,align:"center",className:"shrink grow overflow-hidden flex",children:[(0,i.jsx)(c.CozAvatar,{src:n.organization_icon_url,type:"platform",size:"micro",className:"flex-none"}),(0,i.jsx)(W,{className:"font-medium coz-fg-primary",ellipsis:$,children:n.organization_name||"\u9ED8\u8BA4\u7EC4\u7EC7"}),(0,i.jsx)(c.Tag,{color:"primary",size:"mini",className:"flex-none",children:et(n.organization_role_type)})]}),r===n.organization_id?(0,i.jsx)(E.maW,{className:"text-xxl coz-fg-hglt ml-[4px]"}):null]})})},er=e=>{var t,{item:n,render:r,renderExtra:a,hasRule:s}=e,l=(0,i.jsx)(c.Dropdown.Item,{onClick:()=>{if(!n.enterprise_role_type_list.length){window.open("/enterprise-apply-join/".concat(n.enterprise_id),"_blank");return}},children:(0,i.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,i.jsxs)(c.Space,{spacing:8,align:"center",className:"shrink grow overflow-hidden flex",children:[(0,i.jsx)(c.CozAvatar,{src:n.icon_uri,type:"platform",size:"micro",className:"flex-none"}),(0,i.jsx)(W,{className:"font-medium coz-fg-primary",ellipsis:$,children:n.name}),!!n.enterprise_role_type_list.length&&(0,i.jsx)(c.Tag,{color:"primary",size:"mini",className:"flex-none",children:ee(null===(t=n.enterprise_role_type_list)||void 0===t?void 0:t[0])})]}),(0,i.jsxs)("div",{className:"flex items-center flex-none",children:[n.enterprise_role_type_list.length?(0,i.jsx)(E.wMM,{}):(0,i.jsx)(c.Button,{color:"highlight",size:"small",children:o.o.t("enterprise_basic_user_not_in_pop_apply_button")}),a?a(n):null]})]})},n.enterprise_id);return s?(0,i.jsx)(c.Dropdown,{position:"rightTop",render:r,spacing:8,children:l}):l},ei=e=>{var{list:t,activeId:n,onChange:r,renderExtra:a}=e;return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-medium text-xs pl-[4px] pt-[4px] coz-fg-secondary",children:o.o.t("navi_bar_membership_title_enterprise")}),t.map(e=>{var t,s;return(0,i.jsx)(er,{item:e,hasRule:!!(null==e?void 0:null===(t=e.enterprise_role_type_list)||void 0===t?void 0:t.length),render:(0,i.jsxs)(c.Dropdown.Menu,{className:q()(X.menu,"w-[250px]"),mode:"menu",style:{maxHeight:"500px",overflow:"auto"},children:[(0,i.jsx)(c.Dropdown.Title,{children:o.o.t("navi_bar_membership_title_enterprise_org")}),((null==e?void 0:e.organization_info_list)||[]).length>0?null==e?void 0:null===(s=e.organization_info_list)||void 0===s?void 0:s.map(t=>(0,i.jsx)(en,{onClick:()=>{null==r||r(e.enterprise_id,t.organization_id)},activeId:n,info:t})):(0,i.jsx)("div",{style:{color:"rgba(55, 67, 106, 0.38)",padding:"16px 8px"},children:"\u6682\u672A\u52A0\u5165\u4EFB\u4F55\u7EC4\u7EC7"}),(0,i.jsx)(c.Dropdown.Divider,{}),(0,i.jsx)(c.Dropdown.Item,{className:"group",onClick:()=>{null==r||r(e.enterprise_id)},children:(0,i.jsxs)(c.Space,{className:"w-full",spacing:8,children:[(0,i.jsx)(E.Z$3,{}),(0,i.jsx)("div",{className:"flex-1",children:"\u56E2\u961F\u4E0E\u4F01\u4E1A\u7BA1\u7406"})]})})]}),activeId:n,renderExtra:a})})]})},ea=n.p+"static/image/create-enterprise-success-guide.90bc5733.png",es=n.p+"static/image/apply-join-enterprise-guide.340be767.png",el={showTooltip:!0},eo=e=>{var t,n,{onVisibleChange:r,visible:s}=e,l=(0,Z.Pc)(),d=(0,D.useNavigate)(),[p]=(0,L.V)(),[_,m]=(0,a.useState)(!1),u=(0,T.eP)(),x=(0,T.JZ)(),h=(0,T.F2)(),g=(0,T.bK)(),{onEnterpriseChange:v}=(0,U.A1)(),{pathname:f}=(0,D.useLocation)(),b=(0,T.sD)(),{showGuide:j,guideEnterpriseId:y,handleCloseGuide:w}=Q(r),{showGuide:N,handleCloseGuide:z,dealOpenGuide:C}=H(r);(0,a.useEffect)(()=>{N&&s?setTimeout(()=>{C(),m(!0)},200):m(!1)},[N,C,s]);var k=(e,t)=>{v?v(e,{navigate:d,pathname:f},t):t||e===T.wQ?e===T.wQ?((0,T.J1)(T.wQ),d("/home")):d("/enterprise/".concat(e,"/organization/").concat(t,"/home")):d("/enterprise/".concat(e,"/enterprise/")),w(),r(!1)},S=(0,T.ff)(e=>{var t;return null===(t=e.enterpriseList)||void 0===t?void 0:t.personal_account_info});if(!l)return null;var A=p["bot.studio.enterprise_apply_join"]?(null==x?void 0:x.length)>0:u.length>0,B=null==l?void 0:null===(t=l.app_user_info)||void 0===t?void 0:t.user_unique_name;return(0,i.jsxs)(i.Fragment,{children:[A?(0,i.jsx)("div",{className:"font-medium text-xs pl-[4px] pt-[4px] coz-fg-secondary",children:o.o.t("navi_bar_membership_title_personal")}):null,(0,i.jsx)(c.Dropdown.Item,{className:"!h-fit",onClick:()=>{A&&k(T.wQ)},children:(0,i.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,i.jsxs)(c.Space,{spacing:8,className:"shrink grow overflow-hidden",children:[A?(0,i.jsx)(c.CozAvatar,{src:l.avatar_url,type:"platform",className:"shrink-0",size:"micro"}):(0,i.jsx)(c.Badge,{position:"rightBottom",countStyle:{right:6,bottom:6},count:(0,i.jsx)("div",{className:"bg-white rounded-full w-[16px] h-[16px] flex items-center justify-center",children:(0,i.jsx)(c.CozAvatar,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAAC1UlEQVRIDZ1WO2hTURj+zm0cmimatUMGcRCRCqLoYqpOolQQnIS2g1WxmEgHJ0mCk4MYfKFZrOAkiFbBydp08QFixVEHM8QxcumQgCY9/t89Ocl9JRp/SM7/Puf8r3MVhkA+r1PNNnIKyGqFDLT8BDTgOsDnjsZyYgue3y+rGvlxILZROJ/XGd3GQ3GUjUqjHKWwpMZQittIDhKEcws612lj/V+d01przG6KzfxFnQ96AwI3mF/QBVEohpVGpIuVO6pkbXob8ORy6rIVxK3JJDA+DjQacVIfT+Ny5a7yfHkbMOYMixApn1oAnZgArl4xrBu3gK/fAuIw4ToJ7GFOEpToDgpxzg9nKTVwdMpiwIWzwMtXhm61gHcf+rIulmKRCD6leHpJ0PewyoH9wOyZMDeefvIUWKlGZckEtjqbv3EyKjKxjuOPwpMeyjtSw9OjGFndet1ig1cJ+yFHKmcyrLJjO3DiWJjbp99KzK9dl1b+YnhHJD8sgjCw+9logcpJp4HFHJCUcrTA+DZ+GorOHz0GDkqOJncbXnqbqTC/jSeR0eJVkVEz/62mnwKaUiXcYGUV4EmZUDqfiSkA9gj1/eBIL9f8DCrw+vbEPNXiJdGQgA5yThv2hrXx+XPH9u4rsooyPiY2NryJiV07DZebMBxcT5/yaxr82Qvg46coX870nklei4qiHMb5+JDERy28Ibjs/EoMnz9xhmFeOO5W7shbIbcAZNCtyk2yVmBXdjMTR2DZ2iphrF9L0i28qVqsv0p/LT24rea8KlIJzMnsWBdxoGT9M6b+o5tsUbpXAUgPAZcPEOXeDYh4j4XCTeKDgHngcBsUkp5deFxbgTw4RcELlv7PtSQPDv140LuBZXRvwk0C4bLyIasrXwMl+9BYvcgGFHRHeFHQGdJ/A3FSZR7jHv3YDaxDbyMZ51IR09oMRXMr6X6lURPemsz8crmsXGsTXv8ARbTfUvNWr4QAAAAASUVORK5CYII=",className:"w-[12px] h-[12px] rounded-full",type:"person"})}),className:"shrink-0",children:(0,i.jsx)(c.CozAvatar,{src:l.avatar_url,className:"w-[32px] h-[32px] rounded-full",type:"person"})}),A?(0,i.jsxs)("div",{className:"flex items-center text-[14px] leading-[20px] overflow-hidden sp",children:[(0,i.jsx)(c.Typography.Text,{className:"coz-fg-primary font-[500]",ellipsis:el,children:l.name}),(null==S?void 0:null===(n=S.user_label)||void 0===n?void 0:n.icon_url)?(0,i.jsx)(c.Tooltip,{content:S.user_label.label_name,trigger:S.user_label.label_name?"hover":"custom",children:(0,i.jsx)(c.CozAvatar,{className:"w-[14px] h-[14px] rounded-full mx-[3px] shrink-0",type:"person",src:S.user_label.icon_url})}):null,(0,i.jsxs)(c.Typography.Text,{className:"coz-fg-secondary",ellipsis:el,children:[B?"@":"",B]})]}):(0,i.jsxs)("div",{className:"flex-1 text-[14px] leading-[20px] overflow-hidden sp",children:[(0,i.jsx)(c.Typography.Text,{className:"coz-fg-primary font-[500]",ellipsis:el,children:l.name}),(0,i.jsxs)(c.Typography.Text,{className:"coz-fg-secondary",ellipsis:el,children:[B?"@":"",B]})]})]}),A&&h===T.wQ?(0,i.jsx)(E.maW,{className:"text-xxl coz-fg-hglt flex-none ml-[4px]"}):null]})}),A?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Dropdown.Divider,{}),(0,i.jsx)(ei,{list:p["bot.studio.enterprise_apply_join"]?x:u,activeId:g,onChange:k,renderExtra:e=>e.enterprise_id===y&&j?(0,i.jsx)(c.Popover,{visible:!0,position:"rightBottom",trigger:"custom",rePosKey:Math.random(),autoAdjustOverflow:!0,showArrow:!0,spacing:{x:20,y:0},content:(0,i.jsxs)("div",{className:"w-[240px]",children:[(0,i.jsx)("img",{src:ea,className:"h-[126px] w-full mb-2"}),(0,i.jsx)("div",{className:"flex justify-between items-center mb-2",children:(0,i.jsx)("div",{className:"text-sm font-medium",children:b?o.o.t("team_create_success_title"):o.o.t("enterprise_create_success_title")})}),(0,i.jsx)("div",{className:"block mb-3",children:b?o.o.t("team_create_success_desc"):o.o.t("enterprise_create_success_desc")}),(0,i.jsx)(c.Button,{onClick:e=>{e.stopPropagation(),w()},children:o.o.t("enterprise_team_create_success_button")})]}),children:(0,i.jsx)("div",{className:"w-[4px] h-[4px] rounded-full coz-bg-hglt"})}):!e.enterprise_role_type_list.length&&N?(0,i.jsx)(c.Popover,{visible:_,position:"rightBottom",trigger:"custom",rePosKey:Math.random(),autoAdjustOverflow:!0,showArrow:!0,spacing:{x:20,y:0},content:(0,i.jsxs)("div",{className:"w-[240px]",children:[(0,i.jsx)("img",{src:es,className:"h-[126px] w-full mb-2"}),(0,i.jsx)("div",{className:"flex justify-between items-center mb-2",children:(0,i.jsx)("div",{className:"text-sm font-medium",children:o.o.t("enterprise_basic_user_not_in_pop_apply_tip_title")})}),(0,i.jsx)("div",{className:"block mb-3",children:o.o.t("enterprise_basic_user_not_in_pop_apply_tip_desc")}),(0,i.jsx)("div",{className:"flex justify-end",children:(0,i.jsx)(c.Button,{color:"highlight",size:"small",onClick:e=>{e.stopPropagation(),z()},children:o.o.t("enterprise_basic_user_not_in_pop_apply_tip_confirm_button")})})]}),children:(0,i.jsx)("div",{className:"w-[4px] h-[4px] rounded-full coz-bg-hglt"})}):(0,i.jsx)("div",{className:"w-[4px] h-[4px] rounded-full coz-bg-hglt"})})]}):null]})},ec=n("802339"),ed=n("198153"),ep=n("764256"),e_=()=>{var[e,t]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{d.lv.APIVoiceFeatureGateway().then(e=>{var n,r;t(null!==(r=null===(n=e.data)||void 0===n?void 0:n.voice_print_enable)&&void 0!==r&&r)})},[]),e},em=()=>{var e=e_(),t=(0,ed.S)();return[{label:o.o.t("equipment_management"),path:"/common/".concat(ep.RC.DeviceManage)},...e?[{label:o.o.t("voiceprint_management"),path:"/common/".concat(ep.t3.Voiceprint)}]:[],{label:o.o.t("plugin_manage"),path:"/common/".concat(ep.t3.PluginManage)},...t?[{label:o.o.t("Merchant_Management"),path:"/common/".concat(ep.RC.Merchant)}]:[]]},eu=()=>{var e=em();return(0,i.jsx)(ec.G,{tabs:e})},ex=n("216134"),eh=e=>"/enterprise/".concat(e,"/enterprise"),eg=(e,t)=>"/enterprise/".concat(e,"/organization/").concat(t,"/organization"),ev=n("989730"),ef=n("255721"),eb=e=>e===ep.wQ,ej=()=>{var e=(0,ev.F2)(),[t,n]=(0,a.useState)(!1);return(0,s.Z)((0,ef._)(function*(){if(eb(e))return!1;var t,n,r=yield d.SU.GetBasicAuditConf({enterprise_id:null!=e?e:"",scene:"content_security_routing"});return!!(null==r?void 0:null===(n=r.data)||void 0===n?void 0:null===(t=n.scene_switch)||void 0===t?void 0:t.content_security_routing)}),{refreshDeps:[e],onSuccess:n}),t},ey=n("301464"),ew=()=>{var[e,t]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{d.c3.GetTradeConf({scenes:["device_benefit_admin"]},{paramsSerializer:e=>ey.Z.stringify(e,{arrayFormat:"comma"})}).then(e=>{var n,r;t((null===(r=e.data)||void 0===r?void 0:null===(n=r.scene_switch)||void 0===n?void 0:n.device_benefit_admin)===1)})},[]),e},eN=()=>{var{compareLevel:e}=(0,r.H)(),t=ew(),n=ej(),a=(0,ed.S)(),{enterprise_id:s=""}=(0,D.useParams)(),l=eh(s),c=(0,ev.ZU)(),d=(0,ev.ZY)(),p=d.includes(A.gY.super_admin),_=p||d.includes(A.gY.admin),m={[ep.RC.OrganizationWorkspaceManage]:{label:"\u4F01\u4E1A\u7EC4\u7EC7\u7BA1\u7406",path:"".concat(l,"/").concat(ep.RC.OrganizationWorkspaceManage)},[ep.RC.MemberManage]:{label:o.o.t("enterprise_management_menubar_member_management"),path:"".concat(l,"/").concat(ep.RC.MemberManage)},[ep.RC.PrivateNetworkManage]:{label:o.o.t("vpc_plugin_create_vpc_8"),path:"".concat(l,"/").concat(ep.RC.PrivateNetworkManage)},[ep.RC.PublishConnectorPermission]:{label:o.o.t("vpc_connector_restriction"),path:"".concat(l,"/").concat(ep.RC.PublishConnectorPermission)},[ep.RC.SSOSettings]:{label:o.o.t("enterprise_sso_seetings_page_title"),path:"".concat(l,"/").concat(ep.RC.SSOSettings)},[ep.RC.DeviceManage]:{label:o.o.t("equipment_management"),path:"".concat(l,"/").concat(ep.RC.DeviceManage)},[ep.RC.EnterpriseSettings]:{label:e===ex.aZ.Team?o.o.t("enterprise_management_menubar_settings2"):o.o.t("enterprise_management_menubar_settings1"),path:"".concat(l,"/").concat(ep.RC.EnterpriseSettings)},[ep.RC.SecurityConfig]:{label:o.o.t("model_deploy_model_edit_detailpage_content_moderation"),path:"".concat(l,"/").concat(ep.RC.SecurityConfig)},[ep.RC.Merchant]:{label:o.o.t("Merchant_Management"),path:"".concat(l,"/").concat(ep.RC.Merchant)}},u=[m[ep.RC.OrganizationWorkspaceManage],m[ep.RC.MemberManage]];return c&&_&&u.push(m[ep.RC.PrivateNetworkManage]),_&&u.push(m[ep.RC.PublishConnectorPermission]),p&&u.push(m[ep.RC.SSOSettings]),t&&_&&u.push(m[ep.RC.DeviceManage]),a&&_&&u.push(m[ep.RC.Merchant]),n&&u.push(m[ep.RC.SecurityConfig]),u.push(m[ep.RC.EnterpriseSettings]),(0,i.jsx)(ec.G,{tabs:u})},ez=()=>{var e=(0,T.F2)(),[t]=(0,L.V)(),{data:n}=(0,s.Z)(()=>d.f_.CanCustomEncryptionConfiguration({enterprise_id:e}),{ready:!!e&&e!==T.wQ&&t["bot.studio.message_encryption_management"],refreshDeps:[e]});return!!(null==n?void 0:n.data.can_custom)},eC=()=>{var e,[t]=(0,L.V)(),n=e_(),r=ez(),a=(0,T.zD)(),s=(null==a?void 0:a.includes(A.ZQ.super_admin2))||(null==a?void 0:a.includes(A.ZQ.admin2)),l=s||(null==a?void 0:a.includes(A.ZQ.member2)),{enterprise_id:c="",organization_id:d="",is_default_organization:p}=null!==(e=(0,T.y8)())&&void 0!==e?e:{},_=eg(c,d),m=(0,P.th)(),u=(null==m?void 0:m.level)===P.aZ.Team&&!p,x={[ep.t3.WorkspaceManage]:{label:o.o.t("enterprise_management_menubar_workspace_management"),path:"".concat(_,"/").concat(ep.t3.WorkspaceManage)},[ep.t3.OrganizationMemberManage]:{label:"\u7EC4\u7EC7\u6210\u5458\u7BA1\u7406",path:"".concat(_,"/").concat(ep.t3.OrganizationMemberManage),disabled:u},[ep.t3.PublishChannelManage]:{label:o.o.t("enterprise_management_menubar_channel_management"),path:"".concat(_,"/").concat(ep.t3.PublishChannelManage),disabled:u},[ep.t3.Voiceprint]:{label:o.o.t("voiceprint_management"),path:"".concat(_,"/").concat(ep.t3.Voiceprint),disabled:u},[ep.t3.OrganizationManage]:{label:"\u7EC4\u7EC7\u8BBE\u7F6E",path:"".concat(_,"/").concat(ep.t3.OrganizationManage)},[ep.t3.ModelAccess]:{label:o.o.t("model_deploy_page"),path:"".concat(_,"/").concat(ep.t3.ModelAccess),disabled:u},[ep.t3.EncryptionManagement]:{label:o.o.t("data_encryption_page_title"),path:"".concat(_,"/").concat(ep.t3.EncryptionManagement),disabled:u},[ep.t3.PluginManage]:{label:o.o.t("plugin_manage"),path:"".concat(_,"/").concat(ep.t3.PluginManage),disabled:u}},h=[x[ep.t3.WorkspaceManage],x[ep.t3.OrganizationMemberManage]];return s&&h.push(x[ep.t3.PublishChannelManage]),n&&h.push(x[ep.t3.Voiceprint]),t["bot.studio.ark_account_model"]&&l&&h.push(x[ep.t3.ModelAccess]),r&&s&&h.push(x[ep.t3.EncryptionManagement]),h.push(x[ep.t3.PluginManage]),h.push(x[ep.t3.OrganizationManage]),(0,i.jsx)(ec.G,{tabs:h})},ek=()=>{var e=(0,P.th)(),t=(0,T.y8)(),n=e.level===P.aZ.Team,r=(null==t?void 0:t.is_default_organization)===!1;return{visible:n&&r,onUpgrade:()=>{window.open("/premium","_blank")}}},eT=()=>{var{visible:e,onUpgrade:t}=ek();return e?(0,i.jsx)(c.Banner,{fullMode:!0,type:"danger",closeIcon:!1,description:(0,i.jsxs)("div",{children:["\u5F53\u524D\u4E3A\u56E2\u961F\u7248\u5957\u9910\uFF0C\u4E4B\u524D\u521B\u5EFA\u7684\u7EC4\u7EC7\u6682\u4E0D\u53EF\u7528\u3002\u5347\u7EA7\u81F3",(0,i.jsx)("span",{className:"coz-fg-hglt pl-2 cursor-pointer",onClick:t,children:"\u4F01\u4E1A\u7248"}),"\uFF0C\u7EE7\u7EED\u4F7F\u7528\u4E4B\u524D\u7684\u7EC4\u7EC7"]})}):null},eS=n("606862"),eA=n("126118"),eB=n("503951"),eP=n("345305"),eI=n("735363"),eR=n("888953"),eM=n("922321"),eD=n("347281"),eZ={page:1,page_size:10},eE=(0,eM.Ue)()((0,eR.mW)((e,t)=>({usageQueryConditions:{},isBatchConfiguring:!1,usageQueryTableParams:{page:1,page_size:10},setUsageQueryConditions:n=>{!(0,eD.Z)(t().usageQueryConditions,n)&&e({usageQueryConditions:n})},setUsageQuerySearchKey:n=>{!(0,eD.Z)(t().usageQuerySearchKey,n)&&e({usageQuerySearchKey:n})},setIsBatchConfiguring:t=>{!t&&e({batchConfigSelectedRowKeys:[]}),e({isBatchConfiguring:t})},setUsageConfig:t=>{e({usageConfig:t})},setUserMaxBatchSize:t=>{e({userMaxBatchSize:t})},setUsageQueryTableParams:n=>{!(0,eD.Z)(t().usageQueryTableParams,n)&&e({usageQueryTableParams:n})},setUserLimitationValidTime:t=>{e({userLimitationValidTime:t})},setBatchConfigSelectedRowKeys:t=>{e({batchConfigSelectedRowKeys:t})},openUsageUserSummary:t=>{e({summaryUserInfo:t})},closeUsageUserSummary:()=>{e({summaryUserInfo:void 0})}}),{enabled:!1,name:"botStudio.enterpriseUsageStore"})),eU=n("341333"),eL=n("221968"),eF=n.n(eL),eY=n("265489"),eQ=n("115853"),eO=n("169861");function eK(e){return e.entityType===l.ol.CozeRole||e.entityType===l.ol.CozeUserID&&!Array.isArray(e.entityId)}var eH=n("697488"),eV=e=>(0,eH.Z)(e).replace(/\B(?=(\d{3})+(?!\d))/g,","),eq=e=>{var{checkUserLimitResults:t,onLimitValueChange:n,visible:r,onCancel:s,onOk:l,initLimitValue:d}=e,p=(0,a.useRef)(d);return(0,i.jsx)(c.Modal,{title:o.o.t("resource_point_usage"),width:480,height:520,visible:r,hasScroll:!0,linearGradientMask:!0,onCancel:s,okText:o.o.t("Confirm"),cancelText:o.o.t("Cancel"),onOk:()=>{null==l||l(p.current||0)},children:(0,i.jsxs)(c.Modal.Content,{className:"flex flex-col gap-[16px]",children:[(0,i.jsxs)("div",{className:"w-full h-[32px] flex items-center justify-center",children:[(0,i.jsx)("p",{className:"flex-1 coz-fg-secondary text-[14px] leading-[20px] font-normal",children:o.o.t("cumulative_limit_max")}),(0,i.jsx)(c.CozInputNumber,{className:"flex-1",suffix:o.o.t("coze_points_device"),defaultValue:d,innerButtons:!0,min:1,onChange:e=>{p.current=Math.max(Number(e),1),null==n||n(Math.max(Number(e),1))}})]}),(0,i.jsx)("div",{className:"w-full flex flex-col gap-[8px] items-center justify-center",children:null==t?void 0:t.map(e=>{var t,n;return(0,i.jsxs)("div",{className:"w-full flex items-center justify-center rounded-[8px] p-[12px] gap-[12px] coz-mg-secondary border-[0.5px] border-solid coz-stroke-primary",children:[(0,i.jsx)(c.Avatar,{size:"extra-small",src:e.avatar}),(0,i.jsx)("p",{className:"flex-1 text-[14px] leading-[20px] font-medium coz-fg-secondary",children:e.user_name}),(0,i.jsx)("span",{className:"text-[16px] leading-[22px] font-medium coz-fg-hglt-yellow",children:eV((null===(n=e.benefit_limitation_infos)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.current)||0)})]})})})]})})},eG=(0,c.withField)(c.Switch,{valueKey:"checked"}),eJ=e=>{var t,n,r,p,_,{benefitType:m,entityType:u,entityId:x,onOverLimitUserChange:h}=e,g=eK(e)?e.limitationData:void 0,v=(0,c.useFormApi)(),[f,b]=(0,a.useState)(g?null==g?void 0:null===(n=g["".concat(m,"_limiter_enable")])||void 0===n?void 0:n[l.Sj.ResourcePoint]:void 0),[j,y]=(0,a.useState)(!1),w=(0,ev.F2)(),{userMaxBatchSize:N=0}=eE((0,eP.N)(e=>({userMaxBatchSize:e.userMaxBatchSize}))),z=(0,a.useMemo)(()=>u===l.ol.CozeRole&&N>=e.userCount||u===l.ol.CozeUserID&&(Array.isArray(x)&&N>=x.length||!Array.isArray(x)),[e]);var{data:C,run:k,mutate:T}=(0,s.Z)((t=(0,ef._)(function*(e){var t=[{["".concat(m,"_limiter_enable")]:{[l.Sj.ResourcePoint]:!0},["".concat(m,"_benefit")]:{[l.Sj.ResourcePoint]:[{limit:e}]}}];return(yield d.c3.PublicAdminCheckUserLimit({benefit_type:l.Sj.ResourcePoint,enterprise_id:w,entity_type:u,entity_ids:Array.isArray(x)?x:[x],limitations:t,with_specific_conf:!0})).data}),function(e){return t.apply(this,arguments)}),{ready:z,refreshDeps:[z,w,u,x,m,f],manual:!0,debounceWait:500}),S=(0,a.useMemo)(()=>{var e,t=(null==C?void 0:null===(e=C.check_user_limit_results)||void 0===e?void 0:e.filter(e=>!e.pass))||[];return(0,eY._)((0,eU._)({},C),{check_user_limit_results:t})},[C]);return(0,a.useEffect)(()=>{var e;null==h||h((null==S?void 0:null===(e=S.check_user_limit_results)||void 0===e?void 0:e.length)||0)},[S]),(0,i.jsxs)("div",{className:"flex flex-col gap-[12px] justify-center items-center coz-bg-max px-[16px] py-[12px] rounded-[12px] border-[0.5px] border-solid coz-stroke-primary",children:[(0,i.jsxs)("div",{className:"w-full flex justify-between items-center h-[32px]",children:[(0,i.jsxs)("p",{className:"flex items-center gap-[4px]",children:[(0,i.jsx)("span",{className:"text-[14px] leading-[20px] font-medium coz-fg-primary",children:u===l.ol.CozeRole||Array.isArray(x)?"fixed"===m?o.o.t("cumulative_quota_limit_each_person"):o.o.t("monthly_quota_limit_each_persion"):"fixed"===m?o.o.t("cumulative_quota_limit"):o.o.t("monthly_quota_limit")}),(0,i.jsx)(c.Tooltip,{content:o.o.t("usage_after_quota"),children:(0,i.jsx)(E.L03,{className:"coz-fg-secondary",width:"12.83",height:"12.83"})})]}),(0,i.jsx)(eG,{field:"".concat(m,"_limiter_enable"),noLabel:!0,initValue:null!=f&&f,onChange:e=>{b(e),!e&&T(void 0)},size:"small"})]}),f?(0,i.jsxs)("div",{className:"w-full flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-[14px] leading-[20px] coz-fg-primary font-normal",children:o.o.t("quota limit")}),(0,i.jsx)(c.FormInputNumber,{field:"".concat(m,"_benefit"),placeholder:o.o.t("coze_model_tpm_enter_value"),suffix:o.o.t("coze_points_device"),noLabel:!0,innerButtons:!0,onChange:e=>k(Math.max(Number(e),1)),initValue:g?null==g?void 0:null===(_=g["".concat(m,"_benefit")])||void 0===_?void 0:null===(p=_[l.Sj.ResourcePoint])||void 0===p?void 0:null===(r=p[0])||void 0===r?void 0:r.limit:void 0,min:1,precision:0})]}):null,(()=>{if(!f)return null;if(!z)return(0,i.jsx)("p",{className:"w-full text-left text-[14px] leading-[20px] font-normal coz-fg-dim",children:o.o.t("check_overlimit")});if(!C)return null;if(u!==l.ol.CozeUserID||Array.isArray(x))return(null===(e=S.check_user_limit_results)||void 0===e?void 0:e.length)>0?(0,i.jsxs)("div",{className:"w-full flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-[14px] leading-[20px] font-medium coz-fg-secondary",children:o.o.t("limit_exceeded")}),(0,i.jsxs)("p",{className:"flex items-center gap-[4px] text-[12px] leading-[16px] font-medium",children:[(0,i.jsx)("span",{className:"coz-fg-hglt-yellow",children:o.o.t("people_count",{number:(null===(t=S.check_user_limit_results)||void 0===t?void 0:t.length)||0})}),(0,i.jsx)("span",{className:"coz-fg-secondary underline decoration-solid cursor-pointer",onClick:()=>y(!0),children:o.o.t("evaluation_report_reviewDetails")})]})]}):null;var e,t,n=null===(r=C.check_user_limit_results)||void 0===r?void 0:r.find(e=>e.coze_user_id===x);if(n){var r,a,s,c,d,p,_,h=null!==(_=null==n?void 0:null===(s=n.benefit_limitation_infos)||void 0===s?void 0:null===(a=s[0])||void 0===a?void 0:a.current)&&void 0!==_?_:(null==g?void 0:null===(p=g["".concat(m,"_benefit")])||void 0===p?void 0:null===(d=p[l.Sj.ResourcePoint])||void 0===d?void 0:null===(c=d[0])||void 0===c?void 0:c.current)||0,v=null==n?void 0:n.pass;return(0,i.jsxs)("p",{className:"flex items-center justify-end w-full text-right text-[12px] leading-[16px] font-normal ".concat(v?"coz-fg-hglt-green":"coz-fg-hglt-yellow"," "),children:[v?(0,i.jsx)(E.P03,{}):(0,i.jsx)(E.syE,{}),v?o.o.t("usage_within_limit",{current:eV(h)}):o.o.t("usage_exceeds_limit",{current:eV(h)})]})}})(),(0,i.jsx)(eq,{checkUserLimitResults:null==S?void 0:S.check_user_limit_results,visible:j,onCancel:()=>y(!1),initLimitValue:null==v?void 0:v.getValue("".concat(m,"_benefit")),onOk:e=>{null==v||v.setValue("".concat(m,"_benefit"),e),y(!1)},onLimitValueChange:e=>{k(e)}})]})},eX=e=>{var{usageConfig:t}=e,{entityType:n}=t;return n===l.ol.CozeUserID?(0,i.jsx)(c.Tooltip,{content:o.o.t("usage_config_desc"),children:(0,i.jsx)(E.L03,{})}):null},eW=e=>{var{usageConfig:t}=e,{entityType:n}=t,r=null;switch(n){case l.ol.CozeRole:var{userCount:a}=t;r=(0,i.jsx)("span",{className:"text-[14px] leading-[20px] coz-fg-secondary font-normal",children:o.o.t("all_staff_count",{userCount:a})});break;case l.ol.CozeUserID:var{avatar:s,userName:d}=t;r=Array.isArray(t.entityId)?(0,i.jsx)(c.CozAvatar.AvatarGroup,{maxCount:3,size:"small",renderMore:()=>(0,i.jsx)(c.Popover,{content:(0,i.jsx)(c.CozAvatar.AvatarGroup,{size:"small",children:Array.isArray(t.entityId)&&t.entityId.map((e,t)=>(0,i.jsx)(c.CozAvatar,{size:"mini",src:null==s?void 0:s[t]},e))}),children:(0,i.jsx)(c.CozAvatar,{size:"small",color:"grey",children:(0,i.jsxs)("span",{children:["+",t.entityId.length-3]})})}),children:t.entityId.map((e,t)=>(0,i.jsx)(c.CozAvatar,{size:"small",src:null==s?void 0:s[t]},e))}):(0,i.jsxs)("div",{className:"flex items-center gap-[4px]",children:[(0,i.jsx)(c.CozAvatar,{size:"small",src:s}),(0,i.jsx)("span",{className:"text-[14px] leading-[20px] coz-fg-primary font-normal",children:d})]});break;default:r=null}return(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("span",{className:"inline-flex items-center gap-[4px] text-[16px] leading-[22px] coz-fg-plus font-medium",children:[o.o.t("configuration_goal"),(0,i.jsx)(eX,{usageConfig:t})]}),(0,i.jsx)("div",{className:"flex-1 flex items-center justify-end",children:r})]})},e$=n("561047"),e0={};e0.styleTagTransform=w(),e0.setAttributes=f(),e0.insert=g().bind(null,"head"),e0.domAPI=x(),e0.insertStyleElement=j(),m()(e$.Z,e0);var e1=e$.Z&&e$.Z.locals?e$.Z.locals:void 0,e2=e=>{var t,{usageConfig:n}=e,{entityType:r}=n,a=eK(n)?n.limitationData:void 0,s=null!==(t=null==a?void 0:a.strategy)&&void 0!==t?t:eO.DB.Role;return r!==l.ol.CozeUserID?null:(0,i.jsx)(c.FormSelect,{field:"strategy",label:o.o.t("quota_config"),labelPosition:"left",fieldClassName:q()(e1.strategy),className:"w-[150px]",initValue:s,optionList:[{label:o.o.t("quota_flow_user"),value:eO.DB.Role},{label:o.o.t("quota_unlimited"),value:eO.DB.Unlimited},{label:o.o.t("user_quota"),value:eO.DB.User}]})},e4=n("420136"),e6={};e6.styleTagTransform=w(),e6.setAttributes=f(),e6.insert=g().bind(null,"head"),e6.domAPI=x(),e6.insertStyleElement=j(),m()(e4.Z,e6);var e3=e4.Z&&e4.Z.locals?e4.Z.locals:void 0,e8=e=>{var t,{usageConfig:n,onOk:r,onCancel:p,visible:_}=e,m=(0,a.useRef)(),[u,x]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),v=(0,ev.F2)(),{entityType:f,entityId:b}=n,{runAsync:j,loading:y}=(0,s.Z)((0,ef._)(function*(){var e,t=yield null===(e=m.current)||void 0===e?void 0:e.validate();if(t){if(f===l.ol.CozeUserID&&t.strategy===eO.DB.User&&!t.fixed_limiter_enable&&!t.period_limiter_enable)return c.Toast.warning({content:o.o.t("quota_user_strategy_ verify_error")}),!1;var n=function(e,t){var n={};if(t===l.ol.CozeRole)n={fixed_limiter_enable:{[l.Sj.ResourcePoint]:e.fixed_limiter_enable},fixed_benefit:{[l.Sj.ResourcePoint]:[{limit:e.fixed_benefit}]},period_limiter_enable:{[l.Sj.ResourcePoint]:e.period_limiter_enable},period_benefit:{[l.Sj.ResourcePoint]:[{limit:e.period_benefit}]}};else{var r,i=null!==(r=e.strategy)&&void 0!==r?r:eO.DB.Role;i!==eO.DB.User?n.strategy=i:n={fixed_limiter_enable:{[l.Sj.ResourcePoint]:e.fixed_limiter_enable},fixed_benefit:{[l.Sj.ResourcePoint]:[{limit:e.fixed_benefit}]},period_limiter_enable:{[l.Sj.ResourcePoint]:e.period_limiter_enable},period_benefit:{[l.Sj.ResourcePoint]:[{limit:e.period_benefit}]},strategy:eO.DB.User}}return n}(t,f);return yield d.c3.PublicModifyUserBenefitLimitation((0,eU._)({enterprise_id:v,entity_type:f,entity_ids:Array.isArray(b)?b:[b],limitation_data:(0,eQ.Z)(n,["strategy"])},n.strategy?{strategy:t.strategy}:{})),!0}}),{manual:!0,refreshDeps:[v,f,b]});return(0,i.jsx)(c.Modal,{title:"".concat(f===l.ol.CozeRole?o.o.t("role_quota_config"):o.o.t("user_quota_config")),visible:_,keepDOM:!1,width:480,onCancel:()=>{null==p||p()},footer:(t=(f!==l.ol.CozeUserID||Array.isArray(b))&&(u||h)?(0,i.jsx)(c.Popconfirm,{title:o.o.t("excess_staff_config"),content:o.o.t("save_overlimit_disable"),position:"top",onConfirm:(0,ef._)(function*(){(yield j())&&(yield null==r?void 0:r())}),cancelText:o.o.t("Cancel"),okText:o.o.t("Save"),okButtonProps:{loading:y},children:(0,i.jsx)(c.Button,{color:"brand",children:o.o.t("Save")})}):(0,i.jsx)(c.Button,{color:"brand",onClick:(0,ef._)(function*(){(yield j())&&(yield null==r?void 0:r())}),loading:y,children:o.o.t("Save")}),(0,i.jsxs)(c.Space,{children:[(0,i.jsx)(c.Button,{color:"primary",onClick:()=>null==p?void 0:p(),children:o.o.t("Cancel")}),t]})),children:(0,i.jsxs)(c.Modal.Content,{className:"flex flex-col gap-[24px]",children:[(0,i.jsx)(eW,{usageConfig:n}),(0,i.jsx)(c.Form,{className:e3.form,getFormApi:e=>m.current=e,children:e=>{var{formState:t}=e,{strategy:r}=t.values;return(0,i.jsxs)("div",{className:"flex flex-col gap-[12px]",children:[(0,i.jsx)(e2,{usageConfig:n}),r===eO.DB.User||f===l.ol.CozeRole?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eJ,(0,eY._)((0,eU._)({},n),{benefitType:"fixed",onOverLimitUserChange:e=>x(e>0)})),(0,i.jsx)(eJ,(0,eY._)((0,eU._)({},n),{benefitType:"period",onOverLimitUserChange:e=>g(e>0)}))]}):null]})}})]})})},e5=e=>{var{onOk:t,onCancel:n,visible:r}=e,{usageConfig:a}=eE((0,eP.N)(e=>({usageConfig:e.usageConfig})));return a?(0,i.jsx)(e8,{usageConfig:a,onOk:t,onCancel:n,visible:r}):null},e9=n("556923"),e7=n("466345"),te={};te.styleTagTransform=w(),te.setAttributes=f(),te.insert=g().bind(null,"head"),te.domAPI=x(),te.insertStyleElement=j(),m()(e7.Z,te);var tt=e7.Z&&e7.Z.locals?e7.Z.locals:void 0,tn=e=>{var{children:t,className:n}=e,r=(0,e9._)(e,["children","className"]);return(0,i.jsx)(c.Collapse,(0,eY._)((0,eU._)({},r),{collapseIcon:(0,i.jsx)(E.Wdl,{}),expandIcon:(0,i.jsx)(E.uDC,{}),expandIconPosition:"left",className:q()(tt.collapse,n),children:t}))},tr=e=>{var{children:t,className:n}=e,r=(0,e9._)(e,["children","className"]);return(0,i.jsx)(c.Collapse.Panel,(0,eY._)((0,eU._)({},r),{className:q()(tt.collapsePanel,n),children:t}))},ti=n("916697"),ta=n("765337"),ts=()=>{var{isBatchConfiguring:e,batchConfigSelectedRowKeys:t,setBatchConfigSelectedRowKeys:n}=eE((0,eP.N)(e=>({isBatchConfiguring:e.isBatchConfiguring,batchConfigSelectedRowKeys:e.batchConfigSelectedRowKeys,setBatchConfigSelectedRowKeys:e.setBatchConfigSelectedRowKeys})));if(!!e)return{selectedRowKeys:t,onChange:e=>{n(e)},getCheckboxProps:e=>({disabled:"EnterpriseSuperAdmin"===e.user_role})}},tl=n("32888"),to={};to.styleTagTransform=w(),to.setAttributes=f(),to.insert=g().bind(null,"head"),to.domAPI=x(),to.insertStyleElement=j(),m()(tl.Z,to);var tc=tl.Z&&tl.Z.locals?tl.Z.locals:void 0,td=e=>{var{setUsageConfig:t,openUsageUserSummary:n,openUsageConfigModal:r}=e;return[{title:o.o.t("enterprise_member_management_page_tab1_member_list_username"),dataIndex:"user_name",key:"user_name",render:(e,t)=>(0,i.jsxs)("div",{className:"w-full flex items-start gap-[8px]",children:[(0,i.jsx)(c.Avatar,{src:t.avatar,size:"extra-small",className:"flex-shrink-0"}),(0,i.jsxs)("div",{className:"w-full flex flex-col",children:[(0,i.jsx)(c.Typography.Text,{ellipsis:{rows:1,showTooltip:!0},className:"text-[14px] leading-[20px] font-medium coz-fg-primary",weight:500,children:e}),(0,i.jsxs)(c.Typography.Text,{className:"text-[14px] leading-[20px]  coz-fg-secondary",ellipsis:{rows:1,showTooltip:!0},weight:400,children:["@",t.nick_name]})]})]}),width:160,align:"left"},{title:o.o.t("enterprise_member_management_page_tab1_member_list_role"),dataIndex:"user_role",key:"user_role",render:(e,t)=>{var n={EnterpriseAdmin:o.o.t("enterprise_role_admin",{},"\u7BA1\u7406\u5458"),EnterpriseMember:o.o.t("enterprise_role_normal_member",{},"\u6210\u5458"),EnterpriseGuest:o.o.t("enterprise_member_list_character_guest",{},"\u8BBF\u5BA2"),EnterpriseSuperAdmin:o.o.t("enterprise_basic_user_not_in_apply_page_admin_tag",{},"\u8D85\u7EA7\u7BA1\u7406\u5458")}[e];return(0,i.jsx)(c.Tag,{size:"small",color:"primary",className:"py-[2px] px-[4px]",children:"".concat(n||"").concat(t.is_enterprise_member?"":" | ".concat(o.o.t("enterprise_workspace_card_tag_unadded")))})},width:96,align:"left"},{title:o.o.t("cumulative_consumption"),dataIndex:"total_credit",key:"total_credit",sorter:!0,render:e=>(0,i.jsx)(c.Typography.Text,{className:"text-[14px] leading-[20px] font-medium coz-fg-primary",ellipsis:{rows:1,showTooltip:!0},children:eV(e)}),align:"left"},{title:o.o.t("monthly_consumption"),dataIndex:"monthly_credit",key:"monthly_credit",sorter:!0,align:"left",render:e=>(0,i.jsx)(c.Typography.Text,{className:"text-[14px] leading-[20px] font-medium coz-fg-primary",ellipsis:{rows:1,showTooltip:!0},children:eV(e)})},{title:o.o.t("limit_usage_on"),dataIndex:"limit_credit",render:(e,t)=>{if("EnterpriseSuperAdmin"===t.user_role)return"-";var{fix_limiter:n,monthly_limiter:r}=t,{current:a,limit:s}=n||{},{current:l,limit:d}=r||{},p=(e,t)=>void 0===e?o.o.t("no_content"):void 0===t?e:"".concat(eV(e)," (").concat((e/t*100).toFixed(2),"%)"),_=(e,t)=>void 0!==e&&void 0!==t&&e>=t;return(0,i.jsxs)("div",{className:"w-full flex flex-col items-start justify-center gap-[2px]",children:[(0,i.jsxs)(c.Typography.Text,{className:"text-[14px] leading-[20px] font-normal whitespace-nowrap ".concat(_(a,s)?"coz-fg-hglt-yellow":"coz-fg-primary"),ellipsis:{rows:1,showTooltip:!0},children:[o.o.t("cumulative consumption"),":"," ",p(a,s)]}),(0,i.jsxs)(c.Typography.Text,{ellipsis:{rows:1,showTooltip:!0},className:"text-[14px] leading-[20px] font-normal whitespace-nowrap ".concat(_(l,d)?"coz-fg-hglt-yellow":"coz-fg-primary"),children:[o.o.t("monthly_consumption"),":"," ",p(l,d)]})]})},width:200,align:"left"},{title:o.o.t("quota_config"),dataIndex:"limit_config",render:(e,t)=>{if("EnterpriseSuperAdmin"===t.user_role)return"-";var{fix_limiter:n,monthly_limiter:r,fix_limiter_enable:a,monthly_limiter_enable:s}=t,{limit:l}=n||{},{limit:d}=r||{},p=(e,t)=>void 0!==e&&t?eV(e):o.o.t("coze_custom_publish_platform_14");return(0,i.jsx)("div",{className:"w-full flex flex-col items-start justify-center gap-[2px]",children:a||s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(c.Typography.Text,{className:"text-[14px] leading-[20px] font-normal coz-fg-primary whitespace-nowrap",ellipsis:{rows:1,showTooltip:!0},children:[o.o.t("cumulative limit"),":"," ",p(l,a)]}),(0,i.jsxs)(c.Typography.Text,{ellipsis:{rows:1,showTooltip:!0},className:"text-[14px] leading-[20px] font-normal coz-fg-primary whitespace-nowrap",children:[o.o.t("monthly_quota_min"),":"," ",p(d,s)]})]}):(0,i.jsx)("div",{className:"text-[14px] leading-[20px] font-normal coz-fg-primary",children:o.o.t("no_config")})})},width:160,align:"left"},{title:o.o.t("quota status"),dataIndex:"limit_status",render:(e,t)=>{if("EnterpriseSuperAdmin"===t.user_role)return"-";var{fix_limiter:n,monthly_limiter:r}=t;if(void 0===n&&void 0===r)return(0,i.jsx)(c.Tag,{size:"small",color:"primary",className:"py-[2px] px-[4px]",children:o.o.t("not limited")});var{current:a,limit:s}=n||{},{current:l,limit:d}=r||{},p=(e,t)=>void 0!==e&&void 0!==t&&e>=t;return p(a,s)||p(l,d)?(0,i.jsxs)("div",{className:"w-full flex flex-col items-start justify-center gap-[4px]",children:[p(a,s)?(0,i.jsx)(c.Tag,{size:"small",color:"yellow",className:"py-[2px] px-[4px]",children:o.o.t("cumulative limit reached")}):null,p(l,d)?(0,i.jsx)(c.Tag,{size:"small",color:"yellow",className:"py-[2px] px-[4px]",children:o.o.t("monthly_limit_reached")}):null]}):(0,i.jsx)(c.Tag,{size:"small",color:"green",className:"py-[2px] px-[4px]",children:o.o.t("no_reach_limit")})},width:96,align:"left"},{title:o.o.t("quota_strategy"),dataIndex:"strategy",render:(e,t)=>{if("EnterpriseSuperAdmin"===t.user_role)return"-";var n={[eO.DB.Role]:o.o.t("role_quota"),[eO.DB.User]:o.o.t("user_quota"),[eO.DB.Unlimited]:o.o.t("quota_unlimited")}[e||eO.DB.Role];return(0,i.jsx)(c.Tag,{size:"small",color:"primary",className:"py-[2px] px-[4px]",children:n})},width:96,align:"left"},{title:o.o.t("Actions"),dataIndex:"action",render:(e,a)=>(0,i.jsxs)("div",{className:"w-full flex items-center justify-start gap-[6px]",children:[(0,i.jsx)(c.Button,{size:"small",theme:"borderless",color:"secondary",onClick:()=>{if(!!a.coze_user_id)n(a)},className:" !coz-fg-hglt !font-normal",children:o.o.t("item details")}),(0,i.jsx)(c.Button,{size:"small",theme:"borderless",color:"secondary",className:"EnterpriseSuperAdmin"===a.user_role?"!font-normal":"!coz-fg-hglt !font-normal",disabled:"EnterpriseSuperAdmin"===a.user_role,onClick:()=>{if(!!a.coze_user_id&&"EnterpriseSuperAdmin"!==a.user_role){var{fix_limiter:e,monthly_limiter:n,fix_limiter_enable:i,monthly_limiter_enable:s,strategy:o}=a,c={fixed_limiter_enable:{[l.Sj.ResourcePoint]:!!i},period_limiter_enable:{[l.Sj.ResourcePoint]:!!s},fixed_benefit:{[l.Sj.ResourcePoint]:e&&i?[(0,eU._)({},e||{})]:[]},period_benefit:{[l.Sj.ResourcePoint]:n&&s?[(0,eU._)({},n||{})]:[]},strategy:o};t({entityType:l.ol.CozeUserID,entityId:String(a.coze_user_id),limitationData:c,avatar:a.avatar,userName:a.user_name}),r()}},children:(0,i.jsx)(c.Tooltip,{content:"EnterpriseSuperAdmin"===a.user_role?o.o.t("super_admin_no_limit"):"",children:o.o.t("user_profile_title")})})]}),width:82,align:"left"}]},tp=e=>{var t,{data:n,loading:r,total:s,tableRef:l,clearTableFilter:d,openUsageConfigModal:p}=e,{setUsageQueryTableParams:_,usageQueryTableParams:m,usageQuerySearchKey:u,usageQueryConditions:x,setUsageConfig:h,openUsageUserSummary:g}=eE((0,eP.N)(e=>({setUsageQueryTableParams:e.setUsageQueryTableParams,usageQueryTableParams:e.usageQueryTableParams,usageQuerySearchKey:e.usageQuerySearchKey,usageQueryConditions:e.usageQueryConditions,setUsageConfig:e.setUsageConfig,openUsageUserSummary:e.openUsageUserSummary}))),v=ts(),f=(0,a.useMemo)(()=>td({setUsageConfig:h,openUsageUserSummary:g,openUsageConfigModal:p}),[h,p]),b=!!u||!!(null==x?void 0:null===(t=x.condition_list)||void 0===t?void 0:t.length);return(0,i.jsx)("div",{className:q()(["overflow-auto","[&_.semi-table-body]:!max-h-[unset]","[&_.semi-table-header]:sticky","[&_.semi-table-header]:z-[1]"]),children:(0,i.jsx)(c.Table,{tableProps:{columns:f,bordered:!1,dataSource:n,rowKey:"coze_user_id",loading:r,onChange:e=>{var{sorter:t}=e;if(t){var{dataIndex:n,sortOrder:r}=t,i={total_credit:ti.x7.BalanceTotal,monthly_credit:ti.x7.BalanceMonthly}[n];r&&_((0,eY._)((0,eU._)({},m,eZ),{order_by_type:"ascend"===r?ti.Kp.Asc:ti.Kp.Desc,order_by_field:i}))}},rowSelection:v},ref:l,total:Number(s),enableLoad:!0,className:tc.table,onLoad:()=>{var e;_((0,eY._)((0,eU._)({},m),{page:(null!==(e=null==m?void 0:m.page)&&void 0!==e?e:0)+1}))},empty:(0,i.jsx)(c.EmptyState,{size:"full_screen",className:"my-[100px]",icon:(0,i.jsx)(ta.Zo,{}),title:o.o.t("release_management_search_no"),buttonText:b?o.o.t("library_empty_clear_filters"):void 0,onButtonClick:d})})})},t_=n("753940"),tm=n("754152"),tu={};tu.styleTagTransform=w(),tu.setAttributes=f(),tu.insert=g().bind(null,"head"),tu.domAPI=x(),tu.insertStyleElement=j(),m()(tm.Z,tu);var tx=tm.Z&&tm.Z.locals?tm.Z.locals:void 0,th=()=>{var{summaryUserInfo:e,closeUsageUserSummary:t}=eE((0,eP.N)(e=>({summaryUserInfo:e.summaryUserInfo,closeUsageUserSummary:e.closeUsageUserSummary})));return(0,i.jsx)(c.Modal,{width:"800px",height:740,title:(0,i.jsxs)("div",{className:"flex items-center gap-[4px]",children:[(0,i.jsx)(c.CozAvatar,{src:null==e?void 0:e.avatar,size:"default"}),(0,i.jsxs)(c.Typography.Text,{className:"coz-fg-plus text-[16px] leading-[28px]",weight:500,children:[null==e?void 0:e.nick_name," ",o.o.t("consumption_details")]})]}),visible:!!e,onCancel:()=>t(),className:tx.modal,footer:(0,i.jsx)(i.Fragment,{}),children:(0,i.jsx)("div",{className:tx.container,children:(0,i.jsx)(t_.kK,{showTitle:!1,billOwner:ti.zH.CozeUser,targetCozeUserId:null==e?void 0:e.coze_user_id,renderMiddleSlot:t=>{var{filterDate:n,filterItems:r}=t;return(0,i.jsx)(t_.B,{filterDate:n,filterItems:r,targetCozeUserId:null==e?void 0:e.coze_user_id})}})})})},tg=n("166011"),tv=n("730444"),tf=n("834708"),tb={};tb.styleTagTransform=w(),tb.setAttributes=f(),tb.insert=g().bind(null,"head"),tb.domAPI=x(),tb.insertStyleElement=j(),m()(tf.Z,tb);var tj=tf.Z&&tf.Z.locals?tf.Z.locals:void 0,ty=(0,a.forwardRef)((e,t)=>{var{onClose:n,onChange:r}=e,s=(0,a.useRef)(),{usageQueryConditions:l,setUsageQueryConditions:d}=eE((0,eP.N)(e=>({usageQueryConditions:e.usageQueryConditions,setUsageQueryConditions:e.setUsageQueryConditions})));return(0,a.useImperativeHandle)(t,()=>({getFormData:()=>{var e;return null===(e=s.current)||void 0===e?void 0:e.getValues()}})),(0,i.jsxs)("div",{className:"w-[432px] p-[16px] flex flex-col gap-[16px]",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("span",{className:"text-[16px] leading-[22px] font-medium coz-fg-plus",children:o.o.t("filter_conditions")}),(0,i.jsx)(c.Button,{color:"secondary",icon:(0,i.jsx)(E.rmE,{}),size:"default",onClick:n})]}),(0,i.jsxs)(c.Form,{allowEmpty:!0,className:tj.form,getFormApi:e=>{s.current=e},onValueChange:e=>{null==r||r(e)},children:[(0,i.jsxs)("div",{className:"flex items-center gap-[8px] mb-[16px]",children:[(0,i.jsx)("span",{className:"text-[14px] text-gray-700",children:o.o.t("ui_js_expression_setter_meet_the_following_requirements")}),(0,i.jsx)(c.FormSelect,{field:"merge_type",noLabel:!0,style:{width:80},size:"small",optionList:[{label:o.o.t("ui_js_expression_setter_and"),value:ti.TX.AND},{label:o.o.t("ui_js_expression_setter_or"),value:ti.TX.OR}],initValue:(null==l?void 0:l.merge_type)||ti.TX.AND}),(0,i.jsx)("span",{className:"text-[14px] text-gray-700",children:o.o.t("members_filtered")})]}),(0,i.jsx)("div",{className:"flex flex-col gap-[8px]",children:(0,i.jsx)(c.ArrayField,{field:"condition_list",initValue:(null==l?void 0:l.condition_list)||[],children:e=>{var{arrayFields:t,addWithInitValue:n}=e;return(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)("div",{className:"flex flex-col gap-[8px]  max-h-[348px] overflow-y-auto ".concat(tj.container),children:t.map(e=>{var{field:t,key:n,remove:r}=e;return(0,i.jsxs)("div",{className:"flex items-center gap-[6px]",children:[(0,i.jsx)("div",{className:"w-[136px] flex-shrink-0",children:(0,i.jsx)(c.FormSelect,{field:"".concat(t,"[field]"),label:"".concat(t,".field"),noLabel:!0,className:"w-full",optionList:[{label:o.o.t("cumulative consumption"),value:ti.wR.TotalResourcePointUsage},{label:o.o.t("every_monthly_consumption"),value:ti.wR.CurrentMonthResourcePointUsage}]})}),(0,i.jsx)("div",{className:"w-[80px] flex-shrink-0",children:(0,i.jsx)(c.FormSelect,{field:"".concat(t,"[op]"),label:"".concat(t,".op"),noLabel:!0,className:"w-full",optionList:[{label:o.o.t("workflow_condition_operation_greater_than"),value:ti.yh.Larger},{label:o.o.t("workflow_condition_operation_less_than"),value:ti.yh.Less}]})}),(0,i.jsx)("div",{className:"flex-1",children:(0,i.jsx)(c.FormInputNumber,{field:"".concat(t,"[value]"),label:"".concat(t,".value"),noLabel:!0,className:"w-full",innerButtons:!0})}),(0,i.jsx)(c.Button,{color:"secondary",onClick:r,icon:(0,i.jsx)(E.dVD,{}),className:"flex-shrink-0"})]},n)})}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)(c.SemiButton,{onClick:()=>n({field:ti.wR.TotalResourcePointUsage,op:ti.yh.Larger,value:0}),icon:(0,i.jsx)(E.PwN,{}),style:{"--semi-color-primary":"var(--coz-fg-hglt)"},theme:"borderless",children:o.o.t("add_filter_condition")}),(0,i.jsx)(c.SemiButton,{onClick:()=>{var e,t;null===(e=s.current)||void 0===e||e.setValue("condition_list",[]),null===(t=s.current)||void 0===t||t.setValue("merge_type",ti.TX.AND),d({})},theme:"borderless",style:{"--semi-color-primary":"var(--coz-fg-secondary)"},children:o.o.t("clear_filters")})]})]})}})})]})]})}),tw=e=>{var t,n,r,{resetTable:s,data:l}=e,[d,p]=(0,a.useState)(!1),_=(0,a.useRef)(null),[m,u]=(0,a.useState)(),{setUsageQuerySearchKey:x,setIsBatchConfiguring:h,isBatchConfiguring:g,setUsageQueryConditions:v,usageQuerySearchKey:f,usageQueryConditions:b}=eE((0,eP.N)(e=>({setUsageQuerySearchKey:e.setUsageQuerySearchKey,setIsBatchConfiguring:e.setIsBatchConfiguring,isBatchConfiguring:e.isBatchConfiguring,setUsageQueryConditions:e.setUsageQueryConditions,usageQuerySearchKey:e.usageQuerySearchKey,usageQueryConditions:e.usageQueryConditions})));return(0,tv.Z)(()=>{u(b)},[b]),(0,i.jsxs)("div",{className:"flex flex-col gap-[12px] ",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)(c.Popover,{position:"bottomLeft",content:(0,i.jsx)(ty,{onClose:()=>p(!1),ref:_,onChange:e=>{u((0,eU._)({},e))}}),visible:d,keepDOM:!1,trigger:"custom",onClickOutSide:()=>p(!1),onVisibleChange:e=>{if(!e){var t,n=null===(t=_.current)||void 0===t?void 0:t.getFormData();n&&(v((0,eU._)({},n)),s())}},children:(0,i.jsx)(c.Button,{color:(null==m?void 0:null===(t=m.condition_list)||void 0===t?void 0:t.length)?"highlight":"primary",icon:(0,i.jsx)(E.vlS,{}),onClick:()=>{p(!0)},children:(null==m?void 0:null===(n=m.condition_list)||void 0===n?void 0:n.length)?null==m?void 0:null===(r=m.condition_list)||void 0===r?void 0:r.length:o.o.t("dosage_screening")})}),(0,i.jsxs)("div",{className:"flex items-center gap-[12px]",children:[(0,i.jsx)(c.Search,{className:"w-[200px]",placeholder:o.o.t("enterprise_management_permission_settings_other_enter_guest_list_search"),showClear:!0,onSearch:(0,tg.Z)(e=>{s(),x(e)},500),value:null!=f?f:""}),(0,i.jsx)(c.Button,{color:g?"primary":"brand",onClick:()=>h(!g),disabled:0===l.length,children:g?o.o.t("exit_config"):o.o.t("publish_channel_control_page_channel_set_pop_button5")})]})]}),(0,i.jsxs)("p",{className:"text-[14px] leading-[20px] font-normal coz-fg-secondary",children:["*",o.o.t("show_users_with_history")]})]})},tN=e=>{var{data:t,openUsageConfigModal:n}=e,{isBatchConfiguring:r,setIsBatchConfiguring:s,batchConfigSelectedRowKeys:d,setBatchConfigSelectedRowKeys:p,setUsageConfig:_}=eE((0,eP.N)(e=>({isBatchConfiguring:e.isBatchConfiguring,setIsBatchConfiguring:e.setIsBatchConfiguring,batchConfigSelectedRowKeys:e.batchConfigSelectedRowKeys,setBatchConfigSelectedRowKeys:e.setBatchConfigSelectedRowKeys,setUsageConfig:e.setUsageConfig}))),m=(0,a.useMemo)(()=>t.filter(e=>null==d?void 0:d.includes(e.coze_user_id)),[t,d]);return r?(0,i.jsx)("div",{className:"fixed z-[999] bottom-[18px] left-[50%] translate-x-[-50%] w-[441px] h-[48px] coz-bg-max coz-shadow-large rounded-[12px] border-[0.5px] border-solid coz-stroke-primary pl-[16px] pr-[8px] py-[8px]",children:(0,i.jsxs)("div",{className:"flex items-center justify-center gap-[12px]",children:[(0,i.jsxs)("div",{className:"flex items-center justify-start flex-1",children:[(0,i.jsx)(c.Checkbox,{indeterminate:null!=d&&!!d.length&&!!((null==d?void 0:d.length)<t.length),checked:null!=d&&!!d.length&&(null==d?void 0:d.length)===t.length,"aria-label":o.o.t("batch_select_all"),onChange:e=>{e.target.checked?p(null==t?void 0:t.filter(e=>"EnterpriseSuperAdmin"!==e.user_role).map(e=>e.coze_user_id).filter(Boolean)):p([])},children:o.o.t("enterprise_member_apply_opt_operate_button1_all")}),(0,i.jsxs)("p",{className:"coz-fg-primary text-[14px] leading-[20px]",children:["\uFF08",o.o.t("selected_items",{cnt:(null==d?void 0:d.length)||0}),"\uFF09"]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-center gap-[8px]",children:[(0,i.jsx)(c.Button,{color:"primary",onClick:()=>s(!1),children:o.o.t("exit_config")}),(0,i.jsx)(c.Button,{color:"brand",onClick:()=>{_({entityType:l.ol.CozeUserID,entityId:m.map(e=>String(e.coze_user_id)),avatar:m.map(e=>e.avatar),userName:m.map(e=>e.user_name)}),n()},disabled:0===m.length,children:o.o.t("user_profile_title")})]})]})}):null},tz=e=>{var{totalCredit:t,monthlyCredit:n,startTimestamp:r}=e,s=(0,a.useMemo)(()=>r?o.o.t("member_usage_stats",{date:eF()(1e3*r).format("YYYY-MM-DD")}):"",[r]);return(0,i.jsxs)("div",{className:"flex items-center justify-center gap-[10px] border-[0.67px] p-[20px] rounded-[12px] border-solid coz-bg-max coz-stroke-primary",children:[(0,i.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-[12px] py-[8px]",children:[(0,i.jsx)("p",{className:"coz-fg-plus text-[20px] leading-[26px] font-medium",children:eV(t)}),(0,i.jsxs)("p",{className:"flex items-center gap-[4px] coz-fg-secondary text-[14px] leading-[20px] font-medium",children:[o.o.t("historical_resource_consumption"),(0,i.jsx)(c.Tooltip,{content:s,trigger:"hover",children:(0,i.jsx)(E.L03,{className:"w-[14px] h-[14px] coz-fg-secondary"})})]})]}),(0,i.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-[12px] py-[8px]",children:[(0,i.jsx)("p",{className:"coz-fg-plus text-[20px] leading-[26px] font-medium",children:eV(n)}),(0,i.jsx)("p",{className:"coz-fg-secondary text-[14px] leading-[20px] font-medium",children:o.o.t("total_usage_this_month")})]})]})},tC=(0,a.forwardRef)((e,t)=>{var n,r,l,p,_,m=(0,ev.F2)(),[u,x]=(0,a.useState)(),[h,g]=(0,a.useState)(!1),{usageQueryConditions:v,usageQuerySearchKey:f,usageQueryTableParams:b,userLimitationValidTime:j,setUsageQuerySearchKey:y,setUsageQueryConditions:w,setUsageQueryTableParams:N,setUsageConfig:z,setIsBatchConfiguring:C}=eE((0,eP.N)(e=>({usageQueryConditions:e.usageQueryConditions,usageQuerySearchKey:e.usageQuerySearchKey,usageQueryTableParams:e.usageQueryTableParams,userLimitationValidTime:e.userLimitationValidTime,setUsageQuerySearchKey:e.setUsageQuerySearchKey,setUsageQueryConditions:e.setUsageQueryConditions,setUsageQueryTableParams:e.setUsageQueryTableParams,setIsBatchConfiguring:e.setIsBatchConfiguring,setUsageConfig:e.setUsageConfig}))),k=(0,a.useRef)(null),{data:T,loading:S,runAsync:A}=(0,s.Z)((0,ef._)(function*(){return m?(yield d.c3.PublicAdminListUserCredit((0,eU._)({query_conditions:v,enterprise_id:m,name:f},b||{}))).data:null}),{refreshDeps:[v,f,m,b],debounceMaxWait:500,onSuccess:e=>{x((null==e?void 0:e.total)?Number(null==e?void 0:e.total):void 0)}}),B=()=>{var e;null===(e=k.current)||void 0===e||e.reset()};var P=(n=(0,ef._)(function*(){B(),yield A()}),function(){return n.apply(this,arguments)});return(0,a.useImperativeHandle)(t,()=>({refreshTable:P})),(0,i.jsxs)("div",{className:"w-full flex flex-col  gap-[12px]",children:[(0,i.jsx)(tn,{defaultActiveKey:["usage_query"],children:(0,i.jsx)(tr,{header:(0,i.jsxs)("p",{className:"flex items-center gap-[4px] coz-fg-primary text-[16px] leading-[22px] font-medium",children:[o.o.t("usage_query"),(0,i.jsx)(c.Tooltip,{content:o.o.t("member_consumption_stats"),trigger:"hover",children:(0,i.jsx)(E.L03,{className:"w-[14px] h-[14px] coz-fg-secondary"})})]}),itemKey:"usage_query",children:(0,i.jsx)(tz,{totalCredit:Number(null!==(p=null==T?void 0:T.total_credit)&&void 0!==p?p:0),monthlyCredit:Number(null!==(_=null==T?void 0:T.monthly_credit)&&void 0!==_?_:0),startTimestamp:j})})}),(0,i.jsxs)("div",{className:"max-h-[calc(100vh-130px)] flex flex-col item-center justify-center coz-bg-max coz-stroke-primary border-[0.67px] border-solid rounded-[12px] gap-[20px] p-[16px]",children:[(0,i.jsx)(tw,{resetTable:B,data:(null===(r=k.current)||void 0===r?void 0:r.getTableList())||[]}),(0,i.jsx)(tp,{loading:S,data:(null==T?void 0:T.user_credit_infos)||[],total:u,tableRef:k,clearTableFilter:()=>{y(""),w({}),N(eZ)},openUsageConfigModal:()=>g(!0)}),(0,i.jsx)(tN,{data:(null===(l=k.current)||void 0===l?void 0:l.getTableList())||[],openUsageConfigModal:()=>g(!0)}),(0,i.jsx)(th,{}),(0,i.jsx)(e5,{onOk:(0,ef._)(function*(){z(void 0),g(!1),C(!1),yield P()}),onCancel:()=>{z(void 0),g(!1)},visible:h})]})]})}),tk=["EnterpriseAdmin","EnterpriseMember","EnterpriseGuest"],tT={EnterpriseAdmin:{bgClass:"coz-mg-hglt-secondary-hovered",iconClass:"coz-fg-hglt",title:o.o.t("enterprise_role_admin",{},"\u7BA1\u7406\u5458")},EnterpriseMember:{bgClass:"coz-mg-color-blue",iconClass:"coz-fg-color-blue",title:o.o.t("enterprise_role_normal_member",{},"\u6210\u5458")},EnterpriseGuest:{bgClass:"coz-mg-primary",iconClass:"coz-fg-primary",title:o.o.t("enterprise_member_list_character_guest",{},"\u8BBF\u5BA2")}},tS=e=>{var[t,n]=(0,a.useState)(!1),{role:r,number:p,onEditUsageConfig:_}=e,m=(0,ev.F2)(),{setUsageConfig:u}=eE((0,eP.N)(e=>({setUsageConfig:e.setUsageConfig}))),{data:x,run:h}=(0,s.Z)((0,ef._)(function*(){return(yield d.c3.PublicAdminListUserBenefitLimitation({entity_type:l.ol.CozeRole,entity_id:r,enterprise_id:m,benefit_type:l.Sj.ResourcePoint})).data}),{refreshDeps:[m,r]}),g=e=>{if(!x)return"";if("fixed"===e){if(!(null===(t=x.fixed_limiter_enable)||void 0===t?void 0:t[l.Sj.ResourcePoint]))return o.o.t("not limited");var t,n,r,i,a=null===(i=x.fixed_benefit)||void 0===i?void 0:null===(r=i[l.Sj.ResourcePoint])||void 0===r?void 0:null===(n=r[0])||void 0===n?void 0:n.limit;return"number"==typeof a?eV(a):o.o.t("not limited")}if("period"===e){if(!(null===(s=x.period_limiter_enable)||void 0===s?void 0:s[l.Sj.ResourcePoint]))return o.o.t("not limited");var s,c,d,p,_=null===(p=x.period_benefit)||void 0===p?void 0:null===(d=p[l.Sj.ResourcePoint])||void 0===d?void 0:null===(c=d[0])||void 0===c?void 0:c.limit;return"number"==typeof _?eV(_):o.o.t("not limited")}};return(0,i.jsxs)("div",{className:"flex flex-col flex-1 coz-mg-card coz-stroke-primary border-[0.67px] border-solid rounded-[12px] p-[16px] gap-[20px]",children:[(0,i.jsxs)("div",{className:"flex gap-[10px] items-center",children:[(0,i.jsxs)("div",{className:"flex-1 flex items-center gap-[12px]",children:[(0,i.jsx)("div",{className:"flex items-center justify-center w-[32px] h-[32px] rounded-[8px] ".concat(tT[r].bgClass),children:(0,i.jsx)(E.p5T,{style:{width:"18px",height:"18px"},className:tT[r].iconClass})}),(0,i.jsxs)("p",{className:"text-[16px] leading-[22px] font-medium",children:[tT[r].title,(0,i.jsx)("span",{className:"coz-fg-secondary",children:" \xb7 ".concat(o.o.t("people_count",{number:null!=p?p:0}))})]})]}),(0,i.jsx)(c.Button,{icon:(0,i.jsx)(E.JAz,{style:{width:"18px",height:"18px",color:"var(--coz-fg-secondary)"}}),onClick:()=>{x&&(u({entityType:l.ol.CozeRole,entityId:r,userCount:null!=p?p:0,limitationData:x}),n(!0))},color:"secondary"})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-[8px]",children:[(0,i.jsxs)("p",{className:"coz-fg-secondary text-[14px] leading-[20px] font-medium",children:[o.o.t("cumulative limit"),"\uFF1A",g("fixed")]}),(0,i.jsxs)("p",{className:"coz-fg-secondary text-[14px] leading-[20px] font-medium",children:[o.o.t("monthly_quota"),"\uFF1A",g("period")]})]}),(0,i.jsx)(e5,{visible:t,onCancel:()=>{n(!1),u(void 0)},onOk:(0,ef._)(function*(){yield h(),_&&(yield _()),n(!1),u(void 0)})})]})},tA=e=>{var t,{onEditUsageConfig:n}=e,[r,s]=(0,a.useState)(),l=(0,ev.F2)();var c=(0,a.useCallback)((t=(0,ef._)(function*(e){if(!l)return 0;var t,n,r=yield d.f_.SearchEnterprisePeople({enterprise_id:l,page:1,page_size:1,enterprise_role_type_list:[e],need_volcano_user_info:!1,need_people_number:!1});return null!==(n=null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.total)&&void 0!==n?n:0}),function(e){return t.apply(this,arguments)}),[l]);return(0,a.useEffect)(()=>{var e;(e=(0,ef._)(function*(){var[e,t,n]=yield Promise.all([c(A.gY.admin),c(A.gY.member),c(A.gY.guest)]);s({EnterpriseAdmin:Number(e),EnterpriseMember:Number(t),EnterpriseGuest:Number(n)})}),function(){return e.apply(this,arguments)})()},[c]),(0,i.jsx)(tn,{defaultActiveKey:["role_quota_config"],children:(0,i.jsx)(tr,{header:(0,i.jsx)("p",{className:"coz-fg-primary text-[16px] leading-[22px] font-medium",children:o.o.t("role_quota_config")}),itemKey:"role_quota_config",children:(0,i.jsx)("div",{className:"w-full flex-shrink-0 flex flex-col gap-[12px]",children:(0,i.jsx)("div",{className:"flex items-center gap-[12px]",children:tk.map(e=>(0,i.jsx)(tS,{role:e,number:null==r?void 0:r[e],onEditUsageConfig:n},e))})})})})},tB=n.p+"static/image/team-level-onboarding.82dc82f9.png",tP=n("689112"),tI={};tI.styleTagTransform=w(),tI.setAttributes=f(),tI.insert=g().bind(null,"head"),tI.domAPI=x(),tI.insertStyleElement=j(),m()(tP.Z,tI);var tR=tP.Z&&tP.Z.locals?tP.Z.locals:void 0,tM=()=>{var e=(0,ev.F2)(),{data:t}=(0,s.Z)((0,ef._)(function*(){var t,n=(t=(0,ef._)(function*(t){return yield d.c3.PublicAdminListUserBenefitLimitation({enterprise_id:e,benefit_type:l.Sj.ResourcePoint,entity_type:l.ol.CozeRole,entity_id:t})}),function(e){return t.apply(this,arguments)}),[r,i,a]=yield Promise.all([n("EnterpriseAdmin"),n("EnterpriseMember"),n("EnterpriseGuest")]),s=e=>{var t,n;return!e||0===((null===(t=e.fixed_benefit)||void 0===t?void 0:t[l.Sj.ResourcePoint])||[]).length&&0===((null===(n=e.period_benefit)||void 0===n?void 0:n[l.Sj.ResourcePoint])||[]).length};return s(r.data)&&s(i.data)&&s(a.data)}),{refreshDeps:[e]});return(0,i.jsxs)("div",{className:"flex h-[calc(100vh-118px)] flex-col items-center justify-center gap-[48px]",children:[(0,i.jsx)(c.Image,{src:tB,width:469,height:242,preview:!1}),(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center gap-[12px]",children:[(0,i.jsxs)(c.Typography.Text,{fontSize:"16px",weight:500,children:[t?o.o.t("usage_stats_limit"):o.o.t("downgraded_to_team"),(0,i.jsx)(c.Typography.Text,{link:{href:"/open/docs/coze_pro/bills_and_usage?from=search#b5af7e00"},fontSize:"16px",weight:500,children:o.o.t("view details")})]}),(0,i.jsx)(c.Button,{color:"aiplus",size:"large",className:"w-[277px]",onClick:()=>{window.open("/premium?queryType=1","_blank")},children:o.o.t("upgrade_enterprise_now")})]})]})},tD=()=>{var e=(0,a.useRef)(null),{setUserMaxBatchSize:t,setUserLimitationValidTime:n}=eE((0,eP.N)(e=>({setUserMaxBatchSize:e.setUserMaxBatchSize,setUserLimitationValidTime:e.setUserLimitationValidTime}))),{data:r}=(0,s.Z)((0,ef._)(function*(){var e;return null===(e=(yield d.c3.GetTradeConf({conf_type:eI.I.BenefitLimitation})).data)||void 0===e?void 0:e.benefit_limitation}));return(0,a.useEffect)(()=>{(null==r?void 0:r.user_max_batch_size)&&t(r.user_max_batch_size),(null==r?void 0:r.user_limitation_valid_time)&&n(Number(r.user_limitation_valid_time))},[r]),(0,i.jsxs)("div",{className:q()("w-full h-[0] flex flex-col flex-1 gap-[16px] overflow-y-auto",tR.hideScrollbar),children:[(0,i.jsx)(tA,{onEditUsageConfig:(0,ef._)(function*(){var t;yield null===(t=e.current)||void 0===t?void 0:t.refreshTable()})}),(0,i.jsx)(tC,{ref:e})]})},tZ=()=>(0,r.H)().level===r.a.Team?(0,i.jsx)(tM,{}):(0,i.jsx)(tD,{}),tE=n("934550"),tU=n("206779"),tL={search_key:"",page:1,page_size:10},tF=e=>{var t,n,l,{ready:p}=e,_=(0,r.H)().level===r.a.Enterprise,m=(0,ev.F2)(),[u,x]=(0,a.useState)(!1),[h,g]=(0,a.useState)(0),[v,f]=(0,a.useState)(tL),[b,j]=(0,a.useState)(""),y=(0,a.useRef)(null),{data:w,loading:N}=(0,s.Z)(()=>d.f_.SearchPeopleInOtherEnterprise((0,eU._)({enterprise_id:m},v)),{refreshDeps:[v],ready:p,onSuccess:e=>{!v.search_key&&g(Number(e.data.total))}}),{run:z}=(0,tE.Z)(e=>{var t;null===(t=y.current)||void 0===t||t.reset(),f(t=>(0,eY._)((0,eU._)({},t),{search_key:e,page:1}))}),C=[{title:o.o.t("enterprise_member_list_identity_internal_user"),width:264,render:(e,t)=>(0,i.jsx)(c.Tooltip,{position:"top",content:(0,i.jsxs)("div",{className:"flex gap-[4px]",children:[(0,i.jsx)("div",{className:"flex-shrink-0 w-[24px] h-[24px] rounded-[50%] overflow-hidden",children:(0,i.jsx)("img",{className:"w-full h-full object-cover",src:t.user_info.avatar_url})}),(0,i.jsxs)("div",{className:"flex flex-col gap-[4px]",children:[(0,i.jsx)("div",{className:"text-[14px] font-[500] coz-fg-primary",children:t.user_info.nick_name}),(0,i.jsxs)("div",{className:"text-[14px] coz-fg-secondary",children:["@",t.user_info.name]})]})]}),children:(0,i.jsx)("div",{children:(0,i.jsx)(tU.h_,{avatar:t.user_info.avatar_url,name:t.user_info.nick_name,username:t.user_info.name})})})},{title:o.o.t("enterprise_management_permission_settings_other_enter_guest_list_name_tag",{enterprise:_?o.o.t("enterprise_version_name_value2_enterprise"):o.o.t("enterprise_version_name")}),width:456,align:"left",render:(e,t)=>(0,i.jsx)("div",{className:"w-[456px] overflow-hidden",children:(0,i.jsx)(c.OverflowList,{items:t.enterprise_list,renderMode:"collapse",overflowRenderer:e=>{if(e.length)return(0,i.jsx)(c.Popover,{position:"top",content:(0,i.jsx)("div",{className:"max-w-[480px] flex flex-wrap items-center gap-[6px_6px] px-[10px] py-[6px]",children:e.map(e=>(0,i.jsx)(tY,{avatar:e.icon_url,name:e.name},e.enterprise_id))}),children:(0,i.jsxs)("div",{className:"flex-shrink-0 rounded-[5px] coz-bg-secondary px-[4px] py-[2px] text-[12px] leading-[16px] coz-fg-secondary",children:["+",e.length]})})},visibleItemRenderer:e=>(0,i.jsx)(tY,{avatar:e.icon_url,name:e.name})})})}];return h?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"coz-bg-secondary coz-fg-secondary flex items-center rounded-[8px] pl-[12px] pr-[8px] py-[8px]",children:[(0,i.jsx)(E.L03,{className:"mr-[8px] w-[16px] h-[16px]"}),(0,i.jsx)("span",{className:"mr-[24px] text-[14px] leading-[20px]",children:o.o.t("enterprise_management_permission_settings_disable_be_guest_leave_desc",{number:h,enterprise:_?o.o.t("enterprise_version_name_value2_enterprise"):o.o.t("enterprise_version_name")})}),(0,i.jsx)(c.Button,{color:"highlight",size:"small",onClick:()=>x(!0),children:o.o.t("enterprise_management_permission_settings_other_enter_guest_list_button")})]}),(0,i.jsx)(c.Modal,{keepDOM:!0,closeOnEsc:!0,width:800,height:700,visible:u,onCancel:()=>x(!1),title:(0,i.jsxs)("div",{className:"flex flex-col gap-[6px]",children:[(0,i.jsx)("div",{children:o.o.t("enterprise_management_permission_settings_other_enter_guest_list_desc1",{enterprise:_?o.o.t("enterprise_version_name_value2_enterprise"):o.o.t("enterprise_version_name")})}),(0,i.jsx)("div",{className:"text-[14px] leading-[20px] coz-fg-secondary font-[400]",children:o.o.t("enterprise_management_permission_settings_other_enter_guest_list_desc2",{number:h,enterprise:_?o.o.t("enterprise_version_name_value2_enterprise"):o.o.t("enterprise_version_name")})})]}),footer:null,children:(0,i.jsxs)("div",{className:"flex flex-col gap-[12px] h-full",children:[(0,i.jsx)(c.Input,{showClear:!0,className:"w-full",placeholder:o.o.t("enterprise_management_permission_settings_other_enter_guest_list_search"),value:b,onChange:e=>{j(e),z(e)}}),(0,i.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,i.jsx)(c.Table,{ref:y,tableProps:{scroll:{y:510},size:"small",loading:N,dataSource:null!==(n=null==w?void 0:w.data.people_in_other_enterprise_info_list)&&void 0!==n?n:[],columns:C,rowKey:e=>e.user_info.user_id},enableLoad:!0,total:Number(null!==(l=null==w?void 0:w.data.total)&&void 0!==l?l:0),onLoad:()=>{f(e=>{var t;return(0,eY._)((0,eU._)({},e),{page:(null!==(t=e.page)&&void 0!==t?t:0)+1})})},empty:(null==w?void 0:null===(t=w.data.people_in_other_enterprise_info_list)||void 0===t?void 0:t.length)||!v.search_key?void 0:(0,i.jsx)("div",{className:"w-full h-full flex flex-col items-center pt-[120px]",children:(0,i.jsx)(c.EmptyState,{icon:(0,i.jsx)(E.nL$,{className:"w-[48px] h-[48px] coz-fg-dim"}),title:o.o.t("enterprise_management_permission_settings_other_enter_guest_list_search_no_result"),buttonText:o.o.t("enterprise_management_permission_settings_other_enter_guest_list_search_no_result_button"),buttonProps:{color:"primary"},onButtonClick:()=>{var e;null===(e=y.current)||void 0===e||e.reset(),j(""),f(e=>(0,eY._)((0,eU._)({},e),{search_key:"",page:1}))}})})})})]})})]}):null},tY=e=>{var{avatar:t,name:n}=e;return(0,i.jsxs)("div",{className:"flex-shrink-0 max-w-[240px] rounded-[5px] coz-bg-secondary px-[4px] py-[2px] flex items-center gap-[2px] mr-[6px]",children:[(0,i.jsx)(c.Image,{className:"rounded-[5px] flex-shrink-0 object-cover",width:14,height:14,src:t,preview:!1}),(0,i.jsx)("span",{className:"text-[12px] leading-[16px] coz-fg-secondary truncate",children:n})]})},tQ=()=>{var e,t,n,a,l,p,_,m,u,x,h=(0,ev.F2)(),g=(0,r.H)().level===r.a.Enterprise,{settings:v,loading:f,refresh:b}=(0,T.Pu)(),{run:j,loading:y}=(0,s.Z)(e=>d.f_.UpdateEnterpriseSettings({enterprise_id:null!=h?h:"",enterprise_settings:[e]}),{manual:!0,onSuccess:()=>{c.Toast.success(o.o.t("Update_success")),null==b||b(!0)}}),w=null==v?void 0:v[A.fA.forbid_guest_join_enterprise],N=null==v?void 0:v[A.fA.forbid_member_join_other_enterprise];return(0,i.jsxs)("div",{className:"w-full rounded-[14px] border border-solid coz-stroke-primary coz-bg-max px-[24px] pt-[20px] pb-[24px] flex flex-col gap-[32px]",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-[20px] leading-[28px] font-[500] mb-[4px]",children:o.o.t("enterprise_management_permission_control_title",{enterprise_version_name:g?o.o.t("enterprise_version_name_value2_enterprise"):o.o.t("enterprise_version_name")})}),(0,i.jsx)("div",{children:N&&w?null:(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"text-[14px] leading-[20px] coz-fg-secondary mb-[2px]",children:["1."," ",o.o.t("enterprise_management_permission_control_desc1",{enterprise_version_name:g?o.o.t("enterprise_version_name_value2_enterprise"):o.o.t("enterprise_version_name")})]})})})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-[20px]",children:[w?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-[8px]",children:[(0,i.jsx)("div",{className:"text-[16px] leading-[22px] font-[500]",children:o.o.t("enterprise_member_management_settings_guest_control_title",{enterprise:g?o.o.t("enterprise_version_name_value2_enterprise"):o.o.t("enterprise_version_name")})}),(0,i.jsx)("div",{className:"text-[14px] leading-[20px] coz-fg-secondary",children:o.o.t("enterprise_member_management_settings_guest_control_desc",{enterprise:g?o.o.t("enterprise_version_name_value2_enterprise"):o.o.t("enterprise_version_name")})})]}),(0,i.jsx)(tO,{title:(null==v?void 0:null===(e=v[A.fA.forbid_guest_join_enterprise])||void 0===e?void 0:e.value)==="true"?o.o.t("enterprise_management_permission_settings_pop_disable_title"):o.o.t("enterprise_management_permission_settings_pop_enable_title"),content:(null==v?void 0:null===(t=v[A.fA.forbid_guest_join_enterprise])||void 0===t?void 0:t.value)==="true"?o.o.t("enterprise_management_permission_settings_pop_disable_desc1_guest",{enterprise:g?o.o.t("enterprise_version_name_value2_enterprise"):o.o.t("enterprise_version_name")}):o.o.t("enterprise_management_permission_settings_pop_enable_desc1_allow_guest",{enterprise:g?o.o.t("enterprise_version_name_value2_enterprise"):o.o.t("enterprise_version_name")}),okText:(null==v?void 0:null===(n=v[A.fA.forbid_guest_join_enterprise])||void 0===n?void 0:n.value)==="true"?o.o.t("enterprise_management_permission_settings_pop_disable_button1_disable"):o.o.t("enterprise_management_permission_settings_pop_enable_button1_enable"),cancelText:o.o.t("enterprise_management_permission_settings_pop_enable_button2_cacel"),disabled:y||f,value:(null==v?void 0:null===(a=v[A.fA.forbid_guest_join_enterprise])||void 0===a?void 0:a.value)==="true",onConfirm:e=>{j({enterprise_setting_key:A.fA.forbid_guest_join_enterprise,enterprise_setting_value:{value:String(e),value_type:A.$g.boolean}})}})]}),(0,i.jsx)(c.Divider,{})]}):null,N?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-[8px]",children:[(0,i.jsx)("div",{className:"text-[16px] leading-[22px] font-[500]",children:o.o.t("enterprise_member_management_settings_basic_user_control_title",{enterprise:g?o.o.t("enterprise_version_name_value2_enterprise"):o.o.t("enterprise_version_name")})}),(0,i.jsx)("div",{className:"text-[14px] leading-[20px] coz-fg-secondary",children:o.o.t("enterprise_member_management_settings_basic_user_control_desc",{enterprise:g?o.o.t("enterprise_version_name_value2_enterprise"):o.o.t("enterprise_version_name")})}),(0,i.jsx)(tF,{ready:!!N})]}),(0,i.jsx)(tO,{title:(null==v?void 0:null===(l=v[A.fA.forbid_member_join_other_enterprise])||void 0===l?void 0:l.value)==="true"?o.o.t("enterprise_management_permission_settings_pop_disable_title"):o.o.t("enterprise_management_permission_settings_pop_enable_title"),content:(null==v?void 0:null===(p=v[A.fA.forbid_member_join_other_enterprise])||void 0===p?void 0:p.value)==="true"?o.o.t("enterprise_management_permission_settings_pop_disable_desc2_be_guest",{enterprise:g?o.o.t("enterprise_version_name_value2_enterprise"):o.o.t("enterprise_version_name")}):o.o.t("enterprise_management_permission_settings_pop_enable_desc2_allow_be_guest",{enterprise:g?o.o.t("enterprise_version_name_value2_enterprise"):o.o.t("enterprise_version_name")}),okText:(null==v?void 0:null===(_=v[A.fA.forbid_member_join_other_enterprise])||void 0===_?void 0:_.value)==="true"?o.o.t("enterprise_management_permission_settings_pop_disable_button1_disable"):o.o.t("enterprise_management_permission_settings_pop_enable_button1_enable"),cancelText:o.o.t("enterprise_management_permission_settings_pop_enable_button2_cacel"),disabled:y||f,value:(null==v?void 0:null===(m=v[A.fA.forbid_member_join_other_enterprise])||void 0===m?void 0:m.value)==="true",onConfirm:e=>{j({enterprise_setting_key:A.fA.forbid_member_join_other_enterprise,enterprise_setting_value:{value:String(e),value_type:A.$g.boolean}})}})]}),(0,i.jsx)(c.Divider,{})]}):null,(0,i.jsxs)("div",{className:"flex flex-col gap-[8px]",children:[(0,i.jsx)("div",{className:"text-[16px] leading-[22px] font-[500]",children:o.o.t("enterprise_management_permission_control_share_link",{enterprise_version_name:g?o.o.t("enterprise_version_name_value2_enterprise"):o.o.t("enterprise_version_name")})}),(0,i.jsxs)("div",{className:"text-[14px] leading-[20px] coz-fg-secondary flex items-center gap-[4px]",children:[(0,i.jsx)("span",{children:o.o.t("enterprise_management_permission_control_share_link_expire")}),(0,i.jsx)(c.Tooltip,{content:o.o.t("enterprise_management_permission_control_share_link_expire_tips"),children:(0,i.jsx)(E.L03,{})})]}),(0,i.jsx)(c.Select,{disabled:y||f,className:"w-[200px]",value:null!==(x=null==v?void 0:null===(u=v[A.fA.join_enterprise_share_link_expiration_time])||void 0===u?void 0:u.value)&&void 0!==x?x:"",size:"default",onChange:e=>{"string"==typeof e&&j({enterprise_setting_key:A.fA.join_enterprise_share_link_expiration_time,enterprise_setting_value:{value:e,value_type:A.$g.integer}})},optionList:(0,ep.Lk)()})]})]})]})},tO=e=>{var{title:t,content:n,onConfirm:r,value:s,okText:l,cancelText:o,disabled:d}=e,[p,_]=(0,a.useState)(!1);return(0,i.jsx)(c.Popconfirm,{visible:p,onCancel:()=>_(!1),onConfirm:()=>{_(!1),r(!s)},title:t,content:n,okText:l,cancelText:o,children:(0,i.jsx)("div",{className:"self-start",onClick:()=>_(!0),children:(0,i.jsx)(c.Switch,{disabled:d,checked:!!s})})})},tK=n("596598"),tH=n("384149"),tV=n.n(tH),tq=e=>{var t,{enterpriseId:n,spaceName:r,invitePath:l="enterprise-invite",isEnterPriseLevel:p}=e,[_,m]=(0,a.useState)(!1),u=(0,D.useNavigate)(),{data:x,run:h,loading:g}=(0,s.Z)(()=>d.f_.CreateEnterpriseInviteLink({enterprise_id:null!=n?n:""}),{manual:!0}),v=(null==x?void 0:x.data.expiration_time)?o.o.t("enterprise_share_link_pop_desc2_expire_info",{enterprise_version_name:p?o.o.t("enterprise_version_name_value2_enterprise"):o.o.t("enterprise_version_name"),enterprise_name:r,expire_date:eF().unix(Number(x.data.expiration_time)).format("YYYY-MM-DD HH:mm")}):o.o.t("enterprise_share_link_pop_desc2_no_expire_info",{enterprise_version_name:p?o.o.t("enterprise_version_name_value2_enterprise"):o.o.t("enterprise_version_name"),enterprise_name:r}),f="\uD83D\uDC49\uD83C\uDFFB https://".concat(window.location.hostname,"/").concat(l,"/").concat(null==x?void 0:x.data.key),b="".concat(v,"\n").concat(f);return{node:(0,i.jsx)(c.Modal,{title:o.o.t("enterprise_share_link_pop_title",{enterprise_version_name:p?o.o.t("enterprise_version_name_value2_enterprise"):o.o.t("enterprise_version_name")}),footer:null,visible:_,onCancel:()=>{m(!1)},children:(0,i.jsx)(c.Spin,{spinning:!x&&g,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"coz-fg-primary",children:o.o.t("enterprise_share_link_pop_desc1",{enterprise_version_name:p?o.o.t("enterprise_version_name_value2_enterprise"):o.o.t("enterprise_version_name"),member_permission:(0,i.jsx)("span",{className:"coz-fg-hglt cursor-pointer",onClick:()=>{u("?tab=permission"),m(!1)},children:o.o.t("enterprise_share_link_pop_desc_member_permission")})})}),!!(null==x?void 0:null===(t=x.data)||void 0===t?void 0:t.key)&&(0,i.jsxs)("div",{className:"mt-[16px] p-[16px] border border-solid coz-stroke-primary rounded",children:[(0,i.jsxs)("div",{className:"w-full coz-fg-secondary",children:[(0,i.jsx)("span",{children:v}),(0,i.jsx)(c.Typography.Text,{ellipsis:{showTooltip:!0},className:"coz-fg-secondary",children:f})]}),(0,i.jsx)(c.Button,{type:"primary",theme:"solid",className:"mt-[8px]",size:"small",onClick:()=>{tV()(b)&&c.Toast.success({showClose:!1,content:o.o.t("copy_success")})},children:o.o.t("Copy_link")})]})]})})}),open:()=>{m(!0),h()},close:()=>{m(!1)}}},tG=n("685031"),tJ=n("483939"),tX=n("234445"),tW=n("583976"),t$=n("466027"),t0=e=>{var{avatar:t,username:n,name:r,labelWidth:a}=e;return(0,i.jsxs)(c.Space,{children:[(0,i.jsx)(c.CozAvatar,{src:t,size:"small"}),(0,i.jsxs)(c.Space,{spacing:6,className:"w-[180px]",style:(0,eU._)({},a?{width:a}:{}),children:[(0,i.jsx)(c.Typography.Text,{className:"coz-fg-primary !font-[500]",ellipsis:{showTooltip:{opts:{content:r,style:{wordBreak:"break-word"}}}},children:r}),(0,i.jsx)(c.Typography.Text,{className:"coz-fg-secondary",ellipsis:{showTooltip:{opts:{content:n,style:{wordBreak:"break-word"}}}},children:"@".concat(n)})]})]})},t1=()=>{c.Toast.warning({showClose:!1,content:o.o.t("enterprise_team_user_amount_limitation")})},t2=e=>{var t,n,r,{list:s,selected:l,onSearch:d,onSelectChange:p,membersRemainingAdd:_,searchLoading:m,membersLimit:u}=e,[x,h]=(0,a.useState)(""),g=(0,ev.HU)(),{node:v,open:f}=(0,t_.I4)(),b={addMembers:e=>{var t;return p((0,tG.Z)(l.concat(null===(t=e.filter(e=>!e.joined&&!e.invited&&e.invited_user_status===A.mu.can_join))||void 0===t?void 0:t.map(e=>(0,eY._)((0,eU._)({},e),{enterprise_role_type:e.people_type===A.hf.enterprise_guest?A.gY.guest:A.gY.member}))),e=>e.user_id))},removeMember:e=>p(l.filter(t=>t.user_id!==e)),changeRole:(e,t)=>{var n=l.find(e=>e.user_id===t);n&&(n.enterprise_role_type=e),p([...l])}},{checkAll:j,indeterminate:y,remainingCount:w}=(0,eB.Yr)(s,l),N=(0,a.useRef)(null),z=(0,tW.Z)(N);return(0,i.jsxs)("div",{className:"flex flex-col h-full",children:[(0,i.jsxs)("div",{className:"px-[4px] pb-[12px] coz-fg-secondary",children:[(0,i.jsx)("p",{children:o.o.t("enterprise_member_add_guest_tips")}),(0,i.jsx)("p",{children:o.o.t("enterprise_member_add_internal_member_tips",{doc:(0,i.jsx)("span",{className:"coz-fg-hglt pl-2 cursor-pointer",onClick:()=>window.open("/open/docs/guides/create_member#895f1618","_blank"),children:o.o.t("enterprise_member_list_add_new_member_tips1_doc_key")})})}),(0,i.jsx)("p",{children:o.o.t("enterprise_member_add_guest_tips1")})]}),(0,i.jsxs)("div",{className:"flex items-stretch flex-1 overflow-y-auto",children:[(0,i.jsxs)("section",{className:"flex flex-col w-[364px] pr-[24px]",children:[(0,i.jsx)("div",{className:"flex justify-between w-full h-[32px]",children:(0,i.jsx)(c.Search,{showClear:!0,className:"!w-full",value:x,onChange:e=>{h(e)},onSearch:(t=(0,ef._)(function*(e){yield d(null!=e?e:"")}),function(e){return t.apply(this,arguments)}),placeholder:o.o.t("enterprise_member_list_add_new_member_search")})}),!!s.length&&(0,i.jsxs)("div",{className:"mt-[20px]",children:[(0,i.jsx)(c.Checkbox,{disabled:!s.length,checked:j,indeterminate:y,onChange:e=>{if(e.target.checked){if((null==g?void 0:g.level)===A.aC.team&&w+l.length>_){t1();return}b.addMembers(s);return}p((0,tJ.Z)(l,(0,tX.Z)(l,s,e=>e.user_id),e=>e.user_id))},children:o.o.t("Select_all")}),(0,i.jsx)(c.Divider,{className:"w-full mt-[10px]"})]}),(0,i.jsx)("div",{className:"overflow-auto flex flex-col gap-[20px] h-full mt-[10px]",ref:N,children:m?(0,i.jsx)(c.Spin,{wrapperClassName:"w-full h-full"}):(0,i.jsx)(i.Fragment,{children:s.length?(0,i.jsx)(t$.t7,{height:null!==(n=null==z?void 0:z.height)&&void 0!==n?n:0,width:null!==(r=null==z?void 0:z.width)&&void 0!==r?r:0,itemSize:44,itemCount:s.length,children:e=>{var{index:t,style:n}=e,r=s[t];return(0,i.jsx)("div",{style:n,children:(0,i.jsx)(c.Checkbox,{className:"items-center",checked:(0,eB.R8)(r,l),disabled:r.joined||r.invited||r.invited_user_status!==A.mu.can_join,onChange:e=>{if(e.target.checked){if((null==g?void 0:g.level)===A.aC.team&&l.length>=_){t1();return}b.addMembers([r]);return}b.removeMember(r.user_id)},children:(0,i.jsxs)("div",{className:"flex-1 flex items-center justify-between",children:[(0,i.jsx)(t0,{labelWidth:"170px",avatar:r.avatar_url,name:r.nick_name,searchWord:x,username:r.name}),(0,i.jsxs)("div",{className:"flex items-center gap-[4px]",children:[r.invited_user_status===A.mu.can_join?r.invited?(0,i.jsx)("span",{className:"text-[12px] coz-fg-hglt-yellow",children:o.o.t("enterprise_member_list_add_new_member_tag_inviting")}):null:(0,i.jsx)(c.Tooltip,{theme:"dark",content:r.invited_user_status===A.mu.guest_prohibited_by_enterprise?o.o.t("enterprise_add_member_pop_unable_invite_reason2_disable_guest_access"):r.invited_user_status===A.mu.guest_prohibited_by_invited_user_enterprise?o.o.t("enterprise_add_member_pop_unable_invite_reason1"):o.o.t("workspace_move_member_list_tips_unable_invite"),children:(0,i.jsx)("span",{className:"text-[12px] coz-fg-secondary",children:o.o.t("workspace_move_member_list_tips_unable_invite")})}),r.joined?(0,i.jsx)(c.Tag,{color:"green",size:"mini",children:o.o.t("enterprise_member_list_add_new_member_tag_added")}):null,r.people_type?(0,i.jsx)(c.Tag,{color:(0,ep.Lr)()[r.people_type].color,size:"mini",children:(0,ep.Lr)()[r.people_type].text}):null]})]})},r.user_id)})}}):(0,i.jsx)(c.EmptyState,{className:"mt-[150px] mx-auto",size:"large",icon:(0,i.jsx)(E.SHo,{}),title:o.o.t("enterprise_member_list_add_new_member_search_tips")})})})]}),(0,i.jsx)(c.Divider,{layout:"vertical",className:"h-full"}),(0,i.jsxs)("section",{className:"flex flex-col flex-1 pl-[24px]",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between h-[36px] leading-[36px]",children:[(0,i.jsxs)(c.Space,{spacing:4,className:"coz-fg-secondary",children:[(0,i.jsx)("div",{children:o.o.t("enterprise_member_list_add_new_member_button_chosen")}),(0,i.jsx)("div",{className:"coz-fg-hglt font-[500]",children:l.length}),(null==g?void 0:g.level)===A.aC.team?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{children:"/"}),(0,i.jsx)("div",{className:"coz-fg-plus font-[500]",children:_})]}):null]}),l.find(e=>e.people_type===A.hf.enterprise_guest)?(0,i.jsx)("span",{className:"coz-fg-hglt-yellow",children:o.o.t("enterprise_member_invite_pop_guest_billing_tips")}):null]}),(0,i.jsx)(c.Divider,{className:"w-full mt-[8px]"}),(0,i.jsx)("div",{className:"overflow-auto flex flex-col gap-[12px] h-full mt-[11px] ml-[3px]",children:(null==l?void 0:l.length)?l.map(e=>(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)(t0,{labelWidth:"210px",avatar:e.avatar_url,name:e.nick_name,username:e.name}),(0,i.jsxs)(c.Space,{children:[e.people_type?(0,i.jsx)(c.Tag,{color:(0,ep.Lr)()[e.people_type].color,size:"mini",children:(0,ep.Lr)()[e.people_type].text}):null,e.people_type===A.hf.enterprise_guest?(0,i.jsx)(c.Select,{size:"small",className:"w-[80px]",optionList:[],disabled:!0,value:o.o.t("enterprise_member_list_character_guest")}):(0,i.jsx)(c.Select,{size:"small",className:"w-[80px]",optionList:(0,ep.Oy)(),value:e.enterprise_role_type,onChange:t=>b.changeRole(t,e.user_id)}),(0,i.jsx)(c.IconButton,{icon:(0,i.jsx)(E.rmE,{}),size:"small",color:"secondary",onClick:()=>{b.removeMember(e.user_id)}})]})]},e.user_id)):(0,i.jsx)(c.EmptyState,{className:"mt-[150px] mx-auto",size:"large",icon:(0,i.jsx)(E.Eo5,{}),title:o.o.t("enterprise_member_list_add_new_member_no_choose")})})]})]}),(null==g?void 0:g.level)===A.aC.team&&(0,i.jsxs)("div",{className:"flex items-center justify-between py-[8px] px-[16px] coz-mg-hglt-secondary rounded mt-[8px]",children:[(0,i.jsxs)(c.Space,{spacing:6,children:[(0,i.jsx)(E.sWZ,{className:"text-[20px] coz-fg-hglt"}),(0,i.jsx)("div",{className:"coz-fg-primary",children:o.o.t("move_workspace_pop_up_choose_user_team_paywall_tips",{amount:u})})]}),(0,i.jsx)(c.Button,{size:"small",onClick:()=>f(),children:o.o.t("coze_upgrade_now")})]}),v]})},t4=e=>{var t,{membersRemainingAdd:n,selected:r,onSelectChange:a,enterpriseId:l,membersLimit:o}=e;var{data:c=[],runAsync:p,loading:_}=(0,s.Z)((t=(0,ef._)(function*(e){var t,n;return null!==(n=null===(t=(yield d.f_.SearchCanAddEnterprisePeople({search_key:e,enterprise_id:null!=l?l:""})).data)||void 0===t?void 0:t.add_enterprise_people_data_list)&&void 0!==n?n:[]}),function(e){return t.apply(this,arguments)}),{debounceWait:300});return(0,i.jsx)(t2,{selected:r,onSelectChange:a,list:c,onSearch:p,membersRemainingAdd:n,membersLimit:o,searchLoading:_})},t6=e=>{var{enterpriseInfo:t,membersLimit:n,membersRemainingAdd:r,isSuperAdmin:l,onAddSuccess:p}=e,[_,m]=(0,a.useState)(!1),[u,x]=(0,a.useState)([]),{run:h,loading:g}=(0,s.Z)((0,ef._)(function*(){var e;return yield d.f_.BatchAddEnterprisePeople({enterprise_id:null!==(e=null==t?void 0:t.enterprise_id)&&void 0!==e?e:"",enterprise_people:u.map(e=>({user_id:e.user_id,enterprise_role_type_list:[e.enterprise_role_type]}))})}),{manual:!0,onSuccess:()=>{c.Toast.success(o.o.t("enterprise_member_list_add_new_member_success_toast")),j(),null==p||p()}}),v=!u.length,{open:f,loading:b}=(0,tK.pZ)(_),j=()=>{x([]),m(!1)};return{node:(0,i.jsx)(c.Modal,{visible:_,title:o.o.t("enterprise_member_list_button_add_new_member"),footer:(0,i.jsxs)("div",{className:"flex items-center w-full justify-between",children:[(0,i.jsx)("div",{children:l?(0,i.jsx)(c.Button,{loading:b,color:"highlight",icon:(0,i.jsx)(E.taB,{}),iconPosition:"right",onClick:()=>{f("/coze-pro/user/list")},className:"text-[14px] !ml-[0px] font-400",children:o.o.t("enterprise_member_list_add_new_member_button_create")}):null}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)(c.Button,{color:"primary",onClick:j,children:o.o.t("Cancel")}),v?(0,i.jsx)(c.Button,{disabled:!0,children:o.o.t("Confirm")}):(0,i.jsx)(c.Popconfirm,{position:"top",title:o.o.t("enterprise_member_list_button_add_new_member_title"),content:(null==t||t.level,A.aC.enterprise,o.o.t("enterprise_add_member_secondary_confirm",{doc:(0,i.jsx)("span",{className:"coz-fg-hglt pl-2 cursor-pointer",onClick:()=>window.open("/open/docs/coze_pro/member_fee","_blank"),children:o.o.t("enterprise_member_apply_opt_operate_button3_pass_desc1")})})),okText:o.o.t("Confirm"),cancelText:o.o.t("Cancel"),okButtonProps:{loading:g},onConfirm:h,children:(0,i.jsx)(c.Button,{loading:g,children:o.o.t("Confirm")})})]})]}),width:860,height:608,modalContentClass:"px-[30px]",centered:!0,onCancel:j,children:(0,i.jsx)(t4,{enterpriseId:null==t?void 0:t.enterprise_id,membersRemainingAdd:r,membersLimit:n,selected:u,onSelectChange:x})}),open:()=>{m(!0)},close:()=>{m(!1)}}},t3=n("302696"),t8=e=>{var{memberInfo:t,disabled:n,tooltip:r,onSuccess:a,enterpriseId:s}=e,{node:l,open:d}=(0,t3.D)({enterpriseId:s,memberInfo:t,onSuccess:a}),p=(0,i.jsx)(c.Tooltip,{content:r,children:(0,i.jsx)(c.IconButton,{disabled:n,color:"secondary",icon:(0,i.jsx)(E.ruq,{})})});return(0,i.jsxs)(i.Fragment,{children:[n?p:(0,i.jsx)(c.Popconfirm,{title:o.o.t("team_remove_person_title"),trigger:"click",position:"bottomRight",okText:o.o.t("Remove"),okButtonColor:"red",cancelText:o.o.t("Cancel"),onConfirm:d,children:(0,i.jsx)("span",{children:p})}),l]})},t5=e=>{var{type:t}=e;return(0,i.jsx)(c.Tag,{color:(0,ep.Lr)()[t].color,size:"mini",children:(0,ep.Lr)()[t].text})},t9=e=>{var t,n,{memberInfo:r,editable:a,onUpdate:l,enterpriseId:o}=e,{runAsync:p}=(0,s.Z)(e=>d.f_.UpdateEnterprisePeople({enterprise_id:null!=o?o:"",user_id:r.user_id,enterprise_role_type_list:[e],sync_default_organization:!1}),{manual:!0,onSuccess:()=>{null==l||l()}}),_=null!==(n=null===(t=r.enterprise_role_type_list)||void 0===t?void 0:t[0])&&void 0!==n?n:A.gY.member;return(0,i.jsx)(i.Fragment,{children:a?(0,i.jsx)(c.Select,{chipRender:"trigger",value:_,size:"small",optionList:(0,ep.Oy)(),onChange:e=>p(e)}):(0,i.jsx)(c.Tag,{color:(0,ep.pD)()[_].color,size:"mini",children:(0,ep.pD)()[_].text})})},t7=e=>{var{tableRef:t,dataList:n,enterpriseId:r,refresh:a,setParams:s,loading:l,isManager:d=!1,clearFilter:p,hasFilter:_}=e,m=(0,T.I2)(),u=(null==n?void 0:n.enterprise_people_list)||[],x=(0,Z.Pc)(),h=(0,ev.ZY)(),g=[{title:o.o.t("enterprise_member_management_page_tab1_member_list_nickname"),dataIndex:"user_id",render:(e,t)=>(0,i.jsxs)(c.Space,{className:"flex",children:[(0,i.jsx)(c.CozAvatar,{src:t.avatar_url}),(0,i.jsx)(c.Typography.Text,{className:"flex-1 text-[14px] !font-[500] leading-[20px] coz-fg-primary !max-w-[100px]",ellipsis:{showTooltip:!0},children:t.nick_name}),t.valid?null:(0,i.jsx)(c.Tag,{size:"mini",color:"primary",children:o.o.t("enterprise_member_list_role_admin_tag_inactive")})]})},{title:o.o.t("enterprise_member_management_page_tab1_member_list_username"),dataIndex:"name",render:e=>(0,i.jsx)(c.Typography.Text,{style:{wordBreak:"break-word",flex:1,color:"rgba(32, 41, 69, 0.62)",fontSize:"14px",lineHeight:"16px"},children:e})},{title:o.o.t("enterprise_invite_management_info_identity"),dataIndex:"people_type",render:(e,t)=>t.people_type?(0,i.jsx)(t5,{type:t.people_type}):"-"},{title:o.o.t("enterprise_member_management_page_tab1_member_list_role"),dataIndex:"enterprise_role_type_list",render:(e,n)=>{var a;return(0,i.jsx)(t9,{memberInfo:n,enterpriseId:r,editable:!m&&!(null===(a=n.enterprise_role_type_list)||void 0===a?void 0:a.some(e=>e===A.gY.super_admin||e===A.gY.guest))&&d,onUpdate:()=>{var e;null===(e=t.current)||void 0===e||e.reset(),s(e=>(0,eY._)((0,eU._)({},e),{page:1}))}})}},{title:o.o.t("enterprise_member_management_page_tab1_member_list_add_time"),dataIndex:"create_time",render:e=>(0,i.jsx)("span",{className:"text-[14px]",children:Number.isNaN(Number(e))?e:eF().unix(e).format("YYYY-MM-DD HH:mm")})},...d?[{title:o.o.t("actions"),width:108,render:(e,t)=>{var n;return(0,i.jsx)(t8,{memberInfo:t,onSuccess:()=>a(),enterpriseId:r,tooltip:m?o.o.t("enterprise_bytedance_ban_member_no_permission"):o.o.t("Remove"),disabled:m||(null==x?void 0:x.user_id_str)===t.user_id||h.includes(A.gY.admin)&&t.enterprise_role_type_list.includes(A.gY.super_admin)||h.includes(A.gY.super_admin)&&t.enterprise_role_type_list.includes(A.gY.super_admin)&&(t.valid||(null===(n=t.volcano_user_info)||void 0===n?void 0:n.volcano_user_type)===A._5.root_user)})}}]:[]];return(0,i.jsx)(c.Table,{ref:t,tableProps:{loading:l,className:"",dataSource:u,columns:g,rowKey:"user_id"},enableLoad:!0,total:Number(null==n?void 0:n.total),onLoad:()=>{s(e=>{var t;return(0,eY._)((0,eU._)({},e),{page:(null!==(t=e.page)&&void 0!==t?t:0)+1})})},empty:(0,i.jsx)(c.EmptyState,{size:"full_screen",className:"my-[100px]",icon:(0,i.jsx)(ta.Zo,{}),title:o.o.t("release_management_search_no"),buttonText:_?o.o.t("library_empty_clear_filters"):void 0,onButtonClick:p})})},ne={page:1,page_size:15,enterprise_role_type_list:[],search_key:"",need_volcano_user_info:!0,need_people_number:!0,people_type:void 0},nt=e=>{var t,n,p,_,m,u,x,{invitePath:h,isManager:g,setTotal:v}=e,[f,b]=(0,a.useState)(ne),j=(0,ev.HU)(),y=(0,ev.ZY)(),w=(0,r.H)(),N=(0,tK.HP)(),z=(0,T.I2)(),{data:C,loading:k}=(0,s.Z)((0,ef._)(function*(){var e;return(null==j?void 0:j.enterprise_id)?yield d.f_.SearchEnterprisePeople((0,eY._)((0,eU._)({},f),{enterprise_id:null!==(e=null==j?void 0:j.enterprise_id)&&void 0!==e?e:""})):null}),{refreshDeps:[f,null==j?void 0:j.enterprise_id],onSuccess:e=>{var t,n;null==v||v(Number(null!==(n=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.people_total_number)&&void 0!==n?n:0))}}),S=(0,a.useRef)(null),{run:B}=(0,tE.Z)(e=>{var t;b(t=>(0,eY._)((0,eU._)({},t),{search_key:e,page:1})),null===(t=S.current)||void 0===t||t.reset()}),P=()=>{var e;b(e=>(0,eY._)((0,eU._)({},e),{page:1})),null===(e=S.current)||void 0===e||e.reset()},{node:I,open:R}=tq({enterpriseId:null!==(m=null==j?void 0:j.enterprise_id)&&void 0!==m?m:"",spaceName:null!==(u=null==j?void 0:j.name)&&void 0!==u?u:"",invitePath:h,isEnterPriseLevel:w.level===r.a.Enterprise}),{node:M,open:D}=t6({enterpriseInfo:null!=j?j:void 0,membersRemainingAdd:w.maxMember-Number(null!==(x=null==C?void 0:null===(t=C.data)||void 0===t?void 0:t.people_total_number)&&void 0!==x?x:0),membersLimit:w.maxMember,isSuperAdmin:null==y?void 0:y.includes(A.gY.super_admin),isRootUser:N,onAddSuccess:P});return(0,i.jsxs)("div",{className:"flex flex-col gap-[20px] overflow-hidden",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-[8px] flex-shrink-0 overflow-hidden",children:[g?(0,i.jsx)(c.Banner,{fullMode:!0,justify:"start",closeIcon:!1,className:"py-[12px] rounded",description:(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:o.o.t("enterprise_member_add_guest_tips")}),(0,i.jsx)("p",{children:o.o.t("enterprise_member_add_internal_member_tips",{doc:(0,i.jsx)("span",{className:"coz-fg-hglt pl-2 cursor-pointer",onClick:()=>window.open("/open/docs/guides/create_member#895f1618","_blank"),children:o.o.t("enterprise_member_list_add_new_member_tips1_doc_key")})})}),(0,i.jsx)("p",{children:o.o.t("enterprise_member_add_guest_tips1")})]})}):null,(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,i.jsx)(c.Select,{className:"w-[120px] ".concat(!!(null==f?void 0:f.people_type)&&"border border-solid !border-[var(--semi-color-focus-border)]"),optionList:(0,ep.Fw)(),value:f.people_type,onChange:e=>{var t;null===(t=S.current)||void 0===t||t.reset(),(!e||"string"==typeof e)&&b(t=>(0,eY._)((0,eU._)({},t),{people_type:e,page:1}))}}),(0,i.jsx)(c.Select,{className:"w-[120px] ".concat(!!(null==f?void 0:null===(n=f.enterprise_role_type_list)||void 0===n?void 0:n[0])&&"border border-solid !border-[var(--semi-color-focus-border)]"),optionList:(0,ep.Rn)(),value:null===(p=f.enterprise_role_type_list)||void 0===p?void 0:p[0],onChange:e=>{var t;null===(t=S.current)||void 0===t||t.reset(),b(t=>(0,eY._)((0,eU._)({},t),{enterprise_role_type_list:e?[e]:[],page:1}))}})]}),(0,i.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,i.jsx)(c.Search,{className:"w-[200px]",placeholder:o.o.t("Search"),loading:k,showClear:!0,value:f.search_key,onSearch:B}),g?(0,i.jsxs)(i.Fragment,{children:[z?null:(0,i.jsx)(c.IconButton,{icon:(0,i.jsx)(E.JHY,{}),onClick:R}),w.instanceStatus===l.Od.Running?z?(0,i.jsx)(c.Tooltip,{content:o.o.t("enterprise_bytedance_ban_member_no_permission"),children:(0,i.jsx)(c.Button,{icon:(0,i.jsx)(E.Fiw,{}),disabled:!0,children:o.o.t("enterprise_member_list_role_type2_normal_member")})}):(0,i.jsx)(c.Button,{icon:(0,i.jsx)(E.Fiw,{}),onClick:D,children:o.o.t("enterprise_member_list_role_type2_normal_member")}):(0,i.jsx)(c.Tooltip,{content:o.o.t("coze_pro_version_expired_tips"),children:(0,i.jsx)(c.Button,{icon:(0,i.jsx)(E.Fiw,{}),disabled:!0,children:o.o.t("enterprise_member_list_role_type2_normal_member")})})]}):null]})]})]}),(0,i.jsx)("div",{className:q()(["overflow-auto","[&_.semi-table-body]:!max-h-[unset]","[&_.semi-table-header]:sticky","[&_.semi-table-header]:z-[1]"]),children:(0,i.jsx)(t7,{tableRef:S,isManager:g,dataList:null==C?void 0:C.data,enterpriseId:null==j?void 0:j.enterprise_id,setParams:b,loading:k,hasFilter:!!f.search_key||!!(null===(_=f.enterprise_role_type_list)||void 0===_?void 0:_.length),clearFilter:()=>{var e;null===(e=S.current)||void 0===e||e.reset(),b(ne)},refresh:P})}),I,M]})},nn=e=>{var{tableRef:t,dataList:n,refresh:r,setParams:a,loading:l,clearFilter:p,hasFilter:_,enterpriseId:m}=e,u=(0,ev.ZY)(),x=(0,eB.fK)(u),h=(null==n?void 0:n.join_invitation_list)||[],{loading:g,runAsync:v}=(0,s.Z)(e=>d.f_.RevokeJoinInvitation({enterprise_id:null!=m?m:"",join_invitation_id:e}),{manual:!0,onSuccess:(e,t)=>{0===e.code?c.Toast.success(o.o.t("enterprise_invite_management_info_status_toast_withdraw")):c.Toast.warning(o.o.t("enterprise_invite_management_info_status_toast_failed")),r()},onError:()=>{c.Toast.error(o.o.t("enterprise_invite_management_info_status_toast_failed"))}}),f=[{title:o.o.t("enterprise_invite_management_info_nickname"),dataIndex:"application_id",render:(e,t)=>{var n,r;return(0,i.jsxs)(c.Space,{className:"flex",children:[(0,i.jsx)(c.CozAvatar,{src:null===(n=t.invitee)||void 0===n?void 0:n.avatar_url}),(0,i.jsx)(c.Typography.Text,{className:"flex-1 text-[14px] !font-[500] leading-[20px] coz-fg-primary",ellipsis:{showTooltip:!0},children:null===(r=t.invitee)||void 0===r?void 0:r.nick_name})]})}},{title:o.o.t("enterprise_invite_management_info_username"),dataIndex:"name",render:(e,t)=>{var n;return(0,i.jsx)(c.Typography.Text,{style:{wordBreak:"break-word",flex:1,color:"rgba(32, 41, 69, 0.62)",fontSize:"14px",lineHeight:"16px"},children:null===(n=t.invitee)||void 0===n?void 0:n.name})}},{title:o.o.t("enterprise_invite_management_info_status"),dataIndex:"invitation_status",render:(e,t)=>{var n=(0,ep.zP)()[t.invitation_status],r=t.invitation_status===A.XC.revoked;return n?r&&t.operator?(0,i.jsx)(c.Tooltip,{trigger:"hover",className:"max-w-[unset]",content:(0,i.jsxs)("div",{className:"flex items-center gap-[4px]",children:[(0,i.jsx)("span",{children:o.o.t("enterprise_invite_management_info_status_withdrew_info")}),(0,i.jsx)("div",{className:"w-[16px] h-[16px] rounded-full overflow-hidden",children:(0,i.jsx)("img",{className:"w-full h-full shrink-0 object-cover",src:t.operator.avatar_url})}),(0,i.jsx)("span",{children:t.operator.nick_name}),(0,i.jsxs)("span",{children:["@",t.operator.name]})]}),children:(0,i.jsx)(c.Tag,{size:"mini",color:n.color,suffixIcon:(0,i.jsx)(E.L03,{}),children:n.text})}):(0,i.jsx)(c.Tag,{size:"mini",color:n.color,children:n.text}):"-"}},{title:o.o.t("enterprise_invite_management_info_time"),dataIndex:"create_time",render:e=>(0,i.jsx)("span",{className:"text-[14px]",children:Number.isNaN(Number(e))?e:eF().unix(e).format("YYYY-MM-DD HH:mm")})},{title:o.o.t("enterprise_invite_management_info_operation"),width:108,render:(e,t)=>x&&t.invitation_status===A.XC.confirming?(0,i.jsx)(c.Popconfirm,{title:o.o.t("enterprise_invite_management_withdraw_pop_title"),okText:o.o.t("enterprise_invite_management_withdraw_pop_confirm"),cancelText:o.o.t("enterprise_invite_management_withdraw_pop_cancel"),okButtonColor:"red",okButtonProps:{loading:g},onConfirm:()=>{v(t.join_invitation_id)},children:(0,i.jsx)(c.Button,{size:"small",color:"primary",children:o.o.t("enterprise_invite_management_info_status_withdraw")})}):"-"}];return(0,i.jsx)("div",{className:"h-full",children:(0,i.jsx)(c.Table,{ref:t,tableProps:{loading:l,className:"",dataSource:h,columns:f,rowKey:"application_id"},offsetY:243,enableLoad:!0,total:Number(null==n?void 0:n.total),onLoad:()=>{a(e=>{var t;return(0,eY._)((0,eU._)({},e),{page:(null!==(t=e.page)&&void 0!==t?t:0)+1})})},empty:(0,i.jsx)(c.EmptyState,{size:"full_screen",className:"my-[100px]",icon:(0,i.jsx)(ta.TL,{}),title:o.o.t("enterprise_invite_management_info_status_default_title"),description:o.o.t("enterprise_invite_management_info_status_default_tips"),buttonText:_?o.o.t("enterprise_invite_management_info_status_default_button1"):void 0,buttonProps:{color:"primary"},onButtonClick:p})})})},nr={page:1,page_size:15,search_key:"",invitation_status:void 0},ni=()=>{var e=(0,ev.F2)(),[t,n]=(0,a.useState)(nr),{data:r,loading:l}=(0,s.Z)(()=>d.f_.ListJoinInvitation((0,eY._)((0,eU._)({},t),{enterprise_id:null!=e?e:""})),{refreshDeps:[t]}),p=(0,a.useRef)(null),{run:_}=(0,tE.Z)(e=>{var t;n(t=>(0,eY._)((0,eU._)({},t),{search_key:e,page:1})),null===(t=p.current)||void 0===t||t.reset()});return(0,i.jsxs)("div",{className:"flex flex-col gap-[20px] overflow-hidden",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)(c.Select,{className:"w-[120px] ".concat((null==t?void 0:t.invitation_status)&&"border border-solid !border-[var(--semi-color-focus-border)]"),optionList:(0,ep.eL)(),value:t.invitation_status,onChange:e=>{var t;null===(t=p.current)||void 0===t||t.reset(),n(t=>(0,eY._)((0,eU._)({},t),{invitation_status:e,page:1}))}}),(0,i.jsx)("div",{className:"flex items-center gap-[8px]",children:(0,i.jsx)(c.Search,{className:"w-[200px]",placeholder:o.o.t("enterprise_member_management_page_tab1_member_list_search"),loading:l,showClear:!0,value:t.search_key,onSearch:_})})]}),(0,i.jsx)("div",{className:q()(["overflow-auto","[&_.semi-table-body]:!max-h-[unset]","[&_.semi-table-header]:sticky","[&_.semi-table-header]:z-[1]"]),children:(0,i.jsx)(nn,{tableRef:p,dataList:null==r?void 0:r.data,setParams:n,loading:l,enterpriseId:e,hasFilter:!!t.search_key||!!t.invitation_status,clearFilter:()=>{var e;null===(e=p.current)||void 0===e||e.reset(),n(nr)},refresh:()=>{var e;n(e=>(0,eY._)((0,eU._)({},e),{page:1})),null===(e=p.current)||void 0===e||e.reset()}})})]})},na=n("798801"),ns=e=>{var t,n,p,{tableRef:_,dataList:m,refresh:u,setParams:x,loading:h,clearFilter:g,hasFilter:v,enterpriseId:f,setTotal:b}=e,[j,y]=(0,a.useState)([]),w=null!==(n=null==m?void 0:m.join_application_list)&&void 0!==n?n:[],N=(0,r.H)(),z=(0,T.I2)(),{loading:C,runAsync:k}=(0,s.Z)(e=>{var{id:t=[],status:n}=e;return d.f_.UpdateJoinApplication({enterprise_id:null!=f?f:"",join_application_id_list:null!=t?t:[],application_status:n})},{manual:!0,onSuccess:(e,t)=>{(null==t?void 0:t[0].status)===A.uv.approved?(null==b||b(e=>e+t[0].id.length),c.Toast.success(o.o.t("enterprise_member_apply_opt_operate_button3_pass_toast"))):c.Toast.warning(o.o.t("enterprise_member_apply_opt_operate_button2_reject_toast")),y([]),u()}}),S=[{title:o.o.t("enterprise_member_apply_opt_nickname"),dataIndex:"application_id",render:(e,t)=>{var n,r;return(0,i.jsxs)(c.Space,{className:"flex",children:[(0,i.jsx)(c.CozAvatar,{src:null===(n=t.applicant)||void 0===n?void 0:n.avatar_url}),(0,i.jsx)(c.Typography.Text,{className:"flex-1 text-[14px] !font-[500] leading-[20px] coz-fg-primary",ellipsis:{showTooltip:!0},children:null===(r=t.applicant)||void 0===r?void 0:r.nick_name})]})}},{title:o.o.t("enterprise_member_apply_opt_username"),dataIndex:"name",render:(e,t)=>{var n;return(0,i.jsx)(c.Typography.Text,{style:{wordBreak:"break-word",flex:1,color:"rgba(32, 41, 69, 0.62)",fontSize:"14px",lineHeight:"16px"},children:null===(n=t.applicant)||void 0===n?void 0:n.name})}},{title:o.o.t("enterprise_member_apply_opt_time"),dataIndex:"create_time",render:e=>(0,i.jsx)("span",{className:"text-[14px]",children:Number.isNaN(Number(e))?e:eF().unix(e).format("YYYY-MM-DD HH:mm")})},{title:o.o.t("enterprise_member_apply_opt_status"),dataIndex:"application_status",render:(e,t)=>(0,i.jsx)(c.Tag,{size:"mini",color:(0,ep.sy)()[t.application_status].color,suffixIcon:t.application_status!==A.uv.processing&&(0,i.jsx)(c.Tooltip,{content:"".concat(t.operator," ").concat((0,ep.sy)()[t.application_status].text),children:(0,i.jsx)(E.L03,{})}),children:(0,ep.sy)()[t.application_status].text})},{title:o.o.t("enterprise_apply_management_apply_info"),dataIndex:"remark",render:(e,t)=>t.remark?(0,i.jsx)(c.Typography.Text,{className:"text-[14px] leading-[20px] coz-fg-secondary break-all",ellipsis:{showTooltip:!0,rows:2},children:t.remark}):"-"},{title:o.o.t("actions"),width:108,render:(e,t)=>t.application_status===A.uv.processing?(0,i.jsx)(c.Space,{spacing:6,children:j.length||(null==N?void 0:N.instanceStatus)!==l.Od.Running||z?(0,i.jsx)(c.Tooltip,{content:z?o.o.t("enterprise_bytedance_ban_member_no_permission"):"",trigger:z?"hover":"custom",children:(0,i.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,i.jsx)(c.Button,{size:"small",color:"redhglt",disabled:!0,children:o.o.t("enterprise_member_apply_opt_operate_button_reject")}),(0,i.jsx)(c.Button,{size:"small",disabled:!0,children:o.o.t("enterprise_member_apply_opt_operate_button_pass")})]})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Popconfirm,{title:o.o.t("enterprise_member_apply_opt_operate_button_reject_confirm"),okText:o.o.t("enterprise_member_apply_opt_operate_button_reject_confirm_button1"),cancelText:o.o.t("enterprise_member_apply_opt_operate_button_reject_confirm_button2"),okButtonColor:"red",okButtonProps:{loading:C},onConfirm:()=>{k({id:[t.application_id],status:A.uv.rejected})},children:(0,i.jsx)(c.Button,{size:"small",color:"redhglt",children:o.o.t("enterprise_member_apply_opt_operate_button_reject")})}),(0,i.jsx)(c.Popconfirm,{title:(0,i.jsx)("span",{children:o.o.t("enterprise_member_apply_opt_operate_button3_pass_desc",{amount:1,doc:(0,i.jsx)("a",{href:ep.Vc,target:"_blank",children:o.o.t("enterprise_member_apply_opt_operate_button3_pass_desc1")})})}),okText:o.o.t("enterprise_member_list_add_new_member_button_confirm"),cancelText:o.o.t("enterprise_member_apply_opt_operate_button_reject_confirm_button2"),okButtonProps:{loading:C},onConfirm:()=>{k({id:[t.application_id],status:A.uv.approved})},children:(0,i.jsx)(c.Button,{size:"small",children:o.o.t("enterprise_member_apply_opt_operate_button_pass")})})]})}):null}];return(0,i.jsxs)("div",{className:"h-full",children:[(0,i.jsx)(c.Table,{ref:_,tableProps:{rowSelection:{selectedRowKeys:j,getCheckboxProps:e=>({disabled:z||e.application_status!==A.uv.processing}),onChange:e=>{y(e)}},loading:h,className:"",dataSource:w,columns:S,rowKey:"application_id"},enableLoad:!0,total:Number(null==m?void 0:m.total),onLoad:()=>{x(e=>{var t;return(0,eY._)((0,eU._)({},e),{page:(null!==(t=e.page)&&void 0!==t?t:0)+1})})},empty:(0,i.jsx)(c.EmptyState,{size:"full_screen",className:"my-[100px]",icon:(0,i.jsx)(ta.Zo,{}),title:o.o.t("release_management_search_no"),buttonText:v?o.o.t("library_empty_clear_filters"):void 0,onButtonClick:g})}),(0,i.jsx)(na.m,{selectedIds:j,totalIds:null!==(p=null===(t=w.filter(e=>e.application_status===A.uv.processing))||void 0===t?void 0:t.map(e=>e.application_id))&&void 0!==p?p:[],onSelectChange:y,children:(0,i.jsxs)(c.Space,{spacing:6,children:[(0,i.jsx)(c.Popconfirm,{title:o.o.t("enterprise_member_apply_opt_operate_button2_reject_desc",{amount:j.length}),okText:o.o.t("enterprise_member_apply_opt_operate_button_reject_confirm_button1"),cancelText:o.o.t("enterprise_member_apply_opt_operate_button_reject_confirm_button2"),okButtonColor:"red",okButtonProps:{loading:C},onConfirm:()=>{k({id:j,status:A.uv.rejected})},children:(0,i.jsx)(c.Button,{size:"small",color:"redhglt",children:o.o.t("enterprise_member_apply_opt_operate_button2_reject_all")})}),(0,i.jsx)(c.Popconfirm,{title:(0,i.jsx)("span",{children:o.o.t("enterprise_member_apply_opt_operate_button3_pass_desc",{amount:j.length,doc:(0,i.jsx)("a",{href:ep.Vc,target:"_blank",children:o.o.t("enterprise_member_apply_opt_operate_button3_pass_desc1")})})}),okText:o.o.t("enterprise_member_list_add_new_member_button_confirm"),cancelText:o.o.t("enterprise_member_apply_opt_operate_button_reject_confirm_button2"),okButtonProps:{disabled:(null==N?void 0:N.instanceStatus)!==l.Od.Running},onConfirm:()=>{k({id:j,status:A.uv.approved})},children:(0,i.jsx)(c.Button,{size:"small",disabled:(null==N?void 0:N.instanceStatus)!==l.Od.Running,children:o.o.t("enterprise_member_apply_opt_operate_button3_pass_all")})})]})})]})},nl={page:1,page_size:15,search_key:""},no=e=>{var{setTotal:t}=e,n=(0,ev.F2)(),[r,l]=(0,a.useState)(nl),{data:p,loading:_}=(0,s.Z)(()=>d.f_.ListJoinApplication((0,eY._)((0,eU._)({},r),{enterprise_id:null!=n?n:""})),{refreshDeps:[r]}),m=(0,a.useRef)(null),{run:u}=(0,tE.Z)(e=>{var t;l(t=>(0,eY._)((0,eU._)({},t),{search_key:e,page:1})),null===(t=m.current)||void 0===t||t.reset()});return(0,i.jsxs)("div",{className:"flex flex-col gap-[20px] overflow-hidden",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)(c.Select,{className:"w-[120px] ".concat((null==r?void 0:r.application_status)&&"border border-solid !border-[var(--semi-color-focus-border)]"),optionList:(0,ep.Sg)(),value:r.application_status,onChange:e=>{var t;null===(t=m.current)||void 0===t||t.reset(),l(t=>(0,eY._)((0,eU._)({},t),{application_status:e,page:1}))}}),(0,i.jsx)("div",{className:"flex items-center gap-[8px]",children:(0,i.jsx)(c.Search,{className:"w-[200px]",placeholder:o.o.t("enterprise_member_management_page_tab1_member_list_search"),loading:_,showClear:!0,value:r.search_key,onSearch:u})})]}),(0,i.jsx)("div",{className:q()(["overflow-auto","[&_.semi-table-body]:!max-h-[unset]","[&_.semi-table-header]:sticky","[&_.semi-table-header]:z-[1]"]),children:(0,i.jsx)(ns,{tableRef:m,dataList:null==p?void 0:p.data,setParams:l,loading:_,enterpriseId:n,hasFilter:!!r.search_key||!!r.application_status,clearFilter:()=>{var e;null===(e=m.current)||void 0===e||e.reset(),l(nl)},refresh:()=>{var e;l(e=>(0,eY._)((0,eU._)({},e),{page:1})),null===(e=m.current)||void 0===e||e.reset()},setTotal:t})})]})},{TabPanel:nc}=c.TabBar,nd=e=>{var{invitePath:t}=e,[n,r]=(0,a.useState)(0),s=(0,ev.ZY)(),l=(0,eB.fK)(s),[d]=(0,L.V)();(0,B.mR)({manual:!1});var[{tab:p},_]=(0,eA.Z)({tab:"member"},{navigateMode:"replace"});return(0,i.jsx)("div",{className:"pt-20px px-[24px] h-full overflow-hidden flex flex-col",children:(0,i.jsxs)("div",{className:"flex flex-col gap-[8px] overflow-hidden",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)(c.TabBar,{tabBarClassName:"shrink-0 flex-1 h-[38px] items-center",contentStyle:{display:"none"},align:"left",activeKey:p,onChange:e=>{_({tab:e})},children:[(0,i.jsx)(nc,{tab:o.o.t("enterprise_member_management_page_tab1_member_list"),itemKey:"member"}),l?(0,i.jsx)(nc,{tab:o.o.t("enterprise_invite_management_title"),itemKey:"invite"}):null,l?(0,i.jsx)(nc,{tab:o.o.t("enterprise_member_management_page_tab2_apply_list"),itemKey:"apply"}):null,l?(0,i.jsx)(nc,{tab:o.o.t("enterprise_member_management_page_tab3_permission"),itemKey:"permission"}):null,l&&d["bot.community.usage_management"]?(0,i.jsx)(nc,{tab:o.o.t("usage_management"),itemKey:"usage"}):null]}),(0,i.jsxs)("div",{className:"flex gap-[4px] text-[14px] block",children:[(0,i.jsx)("div",{className:"coz-fg-secondary",children:o.o.t("move_workspace_pop_up_all_user_amount")}),(0,i.jsx)("div",{className:"font-[500]",children:n})]})]}),"member"===p?(0,i.jsx)(nt,{isManager:l,invitePath:t,setTotal:r}):null,l?(0,i.jsxs)(i.Fragment,{children:["invite"===p?(0,i.jsx)(ni,{}):null,"apply"===p?(0,i.jsx)(no,{setTotal:r}):null,"permission"===p?(0,i.jsx)(tQ,{}):null,"usage"===p?(0,i.jsx)(tZ,{}):null]}):null]})})},np=e=>{var{organizationId:t,spaceName:n,invitePath:r="organization-invite",isEnterPriseLevel:l}=e,[p,_]=(0,a.useState)(!1),{data:m,run:u,loading:x}=(0,s.Z)(()=>d.f_.GetOrganizationApplicationForEnterpriseMember({organization_id:null!=t?t:""}),{manual:!0}),h="https://".concat(window.location.hostname,"/").concat(r,"/").concat(t),g="".concat(h);return{node:(0,i.jsx)(c.Modal,{title:o.o.t("enterprise_share_link_pop_title",{enterprise_version_name:l?o.o.t("enterprise_version_name_value2_enterprise"):o.o.t("enterprise_version_name")}),footer:null,visible:p,onCancel:()=>{_(!1)},children:(0,i.jsx)(c.Spin,{spinning:!m&&x,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"coz-fg-primary",children:"\u5206\u4EAB\u6B64\u94FE\u63A5\u9080\u8BF7\u7528\u6237\u52A0\u5165\u4F60\u7684\u7EC4\u7EC7"}),(0,i.jsxs)("div",{className:"mt-[16px] p-[16px] border border-solid coz-stroke-primary rounded",children:[(0,i.jsx)("div",{className:"w-full coz-fg-secondary",children:(0,i.jsx)(c.Typography.Text,{ellipsis:{showTooltip:!0},className:"coz-fg-secondary whitespace-break-spaces break-all",children:h})}),(0,i.jsx)(c.Button,{type:"primary",theme:"solid",className:"mt-[8px]",size:"small",onClick:()=>{tV()(g)&&c.Toast.success({showClose:!1,content:o.o.t("copy_success")})},children:o.o.t("Copy_link")})]})]})})}),open:()=>{_(!0),u()},close:()=>{_(!1)}}},n_=e=>{var{avatar:t,username:n,name:r,labelWidth:a}=e;return(0,i.jsxs)(c.Space,{children:[(0,i.jsx)(c.CozAvatar,{src:t,size:"small"}),(0,i.jsxs)(c.Space,{spacing:6,className:"w-[180px]",style:(0,eU._)({},a?{width:a}:{}),children:[(0,i.jsx)(c.Typography.Text,{className:"coz-fg-primary !font-[500]",ellipsis:{showTooltip:{opts:{content:r,style:{wordBreak:"break-word"}}}},children:r}),(0,i.jsx)(c.Typography.Text,{className:"coz-fg-secondary",ellipsis:{showTooltip:{opts:{content:n,style:{wordBreak:"break-word"}}}},children:"@".concat(n)})]})]})},nm=()=>{c.Toast.warning({showClose:!1,content:o.o.t("enterprise_team_user_amount_limitation")})},nu=e=>{var t,n,r,{list:s,selected:l,onSearch:d,onSelectChange:p,membersRemainingAdd:_,searchLoading:m,membersLimit:u}=e,[x,h]=(0,a.useState)(""),g=(0,ev.HU)(),v=(0,T.zD)(),f={addMembers:e=>{var t;return p((0,tG.Z)(l.concat(null===(t=e.filter(e=>!e.joined))||void 0===t?void 0:t.map(e=>(0,eY._)((0,eU._)({},e),{organization_role_type:e.people_type===A.hf.enterprise_guest?A.ZQ.guest2:A.ZQ.member2}))),e=>e.user_id))},removeMember:e=>p(l.filter(t=>t.user_id!==e)),changeRole:(e,t)=>{var n=l.find(e=>e.user_id===t);n&&(n.organization_role_type=e),p([...l])}},{checkAll:b,indeterminate:j,remainingCount:y}=(0,eB.ZW)(s,l),w=(0,a.useRef)(null),N=(0,tW.Z)(w);return(0,i.jsxs)("div",{className:"flex flex-col h-full",children:[(0,i.jsx)("div",{className:"px-[4px] pb-[12px] coz-fg-secondary",children:o.o.t("enterprise_member_list_add_new_member_tips",{doc:(0,i.jsx)("span",{className:"coz-fg-hglt pl-2 cursor-pointer",onClick:()=>window.open("/open/docs/guides/create_member#895f1618","_blank"),children:o.o.t("enterprise_member_list_add_new_member_tips1_doc_key")})})}),(0,i.jsxs)("div",{className:"flex items-stretch flex-1 overflow-y-auto",children:[(0,i.jsxs)("section",{className:"flex flex-col w-[364px] pr-[24px]",children:[(0,i.jsx)("div",{className:"flex justify-between w-full h-[32px]",children:(0,i.jsx)(c.Search,{showClear:!0,className:"!w-full",value:x,onChange:e=>{h(e)},onSearch:(t=(0,ef._)(function*(e){yield d(null!=e?e:"")}),function(e){return t.apply(this,arguments)}),placeholder:o.o.t("enterprise_member_list_add_new_member_search")})}),!!s.length&&(0,i.jsxs)("div",{className:"mt-[20px]",children:[(0,i.jsx)(c.Checkbox,{disabled:!s.length,checked:b,indeterminate:j,onChange:e=>{if(e.target.checked){if((null==g?void 0:g.level)===A.aC.team&&y+l.length>_){nm();return}f.addMembers(s);return}p((0,tJ.Z)(l,(0,tX.Z)(l,s,e=>e.user_id),e=>e.user_id))},children:o.o.t("Select_all")}),(0,i.jsx)(c.Divider,{className:"w-full mt-[10px]"})]}),(0,i.jsx)("div",{className:"overflow-auto flex flex-col gap-[20px] h-full mt-[10px]",ref:w,children:m?(0,i.jsx)(c.Spin,{wrapperClassName:"w-full h-full"}):(0,i.jsx)(i.Fragment,{children:s.length?(0,i.jsx)(t$.t7,{height:null!==(n=null==N?void 0:N.height)&&void 0!==n?n:0,width:null!==(r=null==N?void 0:N.width)&&void 0!==r?r:0,itemSize:44,itemCount:s.length,children:e=>{var{index:t,style:n}=e,r=s[t];return(0,i.jsx)("div",{style:n,children:(0,i.jsx)(c.Checkbox,{className:"items-center",checked:(0,eB.pU)(r,l),disabled:r.joined,onChange:e=>{if(e.target.checked){if((null==g?void 0:g.level)===A.aC.team&&l.length>=_){nm();return}f.addMembers([r]);return}f.removeMember(r.user_id)},children:(0,i.jsxs)("div",{className:"flex-1 flex items-center justify-between",children:[(0,i.jsx)(n_,{labelWidth:"170px",avatar:r.avatar_url,name:r.user_name,searchWord:x,username:r.name}),(0,i.jsxs)("div",{className:"flex items-center gap-[4px]",children:[r.joined?(0,i.jsx)(c.Tag,{color:"green",size:"mini",children:o.o.t("enterprise_member_list_add_new_member_tag_added")}):null,r.people_type?(0,i.jsx)(c.Tag,{color:(0,ep.Lr)()[r.people_type].color,size:"mini",children:(0,ep.Lr)()[r.people_type].text}):null]})]})},r.user_id)})}}):(0,i.jsx)(c.EmptyState,{className:"mt-[150px] mx-auto",size:"large",icon:(0,i.jsx)(E.SHo,{}),title:o.o.t("enterprise_member_list_add_new_member_search_tips")})})})]}),(0,i.jsx)(c.Divider,{layout:"vertical",className:"h-full"}),(0,i.jsxs)("section",{className:"flex flex-col flex-1 pl-[24px]",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between h-[36px] leading-[36px]",children:[(0,i.jsxs)(c.Space,{spacing:4,className:"coz-fg-secondary",children:[(0,i.jsx)("div",{children:o.o.t("enterprise_member_list_add_new_member_button_chosen")}),(0,i.jsx)("div",{className:"coz-fg-hglt font-[500]",children:l.length}),(null==g?void 0:g.level)===A.aC.team?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{children:"/"}),(0,i.jsx)("div",{className:"coz-fg-plus font-[500]",children:_})]}):null]}),l.find(e=>e.people_type===A.hf.enterprise_guest)?(0,i.jsx)("span",{className:"coz-fg-hglt-yellow",children:o.o.t("enterprise_member_invite_pop_guest_billing_tips")}):null]}),(0,i.jsx)(c.Divider,{className:"w-full mt-[8px]"}),(0,i.jsx)("div",{className:"overflow-auto flex flex-col gap-[12px] h-full mt-[11px] ml-[3px]",children:(null==l?void 0:l.length)?l.map(e=>(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)(n_,{labelWidth:"210px",avatar:e.avatar_url,name:e.user_name,username:e.name}),(0,i.jsxs)(c.Space,{children:[e.people_type?(0,i.jsx)(c.Tag,{color:(0,ep.Lr)()[e.people_type].color,size:"mini",children:(0,ep.Lr)()[e.people_type].text}):null,e.people_type===A.hf.enterprise_guest?(0,i.jsx)(c.Select,{size:"small",className:"w-[80px]",optionList:[],disabled:!0,value:o.o.t("enterprise_member_list_character_guest")}):(0,i.jsx)(c.Select,{size:"small",className:"w-[80px]",optionList:(0,ep.a0)(v),value:e.organization_role_type,onChange:t=>f.changeRole(t,e.user_id)}),(0,i.jsx)(c.IconButton,{icon:(0,i.jsx)(E.rmE,{}),size:"small",color:"secondary",onClick:()=>{f.removeMember(e.user_id)}})]})]},e.user_id)):(0,i.jsx)(c.EmptyState,{className:"mt-[150px] mx-auto",size:"large",icon:(0,i.jsx)(E.Eo5,{}),title:o.o.t("enterprise_member_list_add_new_member_no_choose")})})]})]})]})},nx=e=>{var t,{membersRemainingAdd:n,selected:r,onSelectChange:a,organizationId:l,membersLimit:o}=e;var{data:c=[],runAsync:p,loading:_}=(0,s.Z)((t=(0,ef._)(function*(e){var t,n;return null!==(n=null===(t=(yield d.f_.SearchCanAddOrganizationPeople({search_key:e,organization_id:null!=l?l:"",page:1,page_size:50})).data)||void 0===t?void 0:t.add_organization_people_data_list)&&void 0!==n?n:[]}),function(e){return t.apply(this,arguments)}),{debounceWait:300});return(0,i.jsx)(nu,{selected:r,onSelectChange:a,list:c,onSearch:p,membersRemainingAdd:n,membersLimit:o,searchLoading:_})},nh=e=>{var{enterpriseInfo:t,organizationInfo:n,membersLimit:r,membersRemainingAdd:l,isSuperAdmin:p,onAddSuccess:_}=e,[m,u]=(0,a.useState)(!1),[x,h]=(0,a.useState)([]);console.log("isSuperAdmin",p);var{run:g,loading:v}=(0,s.Z)((0,ef._)(function*(){var e;return yield d.f_.BatchAddOrganizationPeople({organization_id:null!==(e=null==n?void 0:n.organization_id)&&void 0!==e?e:"",organization_people:x.map(e=>({user_id:e.user_id,organization_role_type:e.organization_role_type}))})}),{manual:!0,onSuccess:()=>{c.Toast.success("\u9080\u8BF7\u6210\u529F"),b(),null==_||_()}}),f=!x.length,b=()=>{h([]),u(!1)};return{node:(0,i.jsx)(c.Modal,{visible:m,title:o.o.t("enterprise_member_list_button_add_new_member"),footer:(0,i.jsxs)("div",{className:"flex items-center w-full justify-between",children:[(0,i.jsx)("div",{}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)(c.Button,{color:"primary",onClick:b,children:o.o.t("Cancel")}),f?(0,i.jsx)(c.Button,{disabled:!0,children:o.o.t("Confirm")}):(0,i.jsx)(c.Button,{loading:v,onClick:g,children:o.o.t("Confirm")})]})]}),width:860,height:608,modalContentClass:"px-[30px]",centered:!0,onCancel:b,children:(0,i.jsx)(nx,{organizationId:null==n?void 0:n.organization_id,membersRemainingAdd:l,membersLimit:r,selected:x,onSelectChange:h})}),open:()=>{u(!0)},close:()=>{u(!1)}}},ng=n("394660"),nv=e=>{var{memberInfo:t,disabled:n,tooltip:r,onSuccess:a,organizationId:s}=e,{node:l,open:d}=(0,ng.C)({organizationId:s,memberInfo:t,onSuccess:a}),p=(0,i.jsx)(c.Tooltip,{content:r,children:(0,i.jsx)(c.IconButton,{disabled:n,color:"secondary",icon:(0,i.jsx)(E.ruq,{})})});return(0,i.jsxs)(i.Fragment,{children:[n?p:(0,i.jsx)(c.Popconfirm,{title:o.o.t("team_remove_person_title"),trigger:"click",position:"bottomRight",okText:o.o.t("Remove"),okButtonColor:"red",cancelText:o.o.t("Cancel"),onConfirm:d,children:(0,i.jsx)("span",{children:p})}),l]})},nf=e=>{var{type:t}=e;return(0,i.jsx)(c.Tag,{color:(0,ep.Lr)()[t].color,size:"mini",children:(0,ep.Lr)()[t].text})},nb=e=>{var t,{memberInfo:n,editable:r,onUpdate:a,organizationId:l,currentRole:o}=e,{runAsync:p}=(0,s.Z)(e=>d.f_.UpdateOrganizationPeople({organization_id:null!=l?l:"",user_id:n.user_id,organization_role_type:e}),{manual:!0,onSuccess:()=>{null==a||a()}}),_=null!==(t=n.organization_role_type)&&void 0!==t?t:A.ZQ.member2;return(0,i.jsx)(i.Fragment,{children:r?(0,i.jsx)(c.Select,{chipRender:"trigger",value:_,size:"small",optionList:(0,ep.a0)(o),onChange:e=>p(e)}):(0,i.jsx)(c.Tag,{color:(0,ep.pD)()[_].color,size:"mini",children:(0,ep.pD)()[_].text})})},nj=e=>{var{tableRef:t,dataList:n,organizationId:r,refresh:s,setParams:l,loading:d,isManager:p=!1,clearFilter:_,hasFilter:m}=e,u=(0,T.I2)(),x=(null==n?void 0:n.organization_people_list)||[],{setOrganization:h,currentOrganization:g}=(0,T.ff)((0,eP.N)(e=>({setOrganization:e.setOrganization,currentOrganization:e.currentOrganization}))),v=(0,Z.Pc)(),f=(0,T.zD)(),b=e=>{if(!p)return!1;var t=e.organization_role_type!==A.ZQ.guest2&&(null==v?void 0:v.user_id_str)!==e.user_id;return f===A.ZQ.super_admin2?t:(null==v?void 0:v.user_id_str)===e.user_id||t&&e.organization_role_type!==A.ZQ.super_admin2};(0,a.useEffect)(()=>{g&&f&&g.organization_role_type!==f&&(g.organization_role_type=f,h(g))},[r,h,f]);var j=[{title:o.o.t("enterprise_member_management_page_tab1_member_list_nickname"),dataIndex:"user_id",render:(e,t)=>(0,i.jsxs)(c.Space,{className:"flex",children:[(0,i.jsx)(c.CozAvatar,{src:t.avatar_url}),(0,i.jsx)(c.Typography.Text,{className:"flex-1 text-[14px] !font-[500] leading-[20px] coz-fg-primary !max-w-[100px]",ellipsis:{showTooltip:!0},children:t.name}),t.valid?null:(0,i.jsx)(c.Tag,{size:"mini",color:"primary",children:o.o.t("enterprise_member_list_role_admin_tag_inactive")})]})},{title:o.o.t("enterprise_member_management_page_tab1_member_list_username"),dataIndex:"user_name",render:e=>(0,i.jsx)(c.Typography.Text,{style:{wordBreak:"break-word",flex:1,color:"rgba(32, 41, 69, 0.62)",fontSize:"14px",lineHeight:"16px"},children:e})},{title:o.o.t("enterprise_invite_management_info_identity"),dataIndex:"people_type",render:(e,t)=>t.people_type?(0,i.jsx)(nf,{type:t.people_type}):"-"},{title:o.o.t("enterprise_member_management_page_tab1_member_list_role"),dataIndex:"organization_role_type",render:(e,n)=>(0,i.jsx)(nb,{currentRole:f,memberInfo:n,organizationId:r,editable:b(n),onUpdate:()=>{var e;null===(e=t.current)||void 0===e||e.reset(),l(e=>(0,eY._)((0,eU._)({},e),{page:1}))}})},{title:o.o.t("enterprise_member_management_page_tab1_member_list_add_time"),dataIndex:"create_time",render:e=>(0,i.jsx)("span",{className:"text-[14px]",children:Number.isNaN(Number(e))?e:eF().unix(e).format("YYYY-MM-DD HH:mm")})},...p?[{title:o.o.t("actions"),width:108,render:(e,t)=>(0,i.jsx)(nv,{tooltip:u?o.o.t("enterprise_bytedance_ban_member_no_permission"):o.o.t("Remove"),memberInfo:t,onSuccess:()=>s(),organizationId:r,disabled:u||(null==v?void 0:v.user_id_str)===t.user_id||f===A.ZQ.admin2&&t.organization_role_type===A.ZQ.super_admin2})}]:[]];return(0,i.jsx)(c.Table,{ref:t,tableProps:{loading:d,className:"",dataSource:x,columns:j,rowKey:"user_id"},enableLoad:!0,total:Number(null==n?void 0:n.total),onLoad:()=>{l(e=>{var t;return(0,eY._)((0,eU._)({},e),{page:(null!==(t=e.page)&&void 0!==t?t:0)+1})})},empty:(0,i.jsx)(c.EmptyState,{size:"full_screen",className:"my-[100px]",icon:(0,i.jsx)(ta.Zo,{}),title:o.o.t("release_management_search_no"),buttonText:m?o.o.t("library_empty_clear_filters"):void 0,onButtonClick:_})})},ny={page:1,page_size:15,organization_role_type:void 0,search_key:"",people_type:void 0},nw=e=>{var t,n,p,_,{invitePath:m,isManager:u,setTotal:x}=e,h=(0,T.I2)(),[g,v]=(0,a.useState)(ny),f=(0,ev.HU)(),b=(0,T.y8)(),j=(0,r.H)(),y=(0,tK.HP)(),{data:w,loading:N}=(0,s.Z)((0,ef._)(function*(){var e;return(null==f?void 0:f.organization_id)?yield d.f_.SearchOrganizationPeople((0,eY._)((0,eU._)({},g),{organization_id:null!==(e=null==f?void 0:f.organization_id)&&void 0!==e?e:""})):null}),{refreshDeps:[g,null==f?void 0:f.enterprise_id],onSuccess:e=>{var t,n;null==x||x(Number(null!==(n=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.total)&&void 0!==n?n:0))}}),z=(0,a.useRef)(null),{run:C}=(0,tE.Z)(e=>{var t;v(t=>(0,eY._)((0,eU._)({},t),{search_key:e,page:1})),null===(t=z.current)||void 0===t||t.reset()}),k=()=>{var e;v(e=>(0,eY._)((0,eU._)({},e),{page:1})),null===(e=z.current)||void 0===e||e.reset()},{node:S,open:A}=np({organizationId:null!==(n=null==f?void 0:f.organization_id)&&void 0!==n?n:"",spaceName:null!==(p=null==f?void 0:f.name)&&void 0!==p?p:"",invitePath:m,isEnterPriseLevel:j.level===r.a.Enterprise}),{node:B,open:P}=nh({enterpriseInfo:null!=f?f:void 0,organizationInfo:null!=b?b:void 0,membersRemainingAdd:j.maxMember-Number(null!==(_=null==w?void 0:null===(t=w.data)||void 0===t?void 0:t.total)&&void 0!==_?_:0),membersLimit:j.maxMember,isSuperAdmin:!0,isRootUser:y,onAddSuccess:k});return(0,i.jsxs)("div",{className:"flex flex-col gap-[20px] overflow-hidden",children:[(0,i.jsx)("div",{className:"flex flex-col gap-[8px] flex-shrink-0 overflow-hidden",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,i.jsx)(c.Select,{className:"w-[120px] ".concat(!!(null==g?void 0:g.people_type)&&"border border-solid !border-[var(--semi-color-focus-border)]"),optionList:(0,ep.Fw)(),value:g.people_type,onChange:e=>{var t;null===(t=z.current)||void 0===t||t.reset(),(!e||"string"==typeof e)&&v(t=>(0,eY._)((0,eU._)({},t),{people_type:e,page:1}))}}),(0,i.jsx)(c.Select,{className:"w-[120px] ".concat(!!(null==g?void 0:g.organization_role_type)&&"border border-solid !border-[var(--semi-color-focus-border)]"),optionList:(0,ep.jo)(),value:g.organization_role_type,onChange:e=>{var t;null===(t=z.current)||void 0===t||t.reset(),v(t=>(0,eY._)((0,eU._)({},t),{organization_role_type:e||void 0,page:1}))}})]}),(0,i.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,i.jsx)(c.Search,{className:"w-[200px]",placeholder:o.o.t("Search"),loading:N,showClear:!0,value:g.search_key,onSearch:C}),u?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Tooltip,{content:o.o.t("enterprise_bytedance_ban_member_edit"),trigger:h?"hover":"custom",children:(0,i.jsx)(c.IconButton,{disabled:h,icon:(0,i.jsx)(E.JHY,{}),onClick:A})}),j.instanceStatus===l.Od.Running?(0,i.jsx)(c.Tooltip,{content:o.o.t("enterprise_bytedance_ban_member_edit"),trigger:h?"hover":"custom",children:(0,i.jsx)(c.Button,{icon:(0,i.jsx)(E.Fiw,{}),onClick:P,disabled:h,children:o.o.t("enterprise_member_list_role_type2_normal_member")})}):(0,i.jsx)(c.Tooltip,{content:o.o.t("coze_pro_version_expired_tips"),children:(0,i.jsx)(c.Button,{icon:(0,i.jsx)(E.Fiw,{}),disabled:!0,children:o.o.t("enterprise_member_list_role_type2_normal_member")})})]}):null]})]})}),(0,i.jsx)("div",{className:q()(["overflow-auto","[&_.semi-table-body]:!max-h-[unset]","[&_.semi-table-header]:sticky","[&_.semi-table-header]:z-[1]"]),children:(0,i.jsx)(nj,{tableRef:z,isManager:u,dataList:null==w?void 0:w.data,organizationId:null==f?void 0:f.organization_id,setParams:v,loading:N,hasFilter:!!g.search_key||!!g.organization_role_type,clearFilter:()=>{var e;null===(e=z.current)||void 0===e||e.reset(),v(ny)},refresh:k})}),S,B]})},nN=e=>{var t,n,p,{tableRef:_,dataList:m,refresh:u,setParams:x,loading:h,clearFilter:g,hasFilter:v,organizationId:f,setTotal:b}=e,[j,y]=(0,a.useState)([]),w=(0,T.I2)(),N=null!==(n=null==m?void 0:m.join_organization_application_list)&&void 0!==n?n:[],z=(0,r.H)(),{loading:C,runAsync:k}=(0,s.Z)(e=>{var{id:t=[],status:n}=e;return d.f_.UpdateJoinOrganizationApplication({organization_id:null!=f?f:"",join_application_id_list:null!=t?t:[],application_status:n})},{manual:!0,onSuccess:(e,t)=>{(null==t?void 0:t[0].status)===A.uv.approved?(null==b||b(e=>e+t[0].id.length),c.Toast.success(o.o.t("enterprise_member_apply_opt_operate_button3_pass_toast"))):c.Toast.warning(o.o.t("enterprise_member_apply_opt_operate_button2_reject_toast")),y([]),u()}}),S=[{title:o.o.t("enterprise_member_apply_opt_nickname"),dataIndex:"join_application_id",render:(e,t)=>{var n,r;return(0,i.jsxs)(c.Space,{className:"flex",children:[(0,i.jsx)(c.CozAvatar,{src:null===(n=t.applicant)||void 0===n?void 0:n.avatar_url}),(0,i.jsx)(c.Typography.Text,{className:"flex-1 text-[14px] !font-[500] leading-[20px] coz-fg-primary",ellipsis:{showTooltip:!0},children:null===(r=t.applicant)||void 0===r?void 0:r.nick_name})]})}},{title:o.o.t("enterprise_member_apply_opt_username"),dataIndex:"name",render:(e,t)=>{var n;return(0,i.jsx)(c.Typography.Text,{style:{wordBreak:"break-word",flex:1,color:"rgba(32, 41, 69, 0.62)",fontSize:"14px",lineHeight:"16px"},children:null===(n=t.applicant)||void 0===n?void 0:n.name})}},{title:o.o.t("enterprise_member_apply_opt_time"),dataIndex:"create_time",render:e=>(0,i.jsx)("span",{className:"text-[14px]",children:Number.isNaN(Number(e))?e:eF().unix(e).format("YYYY-MM-DD HH:mm")})},{title:o.o.t("enterprise_member_apply_opt_status"),dataIndex:"application_status",render:(e,t)=>(0,i.jsx)(c.Tag,{size:"mini",color:(0,ep.sy)()[t.application_status].color,suffixIcon:t.application_status!==A.uv.processing&&(0,i.jsx)(c.Tooltip,{content:"".concat(t.operator," ").concat((0,ep.sy)()[t.application_status].text),children:(0,i.jsx)(E.L03,{})}),children:(0,ep.sy)()[t.application_status].text})},{title:o.o.t("enterprise_apply_management_apply_info"),dataIndex:"remark",render:(e,t)=>t.remark?(0,i.jsx)(c.Typography.Text,{className:"text-[14px] leading-[20px] coz-fg-secondary break-all",ellipsis:{showTooltip:!0,rows:2},children:t.remark}):"-"},{title:o.o.t("actions"),width:108,render:(e,t)=>t.application_status===A.uv.processing?(0,i.jsx)(c.Space,{spacing:6,children:j.length||(null==z?void 0:z.instanceStatus)!==l.Od.Running?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Button,{size:"small",color:"redhglt",disabled:!0,children:o.o.t("enterprise_member_apply_opt_operate_button_reject")}),(0,i.jsx)(c.Button,{size:"small",disabled:!0,children:o.o.t("enterprise_member_apply_opt_operate_button_pass")})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Popconfirm,{title:o.o.t("enterprise_member_apply_opt_operate_button_reject_confirm"),okText:o.o.t("enterprise_member_apply_opt_operate_button_reject_confirm_button1"),cancelText:o.o.t("enterprise_member_apply_opt_operate_button_reject_confirm_button2"),okButtonColor:"red",okButtonProps:{loading:C},onConfirm:()=>{k({id:[t.join_application_id],status:A.uv.rejected})},trigger:w?"custom":"click",children:(0,i.jsx)(c.Button,{size:"small",color:"redhglt",disabled:w,children:o.o.t("enterprise_member_apply_opt_operate_button_reject")})}),(0,i.jsx)(c.Popconfirm,{title:(0,i.jsx)("span",{children:o.o.t("workspace_apply_confirm_pop",{amount:1})}),okText:o.o.t("enterprise_member_list_add_new_member_button_confirm"),cancelText:o.o.t("enterprise_member_apply_opt_operate_button_reject_confirm_button2"),okButtonProps:{loading:C},onConfirm:()=>{k({id:[t.join_application_id],status:A.uv.approved})},trigger:w?"custom":"click",children:(0,i.jsx)(c.Button,{size:"small",disabled:w,children:o.o.t("enterprise_member_apply_opt_operate_button_pass")})})]})}):null}];return(0,i.jsxs)("div",{className:"h-full",children:[(0,i.jsx)(c.Table,{ref:_,tableProps:{rowSelection:{selectedRowKeys:j,getCheckboxProps:e=>({disabled:w||e.application_status!==A.uv.processing}),onChange:e=>{y(e)}},loading:h,className:"",dataSource:N,columns:S,rowKey:"join_application_id"},enableLoad:!0,total:Number(null==m?void 0:m.total),onLoad:()=>{x(e=>{var t;return(0,eY._)((0,eU._)({},e),{page:(null!==(t=e.page)&&void 0!==t?t:0)+1})})},empty:(0,i.jsx)(c.EmptyState,{size:"full_screen",className:"my-[100px]",icon:(0,i.jsx)(ta.Zo,{}),title:o.o.t("release_management_search_no"),buttonText:v?o.o.t("library_empty_clear_filters"):void 0,onButtonClick:g})}),(0,i.jsx)(na.m,{selectedIds:j,totalIds:null!==(p=null===(t=N.filter(e=>e.application_status===A.uv.processing))||void 0===t?void 0:t.map(e=>e.join_application_id))&&void 0!==p?p:[],onSelectChange:y,children:(0,i.jsxs)(c.Space,{spacing:6,children:[(0,i.jsx)(c.Popconfirm,{title:o.o.t("enterprise_member_apply_opt_operate_button2_reject_desc",{amount:j.length}),okText:o.o.t("enterprise_member_apply_opt_operate_button_reject_confirm_button1"),cancelText:o.o.t("enterprise_member_apply_opt_operate_button_reject_confirm_button2"),okButtonColor:"red",okButtonProps:{loading:C},onConfirm:()=>{k({id:j,status:A.uv.rejected})},children:(0,i.jsx)(c.Button,{size:"small",color:"redhglt",children:o.o.t("enterprise_member_apply_opt_operate_button2_reject_all")})}),(0,i.jsx)(c.Popconfirm,{title:(0,i.jsx)("span",{children:o.o.t("workspace_apply_confirm_pop",{amount:j.length})}),okText:o.o.t("enterprise_member_list_add_new_member_button_confirm"),cancelText:o.o.t("enterprise_member_apply_opt_operate_button_reject_confirm_button2"),okButtonProps:{disabled:(null==z?void 0:z.instanceStatus)!==l.Od.Running},onConfirm:()=>{k({id:j,status:A.uv.approved})},children:(0,i.jsx)(c.Button,{size:"small",disabled:(null==z?void 0:z.instanceStatus)!==l.Od.Running,children:o.o.t("enterprise_member_apply_opt_operate_button3_pass_all")})})]})})]})},nz={page:1,page_size:15,search_key:""},nC=e=>{var{setTotal:t}=e,n=(0,T.bK)(),[r,l]=(0,a.useState)(nz),{data:p,loading:_}=(0,s.Z)(()=>d.f_.ListJoinOrganizationApplication((0,eY._)((0,eU._)({},r),{organization_id:null!=n?n:""})),{refreshDeps:[r]}),m=(0,a.useRef)(null),{run:u}=(0,tE.Z)(e=>{var t;l(t=>(0,eY._)((0,eU._)({},t),{search_key:e,page:1})),null===(t=m.current)||void 0===t||t.reset()});return(0,i.jsxs)("div",{className:"flex flex-col gap-[20px] overflow-hidden",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)(c.Select,{className:"w-[120px] ".concat((null==r?void 0:r.application_status)&&"border border-solid !border-[var(--semi-color-focus-border)]"),optionList:(0,ep.Sg)(),value:r.application_status,onChange:e=>{var t;null===(t=m.current)||void 0===t||t.reset(),l(t=>(0,eY._)((0,eU._)({},t),{application_status:e,page:1}))}}),(0,i.jsx)("div",{className:"flex items-center gap-[8px]",children:(0,i.jsx)(c.Search,{className:"w-[200px]",placeholder:o.o.t("enterprise_member_management_page_tab1_member_list_search"),loading:_,showClear:!0,value:r.search_key,onSearch:u})})]}),(0,i.jsx)("div",{className:q()(["overflow-auto","[&_.semi-table-body]:!max-h-[unset]","[&_.semi-table-header]:sticky","[&_.semi-table-header]:z-[1]"]),children:(0,i.jsx)(nN,{tableRef:m,dataList:null==p?void 0:p.data,setParams:l,loading:_,organizationId:n,hasFilter:!!r.search_key||!!r.application_status,clearFilter:()=>{var e;null===(e=m.current)||void 0===e||e.reset(),l(nz)},refresh:()=>{var e;l(e=>(0,eY._)((0,eU._)({},e),{page:1})),null===(e=m.current)||void 0===e||e.reset()},setTotal:t})})]})},{TabPanel:nk}=c.TabBar,nT=e=>{var{invitePath:t}=e,[n,r]=(0,a.useState)(0),s=(0,T.zD)(),l=(0,eB.N7)(s),[{tab:d},p]=(0,eA.Z)({tab:"member"},{navigateMode:"replace"});return(0,i.jsxs)("div",{className:"py-0 px-[24px] h-full overflow-hidden flex flex-col",children:[(0,i.jsxs)("div",{className:"flex item-center justify-between py-[24px]",children:[(0,i.jsx)("div",{className:"font-[500] text-[20px] leading-[32px]",children:"\u7EC4\u7EC7\u6210\u5458\u7BA1\u7406"}),"member"===d?(0,i.jsxs)(c.Space,{spacing:4,className:"text-[14px]",children:[(0,i.jsx)("div",{className:"coz-fg-secondary",children:o.o.t("move_workspace_pop_up_all_user_amount")}),(0,i.jsx)("div",{className:"font-[500]",children:n})]}):null]}),(0,i.jsxs)("div",{className:"flex flex-col gap-[8px] overflow-hidden",children:[(0,i.jsxs)(c.TabBar,{tabBarClassName:"h-[38px] items-center",contentStyle:{display:"none"},align:"left",type:"text",activeKey:d,onChange:e=>{p({tab:e})},children:[(0,i.jsx)(nk,{tab:o.o.t("enterprise_member_management_page_tab1_member_list"),itemKey:"member"}),l?(0,i.jsx)(nk,{tab:o.o.t("enterprise_member_management_page_tab2_apply_list"),itemKey:"apply"}):null]}),"member"===d?(0,i.jsx)(nw,{isManager:l,invitePath:t,setTotal:r}):null,l?(0,i.jsx)(i.Fragment,{children:"apply"===d?(0,i.jsx)(nC,{setTotal:r}):null}):null]})]})},nS=n("359948"),nA=e=>{var{denyType:t,status:n,enterpriseID:r,remark:a,inviteKey:l,onApply:p,onJoined:_}=e,m=(0,D.useNavigate)(),{run:u,loading:x}=(0,s.Z)(()=>d.f_.CreateJoinApplication({key:l,remark:a}),{manual:!0,onSuccess:e=>{e&&(c.Toast.success(o.o.t("enterprise_share_link_page_applied_toast")),null==p||p())}});if(n===A.vf.can_apply)return(0,i.jsx)(c.Button,{size:"large",className:"flex-1",loading:x,onClick:u,children:o.o.t("enterprise_share_link_page_button_apply")});if(n===A.vf.already_applied)return(0,i.jsx)(c.Button,{size:"large",className:"flex-1",disabled:!0,children:o.o.t("enterprise_share_link_page_button_status1_applied")});if(n===A.vf.joined)return(0,i.jsx)(c.Button,{size:"large",className:"flex-1",onClick:()=>{_?_(r||""):m("/enterprise/".concat(r,"/home"))},children:o.o.t("enterprise_share_link_page_button_status2_added")});if(n===A.vf.expired)return(0,i.jsx)(c.Button,{size:"large",className:"flex-1",disabled:!0,children:o.o.t("enterprise_share_link_page_button_status4_expired")});if(n===A.vf.deny){if(t===A.dc.visitors_prohibited)return(0,i.jsx)(c.Button,{size:"large",className:"flex-1",disabled:!0,children:o.o.t("invite_enterprise_page_button_unable_join1")});if(t===A.dc.guest_prohibited_by_invited_user_enterprise2)return(0,i.jsx)(c.Button,{size:"large",className:"flex-1",disabled:!0,children:o.o.t("invite_enterprise_page_button_unable_join2")})}return null},nB=e=>{var t,n,r,{inviteKey:l,onJoined:p}=e,[_,m]=(0,a.useState)(""),{data:u,error:x,run:h}=(0,s.Z)(()=>d.f_.GetInviteInfo({invite_key:l}),{onSuccess:e=>{var t;m(null!==(t=e.data.remark)&&void 0!==t?t:"")}}),g=null==u?void 0:u.data;return g?(0,i.jsx)(tU.RR,{brand:(0,i.jsx)(nS.e,{isOversea:!1}),headerAddonTop:(0,i.jsx)(tU.h_,{avatar:null===(t=g.link_creator)||void 0===t?void 0:t.avatar_url,name:null===(n=g.link_creator)||void 0===n?void 0:n.nick_name,username:null===(r=g.link_creator)||void 0===r?void 0:r.name}),header:o.o.t("enterprise_share_link_page_title1"),mainAvatar:g.icon_url,mainTitle:g.name,mainList:g.super_admin_list.map(e=>(0,i.jsx)(tU.h_,{avatar:e.avatar_url,name:e.nick_name,username:e.name,tag:(0,i.jsx)(c.Tag,{color:"yellow",size:"small",children:o.o.t("enterprise_share_link_page_admin_info")})})),mainTextarea:g.invite_link_status===A.vf.can_apply||g.invite_link_status===A.vf.already_applied?(0,i.jsx)(c.TextArea,{rows:1,maxCount:20,maxLength:20,value:_,onChange:e=>m(e),disabled:g.invite_link_status===A.vf.already_applied}):null,mainTips:(null==g?void 0:g.expiration_time)?o.o.t("enterprise_share_link_page_expire_info",{date:eF().unix(Number(null==g?void 0:g.expiration_time)).format("YYYY-MM-DD HH:mm:ss")}):"",mainActions:(0,i.jsx)(nA,{denyType:g.deny_type,inviteKey:l,remark:_,status:g.invite_link_status,enterpriseID:g.enterprise_id,onApply:()=>{h()},onJoined:p}),fallback:x?(0,i.jsx)(c.Empty,{image:(0,i.jsx)(ta.TL,{width:"160px",height:"160px"}),title:o.o.t("workspace_invites_page_button6_no_access_permission")}):null}):null},nP=n("169702"),nI=e=>{var{invitationStatus:t,denyType:n,enterpriseID:r,joinInvitationID:a,onStatusChange:l,onJoined:p}=e,_=()=>{window.location.href="/enterprise/".concat(r,"/home")},{run:m}=(0,s.Z)(e=>d.f_.UpdateJoinInvitation({enterprise_id:r,join_invitation_id:a,joined:e}),{manual:!0,onSuccess:(e,t)=>{t[0]?p?p(r):_():(c.Toast.success({content:o.o.t("enterprise_invite_management_info_status_denied")}),null==l||l())},onError:()=>{c.Toast.error({content:o.o.t("premium_action_failed")})}});if(t===A.IU.confirming2)return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Button,{size:"large",className:"flex-1",color:"primary",onClick:()=>m(!1),children:o.o.t("enterprise_member_apply_opt_operate_button_reject")}),(0,i.jsx)(c.Button,{size:"large",className:"flex-1",onClick:()=>m(!0),children:o.o.t("team_invite_join")})]});if(t===A.IU.joined3)return(0,i.jsx)(c.Button,{size:"large",className:"flex-1",onClick:()=>_(),children:o.o.t("enterprise_share_link_page_button_status2_added")});if(t===A.IU.rejected3)return(0,i.jsx)(c.Button,{size:"large",className:"flex-1",disabled:!0,children:o.o.t("enterprise_invite_management_info_status_denied")});if(t===A.IU.expired3)return(0,i.jsx)(c.Button,{size:"large",className:"flex-1",disabled:!0,children:o.o.t("enterprise_share_link_page_button_status4_expired")});if(t===A.IU.revoked2)return(0,i.jsx)(c.Button,{size:"large",className:"flex-1",disabled:!0,children:o.o.t("enterprise_workspace_invite_page_button_status_invalid")});if(t===A.IU.deny2){if(n===A._k.guest_prohibited_by_enterprise2)return(0,i.jsx)(c.Button,{size:"large",className:"flex-1",disabled:!0,children:o.o.t("invite_enterprise_page_button_unable_join1")});if(n===A._k.guest_prohibited_by_invited_user_enterprise3)return(0,i.jsx)(c.Button,{size:"large",className:"flex-1",disabled:!0,children:o.o.t("invite_enterprise_page_button_unable_join2")})}return null},nR=e=>{var{inviteKey:t,onJoined:n}=e,{data:r,error:a,run:l}=(0,s.Z)(()=>d.f_.GetJoinInvitation({join_invitation_id:t})),p=null==r?void 0:r.data;return p?(0,i.jsx)(tU.RR,{brand:(0,i.jsx)(nP.e1,{isOversea:!1}),headerAddonTop:(0,i.jsx)(tU.h_,{avatar:p.inviter.avatar_url,name:p.inviter.nick_name,username:p.inviter.name}),header:o.o.t("enterprise_share_link_page_title1"),mainAvatar:p.icon_url,mainTitle:p.name,mainList:p.super_admin_list.map(e=>(0,i.jsx)(tU.h_,{avatar:e.avatar_url,name:e.nick_name,username:e.name,tag:(0,i.jsx)(c.Tag,{color:"yellow",size:"small",children:o.o.t("enterprise_share_link_page_admin_info")})})),mainTips:p.expiration_time?o.o.t("enterprise_share_link_page_expire_info",{date:eF().unix(Number(null==p?void 0:p.expiration_time)).format("YYYY-MM-DD HH:mm:ss")}):"",mainActions:(0,i.jsx)(nI,{invitationStatus:p.invitation_status,denyType:p.invitation_deny_type,enterpriseID:p.enterprise_id,joinInvitationID:t,onStatusChange:()=>{l()},onJoined:n}),fallback:a||p.invitation_status===A.IU.deny2&&p.invitation_deny_type===A._k.no_permission?(0,i.jsx)(c.Empty,{image:(0,i.jsx)(ta.TL,{width:"160px",height:"160px"}),title:o.o.t("workspace_invites_page_button6_no_access_permission")}):null}):null},nM=e=>{var{denyType:t,status:n,remark:r,organizationId:a,onApply:l,isSuperAdmin:p,joinedCallback:_}=e,{run:m,loading:u}=(0,s.Z)(()=>d.f_.CreateJoinOrganizationApplication({organization_id:a,remark:r}),{manual:!0,onSuccess:e=>{e&&(!p&&c.Toast.success(o.o.t("enterprise_share_link_page_applied_toast")),null==l||l())}});if(n===A.br.can_apply3)return(0,i.jsx)(c.Button,{size:"large",className:"flex-1",loading:u,onClick:m,children:o.o.t("enterprise_share_link_page_button_apply")});if(n===A.br.already_applied3)return(0,i.jsx)(c.Button,{size:"large",className:"flex-1",disabled:!0,children:o.o.t("enterprise_share_link_page_button_status1_applied")});if(n===A.br.joined5)return(0,i.jsx)(c.Button,{size:"large",className:"flex-1",onClick:()=>{null==_||_()},children:o.o.t("enterprise_share_link_page_button_status2_added")});if(n===A.br.deny4){if(t===A.HY.not_in_enterprise)return(0,i.jsx)(c.Button,{size:"large",className:"flex-1",disabled:!0,children:"\u60A8\u8FD8\u4E0D\u5728\u5F53\u524D\u4F01\u4E1A\uFF0C\u65E0\u6CD5\u52A0\u5165\u7EC4\u7EC7"});if(t===A.HY.prohibited_by_custom_people_management2)return(0,i.jsx)(c.Button,{size:"large",className:"flex-1",disabled:!0,children:"\u7BA1\u7406\u5458\u5DF2\u7981\u6B62\u8BE5\u65B9\u5F0F\u52A0\u5165\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458"})}return null},nD=e=>{var t,{organizationId:n,joinedCallback:r}=e,[l,p]=(0,a.useState)(""),_=(0,T.ZY)(),{data:m,error:u,run:x}=(0,s.Z)(()=>d.f_.GetOrganizationApplicationForEnterpriseMember({organization_id:n}),{onSuccess:e=>{var t;p(null!==(t=e.data.remark)&&void 0!==t?t:"")}}),h=null==m?void 0:m.data;return h?(0,i.jsx)(tU.RR,{brand:(0,i.jsx)(nP.e1,{isOversea:!1}),header:"\u5206\u4EAB\u7ED9\u4F60\u7684\u7EC4\u7EC7\u9080\u8BF7\u94FE\u63A5",mainAvatar:h.organization_icon_url,mainTitle:h.organization_name,mainList:h.super_admin_list.map(e=>(0,i.jsx)(tU.h_,{avatar:e.avatar_url,name:e.nick_name,username:e.name,tag:(0,i.jsx)(c.Tag,{color:"yellow",size:"small",children:o.o.t("enterprise_share_link_page_admin_info")})})),mainDescriptionSlot:(0,i.jsx)(tU.aV,{name:h.enterprise_name,iconUrl:h.organization_icon_url}),mainTextarea:h.organization_application_for_enterprise_member_status===A.br.can_apply3||h.organization_application_for_enterprise_member_status===A.br.already_applied3?(0,i.jsx)(c.TextArea,{rows:1,maxCount:20,maxLength:20,value:l,onChange:e=>p(e),disabled:h.organization_application_for_enterprise_member_status===A.br.already_applied3}):null,mainActions:(0,i.jsx)(nM,{denyType:h.organization_application_deny_type,organizationId:n,remark:l,status:h.organization_application_for_enterprise_member_status,isSuperAdmin:_.includes(A.gY.super_admin),enterpriseID:null!==(t=null==h?void 0:h.enterprise_id)&&void 0!==t?t:"",onApply:()=>{x()},joinedCallback:()=>{if(r){r();return}location.href="/enterprise/".concat(null==h?void 0:h.enterprise_id,"/organization/").concat(n,"/home")}}),fallback:u?(0,i.jsx)(c.Empty,{image:(0,i.jsx)(ta.TL,{width:"160px",height:"160px"}),title:o.o.t("workspace_invites_page_button6_no_access_permission")}):null}):null},nZ=n("864458"),nE=n("979526"),nU=n("387294"),nL=e=>{var t,n,{dataList:r,refresh:l,loadMore:p,hasMore:_,loading:m}=e,[u,x]=(0,a.useState)([]),{loading:h,runAsync:g}=(0,s.Z)(e=>{var{infos:t=[]}=e;return d.f_.AuthorizeAppsAndPersonalaccesstokenListWithPersonalAccountPermission({crossaccount_authinfo_list:t})},{manual:!0,onSuccess:()=>{c.Toast.success(o.o.t("personal_resource_authoorization_page_toast_authorize_success")),x([]),l()}}),{loading:v,runAsync:f}=(0,s.Z)(e=>{var{info:t}=e;return d.f_.RevokeAppAndPersonalaccesstokenPersonalAccountPermission({crossaccount_authinfo:t})},{manual:!0,onSuccess:()=>{c.Toast.success(o.o.t("personal_resource_authoorization_page_toast_cancel_success")),x([]),l()}}),b=[{title:o.o.t("personal_resource_authoorization_page_tag2_name"),dataIndex:"id",render:(e,t)=>(0,i.jsx)(c.Typography.Text,{className:"flex-1 text-[14px] !font-[500] leading-[20px] coz-fg-primary",ellipsis:{showTooltip:!0},children:t.name})},{title:o.o.t("personal_resource_authoorization_page_tag3_type"),dataIndex:"type",render:(e,t)=>(0,i.jsx)(c.Typography.Text,{style:{wordBreak:"break-word",flex:1,color:"rgba(32, 41, 69, 0.62)",fontSize:"14px",lineHeight:"16px"},children:t.type===A.h_.app?o.o.t("personal_resource_authoorization_page_tag3_type2"):o.o.t("personal_resource_authoorization_page_tag3_type1")})},{title:o.o.t("personal_resource_authoorization_page_tag4_create"),dataIndex:"created_at",render:e=>(0,i.jsx)("span",{className:"text-[14px]",children:Number.isNaN(Number(e))?"--":eF().unix(e).format("YYYY-MM-DD HH:mm")})},{title:o.o.t("personal_resource_authoorization_page_tag5_expire"),dataIndex:"expire_at",render:(e,t)=>(0,i.jsx)("span",{className:"text-[14px]",children:t.type===A.h_.app?"--":-1===t.expire_at?o.o.t("personal_resource_authoorization_page_tag5_expire_permanent"):eF().unix(Number(t.expire_at)).format("YYYY-MM-DD HH:mm")})},{title:o.o.t("personal_resource_authoorization_page_tag6_status"),dataIndex:"is_authorized",render:(e,t)=>(0,i.jsx)(c.Tag,{color:t.is_authorized?"brand":"yellow",children:t.is_authorized?o.o.t("personal_resource_authoorization_page_tag6_status_1"):o.o.t("personal_resource_authoorization_page_tag6_status_2")})},{title:o.o.t("actions"),width:108,render:(e,t)=>(0,i.jsx)(c.Space,{spacing:6,children:u.length?(0,i.jsx)(i.Fragment,{children:t.is_authorized?(0,i.jsx)(c.Button,{size:"small",color:"redhglt",disabled:!0,children:o.o.t("personal_resource_authoorization_page_tag7_opt_2")}):(0,i.jsx)(c.Button,{size:"small",disabled:!0,children:o.o.t("personal_resource_authoorization_page_tag7_opt_1")})}):(0,i.jsx)(i.Fragment,{children:t.is_authorized?(0,i.jsx)(c.Popconfirm,{title:o.o.t("personal_resource_authoorization_page_cancel_pop_title"),okText:o.o.t("personal_resource_authoorization_page_tag7_opt_2"),cancelText:o.o.t("enterprise_member_apply_opt_operate_button_reject_confirm_button2"),okButtonColor:"red",okButtonProps:{loading:v},onConfirm:()=>{f({info:t})},children:(0,i.jsx)(c.Button,{size:"small",color:"redhglt",children:o.o.t("personal_resource_authoorization_page_tag7_opt_2")})}):(0,i.jsx)(c.Popconfirm,{title:o.o.t("personal_resource_authoorization_page_choose_multi_toast",{number:1}),okText:o.o.t("enterprise_member_list_add_new_member_button_confirm"),cancelText:o.o.t("enterprise_member_apply_opt_operate_button_reject_confirm_button2"),okButtonProps:{loading:h},onConfirm:()=>{g({infos:[t]})},children:(0,i.jsx)(c.Button,{size:"small",children:o.o.t("personal_resource_authoorization_page_tag7_opt_1")})})})})}];return(0,i.jsxs)("div",{className:"h-full",children:[(0,i.jsx)(c.Table,{tableProps:{rowSelection:{selectedRowKeys:u,getCheckboxProps:e=>({disabled:e.is_authorized}),onChange:e=>{x(e)}},loading:m,className:"",dataSource:r,columns:b,rowKey:"id"},offsetY:150,hasMore:_,onLoad:p,enableLoad:!0,strictDataSourceProp:!0,loadMode:"cursor",empty:(0,i.jsx)(c.EmptyState,{size:"full_screen",className:"my-[100px]",icon:(0,i.jsx)(ta.Zo,{}),title:o.o.t("personal_resource_authoorization_page_default")})}),(0,i.jsx)(na.m,{selectedIds:u,totalIds:null!==(n=null==r?void 0:null===(t=r.filter(e=>!e.is_authorized))||void 0===t?void 0:t.map(e=>e.id))&&void 0!==n?n:[],onSelectChange:x,children:(0,i.jsx)(c.Popconfirm,{title:o.o.t("personal_resource_authoorization_page_choose_multi_toast",{number:u.length}),okText:o.o.t("enterprise_member_list_add_new_member_button_confirm"),cancelText:o.o.t("enterprise_member_apply_opt_operate_button_reject_confirm_button2"),onConfirm:()=>{var e;if(u.length>20){c.Toast.warning(o.o.t("personal_resource_authoorization_page_choose_toast"));return}g({infos:null!==(e=null==r?void 0:r.filter(e=>u.includes(e.id)))&&void 0!==e?e:[]})},children:(0,i.jsx)(c.Button,{color:"highlight",loading:h,children:o.o.t("personal_resource_authoorization_page_multi_chose")})})})]})},nF=()=>{var e,t=(0,nE.useNavigate)();var{data:n,loading:r,reload:a,noMore:s,loadMore:l}=(0,nU.Z)((e=(0,ef._)(function*(e){var t,n,r,i,a,s,l,o,c=(null!==(a=null==e?void 0:e.page)&&void 0!==a?a:0)+1,p=yield d.f_.GetAppsAndPersonalAccessTokenListForPersonalAccountPermissionAuthorization({page_size:15,page:c},{__disableErrorToast:!0});return{page:c,has_more:!!(null===(t=p.data)||void 0===t?void 0:t.has_more),total:Number(null!==(s=null===(n=p.data)||void 0===n?void 0:n.total)&&void 0!==s?s:0),list:null!==(l=null===(r=p.data)||void 0===r?void 0:r.crossaccount_authinfo)&&void 0!==l?l:[],enterprise_name:null!==(o=null===(i=p.data)||void 0===i?void 0:i.enterprise_name)&&void 0!==o?o:""}}),function(t){return e.apply(this,arguments)}),{isNoMore:e=>!(null==e?void 0:e.has_more),onError(e){(null==e?void 0:e.code)==="777002031"&&(c.Toast.error(o.o.t("personal_resource_authoorization_page_no_permission")),t("/home"))}});return(0,i.jsxs)("div",{className:"p-[24px] h-full overflow-hidden",children:[(0,i.jsx)("div",{className:"mb-24px flex item-center justify-between",children:(0,i.jsx)("div",{className:"font-[500] text-[20px]",children:o.o.t("personal_resource_authoorization_page_title")})}),(0,i.jsx)("div",{className:"text-[14px] ",children:(0,i.jsx)("span",{children:o.o.t("personal_resource_authoorization_page_desc",{enterprise_name:null==n?void 0:n.enterprise_name,doc:(0,i.jsx)("span",{className:"coz-fg-hglt pl-2 cursor-pointer",onClick:()=>window.open("/open/docs/developer_guides/update_authorization#c511c224","_blank"),children:o.o.t("personal_resource_authoorization_page_doc")})})})}),(0,i.jsx)("div",{className:"mt-[16px]",children:(0,i.jsx)(nL,{dataList:null==n?void 0:n.list,loading:r,refresh:a,hasMore:!s,loadMore:l})})]})},nY=["/space/:spaceID/manage/*"],nQ=()=>{var e,t,{benefit:n,benefitInited:r}=(0,P.LZ)(e=>({benefit:e.benefit,benefitInited:e.benefitInited})),i=null!==(t=null===(e=n.user_basic_info)||void 0===e?void 0:e.user_level)&&void 0!==t?t:P.aZ.Free,s=(0,D.useNavigate)(),l=(0,D.useLocation)(),o=(0,T.HU)(),c=(0,T.ff)(e=>e.isEnterpriseListInit),d=i!==P.aZ.Enterprise,p=(0,T.bK)(),_=(0,T.F2)(),m=(0,a.useMemo)(()=>nY.some(e=>null!==(0,D.matchPath)({path:e,end:!1},l.pathname)),[l.pathname]);(0,a.useEffect)(()=>{if(c&&o&&r&&d&&p!==o.default_organization_id){var e="/enterprise/".concat(_,"/organization/").concat(p,"/organization/settings");l.pathname!==e&&!m&&s(e)}},[c,o,r,d,p,_,s,l,m])},nO=n("826498"),nK=n("245949"),nH={};nH.styleTagTransform=w(),nH.setAttributes=f(),nH.insert=g().bind(null,"head"),nH.domAPI=x(),nH.insertStyleElement=j(),m()(nK.Z,nH);var nV=nK.Z&&nK.Z.locals?nK.Z.locals:void 0,{Text:nq}=c.Typography,nG={showTooltip:!0},nJ=e=>{switch(e){case A.gY.super_admin:return o.o.t("enterprise_role_super_admin1");case A.gY.admin:return o.o.t("enterprise_role_admin");case A.gY.member:return o.o.t("enterprise_member_list_character_employee");case A.gY.guest:return o.o.t("enterprise_member_list_character_guest");default:return""}},nX=e=>{switch(e){case A.ZQ.super_admin2:return o.o.t("enterprise_role_super_admin1");case A.ZQ.admin2:return o.o.t("enterprise_role_admin");case A.ZQ.member2:return o.o.t("enterprise_member_list_character_employee");case A.ZQ.guest2:return o.o.t("enterprise_member_list_character_guest");default:return""}},nW=e=>{var{onClick:t,info:n,activeId:r}=e;return(0,i.jsx)(c.Dropdown.Item,{className:q()(nV["dropdown-item"],"group"),onClick:()=>{t()},children:(0,i.jsxs)("div",{className:"w-full flex items-center",children:[(0,i.jsxs)(c.Space,{spacing:8,align:"center",className:"shrink grow overflow-hidden flex",children:[(0,i.jsx)(c.CozAvatar,{src:n.organization_icon_url,type:"platform",size:"micro",className:"flex-none"}),(0,i.jsx)(nq,{className:"font-medium coz-fg-primary",ellipsis:nG,children:n.organization_name||"\u9ED8\u8BA4\u7EC4\u7EC7"}),(0,i.jsx)(c.Tag,{color:"primary",size:"mini",className:"flex-none",children:nX(n.organization_role_type)})]}),r===n.organization_id?(0,i.jsx)(E.maW,{className:"text-xxl coz-fg-hglt ml-[4px]"}):null]})})},n$=e=>{var t,{item:n,render:r,renderExtra:a,hasRule:s}=e,l=(0,i.jsx)(c.Dropdown.Item,{className:q()(nV["dropdown-item"],"group"),onClick:()=>{if(!n.enterprise_role_type_list.length){window.open("/enterprise-apply-join/".concat(n.enterprise_id),"_blank");return}},children:(0,i.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,i.jsxs)(c.Space,{spacing:8,align:"center",className:"shrink-0 grow-1 overflow-hidden flex w-full",children:[(0,i.jsx)(c.CozAvatar,{src:n.icon_uri,type:"platform",size:"micro",className:"flex-none"}),(0,i.jsx)(nq,{className:"font-medium coz-fg-primary",ellipsis:nG,children:n.name}),!!n.enterprise_role_type_list.length&&(0,i.jsx)(c.Tag,{color:"primary",size:"mini",className:"flex-none",children:nJ(null===(t=n.enterprise_role_type_list)||void 0===t?void 0:t[0])})]}),(0,i.jsxs)("div",{className:"flex items-center flex-none",children:[n.enterprise_role_type_list.length?(0,i.jsx)(E.x5d,{width:"16",height:"16",className:"shrink-0"}):(0,i.jsx)(c.Button,{color:"highlight",size:"small",children:o.o.t("enterprise_basic_user_not_in_pop_apply_button")}),a?a(n):null]})]})},n.enterprise_id);return s?(0,i.jsx)(c.Dropdown,{position:"rightTop",render:r,spacing:8,contentClassName:"w-[250px]",children:l}):l},n0=e=>{var t,n,{image:r,title:a,description:s,buttonText:l,buttonIcon:d,onClick:p,onSwitchVersion:_,width:m="w-[480px]",imgWidth:u="w-[456px]"}=e,x=(0,D.useNavigate)(),h=(0,T.JZ)(),g=(0,T.F2)(),v=(0,nO.Pc)(),f=(0,nO.$H)(),b=(0,T.bK)(),j=(0,T.ff)(e=>{var t;return null===(t=e.enterpriseList)||void 0===t?void 0:t.personal_account_info}),y=(null==h?void 0:h.length)>0,w=null==v?void 0:null===(n=v.app_user_info)||void 0===n?void 0:n.user_unique_name;if(!v)return null;var N=(e,t)=>{e===T.wQ?((0,T.J1)(T.wQ),x("/home")):t?x("/enterprise/".concat(e,"/organization/").concat(t,"/home")):x("/enterprise/".concat(e,"/enterprise/")),_&&_(e,t)};return(0,i.jsxs)("div",{className:q()("flex flex-col items-center justify-center p-4 h-[400px]","coz-bg-max rounded-[12px] coz-stroke-primary border border-solid cursor-pointer","hover:coz-shadow-default",m),children:[(0,i.jsx)("div",{children:(0,i.jsx)("img",{src:r,className:q()("w-[456px] h-[180px] object-cover",u),alt:a})}),(0,i.jsx)("div",{className:"text-[20px] font-medium mb-1",children:a}),(0,i.jsx)("div",{className:"text-[14px] coz-fg-secondary text-center mb-6",children:s}),(0,i.jsx)(c.Button,{color:"brand",className:"w-full !h-10",icon:d,onClick:p,children:l}),(0,i.jsx)(c.Dropdown,{position:"bottom",contentClassName:"w-[446px]",render:(0,i.jsxs)(c.Dropdown.Menu,{mode:"menu",children:[(0,i.jsx)("div",{className:"font-medium text-xs pl-[4px] pt-[4px] coz-fg-secondary",children:o.o.t("navi_bar_membership_title_personal")}),(0,i.jsx)(c.Dropdown.Item,{onClick:()=>N(T.wQ),className:q()(nV["dropdown-item"],"group"),children:(0,i.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,i.jsxs)(c.Space,{spacing:8,className:"shrink grow overflow-hidden",children:[y?(0,i.jsx)(c.CozAvatar,{src:v.avatar_url,type:"platform",className:"shrink-0",size:"micro"}):(0,i.jsx)(c.Badge,{position:"rightBottom",countStyle:{right:6,bottom:6},count:(null==f?void 0:f.icon_url)?(0,i.jsx)(c.Tooltip,{showArrow:!0,position:"right",content:null==f?void 0:f.label_name,trigger:(null==f?void 0:f.label_name)?"hover":"custom",children:(0,i.jsx)("div",{className:"bg-white rounded-full w-[16px] h-[16px] flex items-center justify-center",children:(0,i.jsx)(c.CozAvatar,{src:null==f?void 0:f.icon_url,className:"w-[12px] h-[12px] rounded-full",type:"person",onClick:e=>{(null==f?void 0:f.jump_link)&&(null==e||e.preventDefault(),null==e||e.stopPropagation(),window.open(null==f?void 0:f.jump_link,"_blank"))}})})}):null,className:"shrink-0",children:(0,i.jsx)(c.CozAvatar,{src:v.avatar_url,className:"w-[32px] h-[32px] rounded-full",type:"person"})}),y?(0,i.jsxs)("div",{className:"flex items-center text-[14px] leading-[20px] overflow-hidden sp",children:[(0,i.jsx)(c.Typography.Text,{className:"coz-fg-primary font-[500]",ellipsis:nG,children:v.name}),(null==j?void 0:null===(t=j.user_label)||void 0===t?void 0:t.icon_url)?(0,i.jsx)(c.Tooltip,{content:j.user_label.label_name,trigger:j.user_label.label_name?"hover":"custom",children:(0,i.jsx)(c.CozAvatar,{className:"w-[14px] h-[14px] rounded-full mx-[3px] shrink-0",type:"person",src:j.user_label.icon_url})}):null,(0,i.jsxs)(c.Typography.Text,{className:"coz-fg-secondary",ellipsis:nG,children:[w?"@":"",w]})]}):(0,i.jsxs)("div",{className:"flex-1 text-[14px] leading-[20px] overflow-hidden sp",children:[(0,i.jsx)(c.Typography.Text,{className:"coz-fg-primary font-[500]",ellipsis:nG,children:v.name}),(0,i.jsxs)(c.Typography.Text,{className:"coz-fg-secondary",ellipsis:nG,children:[w?"@":"",w]})]})]}),y&&g===T.wQ?(0,i.jsx)(E.maW,{className:"text-xxl coz-fg-hglt flex-none ml-[4px]"}):null]})}),(0,i.jsx)(c.Dropdown.Divider,{}),h.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"font-medium text-xs pl-[4px] pt-[4px] coz-fg-secondary",children:o.o.t("navi_bar_membership_title_enterprise")}),h.map(e=>{var t,n;return(0,i.jsx)(n$,{item:e,hasRule:!!(null==e?void 0:null===(t=e.enterprise_role_type_list)||void 0===t?void 0:t.length),render:(0,i.jsxs)(c.Dropdown.Menu,{className:q()(nV.menu,"w-[250px]"),mode:"menu",children:[(0,i.jsx)(c.Dropdown.Title,{children:"\u56E2\u961F\u4E0E\u4F01\u4E1A\u7248"}),((null==e?void 0:e.organization_info_list)||[]).length>0?null==e?void 0:null===(n=e.organization_info_list)||void 0===n?void 0:n.map(t=>(0,i.jsx)(nW,{onClick:()=>{null==N||N(e.enterprise_id,t.organization_id)},activeId:b,info:t})):(0,i.jsx)("div",{style:{color:"rgba(55, 67, 106, 0.38)",padding:"16px 8px"},children:"\u6682\u672A\u52A0\u5165\u4EFB\u4F55\u7EC4\u7EC7"}),(0,i.jsx)(c.Dropdown.Divider,{}),(0,i.jsx)(c.Dropdown.Item,{className:q()(nV["dropdown-item"],"group"),onClick:()=>{null==N||N(e.enterprise_id)},children:(0,i.jsxs)(c.Space,{className:"w-full",spacing:8,children:[(0,i.jsx)(E.Z$3,{}),(0,i.jsx)("div",{className:"flex-1",children:"\u56E2\u961F\u4E0E\u4F01\u4E1A\u7BA1\u7406"})]})})]}),activeId:b})})]})]}),children:(0,i.jsx)(c.Button,{color:"primary",className:"w-full mt-3 !h-10",icon:(0,i.jsx)(E.C_O,{}),iconPosition:"right",children:"\u5207\u6362\u5230\u4E2A\u4EBA\u7248\u6216\u5176\u4ED6\u56E2\u961F/\u4F01\u4E1A"})})]})},n1=n.p+"static/image/empty-create-bg.6101a434.png",n2=e=>{var{onJoinOrganization:t,onSwitchVersion:n,className:r}=e;return(0,i.jsx)("div",{className:"flex items-center justify-center w-full h-full gap-6 ".concat(r||""),children:(0,i.jsx)(n0,{image:n1,title:"\u52A0\u5165\u7EC4\u7EC7\u5F00\u59CB\u4F7F\u7528",description:"\u4F60\u5728\u5F53\u524D\u56E2\u961F/\u4F01\u4E1A\u4E2D\uFF0C\u6CA1\u6709\u52A0\u5165\u4EFB\u4F55\u7EC4\u7EC7\uFF0C\u8BF7\u52A0\u5165\u7EC4\u7EC7\u540E\u5F00\u59CB\u4F7F\u7528",buttonText:"\u67E5\u770B\u7EC4\u7EC7\u5217\u8868",buttonIcon:(0,i.jsx)(E.PwN,{}),onClick:()=>{t&&t()},onSwitchVersion:(e,t)=>{n&&n(e,t)}})})},n4=n("984818")},864458:function(e,t,n){n.d(t,{s:function(){return h}});var r=n(255721),i=n(938809),a=n(842197),s=n(723530),l=n(559293),o=n(359948),c=n(206779),d=n(274372),p=n(16242),_=n(765337),m=n(182956),u=n(449001),x=n(412590),h=e=>{var t,n,{enterpriseId:h,onJoined:g}=e,v=(0,a.useNavigate)(),[f]=(0,a.useSearchParams)(),[b,j]=(0,s.useState)(),[y,w]=(0,s.useState)(""),{run:N,loading:z}=(0,l.Z)((0,r._)(function*(){var{data:e}=yield u.f_.GetApplicationForEnterpriseMember({enterprise_id:h});j(e),w((null==e?void 0:e.remark)||"")}));var C=(t=(0,r._)(function*(){yield u.f_.CreateApplicationForEnterpriseMember({enterprise_id:h,remark:y}),m.Toast.success(p.o.t("enterprise_basic_user_not_in_apply_page_applied_toast")),N()}),function(){return t.apply(this,arguments)}),k="true"===f.get("forced");return z&&!b?null:(0,i.jsx)(c.RR,{fallback:(null==b?void 0:b.application_for_enterprise_member_status)===d.U_.deny3?(0,i.jsx)(m.Empty,{image:(0,i.jsx)(_.TL,{width:"160px",height:"160px"}),title:p.o.t("workspace_invites_page_button6_no_access_permission")}):null,brand:(0,i.jsx)(o.e,{isOversea:!1}),header:p.o.t("enterprise_basic_user_not_in_apply_page_title"),mainAvatar:null==b?void 0:b.icon_url,mainTitle:null==b?void 0:b.name,mainList:(0,i.jsx)(i.Fragment,{children:null==b?void 0:null===(n=b.super_admin_list)||void 0===n?void 0:n.map(e=>(0,i.jsx)(c.h_,{avatar:e.avatar_url,name:null==e?void 0:e.nick_name,username:null==e?void 0:e.name,tag:(0,i.jsx)(m.Tag,{color:"yellow",size:"small",children:p.o.t("enterprise_basic_user_not_in_apply_page_admin_tag")})},e.user_id))}),mainTextarea:(null==b?void 0:b.application_for_enterprise_member_status)!==d.U_.joined4&&(0,i.jsx)(m.TextArea,{disabled:(null==b?void 0:b.application_for_enterprise_member_status)===d.U_.already_applied2,autosize:{minRows:1,maxRows:1},style:{backgroundColor:"rgba(87, 104, 161, 0.08)",border:"none"},placeholder:p.o.t("enterprise_basic_user_not_in_apply_page_note"),maxCount:20,value:y,onChange:e=>w(e.slice(0,20))}),mainActions:(0,i.jsxs)(m.Space,{vertical:!0,className:"w-full",children:[(0,i.jsxs)(m.Button,{className:"w-full",size:"large",disabled:(null==b?void 0:b.application_for_enterprise_member_status)===d.U_.already_applied2,onClick:()=>{(null==b?void 0:b.application_for_enterprise_member_status)===d.U_.can_apply2?C():(null==b?void 0:b.application_for_enterprise_member_status)===d.U_.joined4&&(g?g(h):v("/enterprise/".concat(h,"/home"),{replace:!0}))},children:[(null==b?void 0:b.application_for_enterprise_member_status)===d.U_.can_apply2&&p.o.t("enterprise_basic_user_not_in_apply_page_button"),(null==b?void 0:b.application_for_enterprise_member_status)===d.U_.already_applied2&&p.o.t("enterprise_basic_user_not_in_apply_page_applied_button"),(null==b?void 0:b.application_for_enterprise_member_status)===d.U_.joined4&&p.o.t("enterprise_basic_user_not_in_apply_page_succeed_button")]}),k?(0,i.jsx)(m.Button,{className:"w-full",size:"large",color:"primary",onClick:x.kS,children:p.o.t("basic_log_out")}):null]})})}},798801:function(e,t,n){n.d(t,{m:function(){return c}});var r=n(938809),i=n(856306),a=n.n(i),s=n(16242),l=n(182956),o=a()("fixed left-[50%] translate-x-[-50%] bottom-[30px]","min-w-[324px] max-w-fit h-[48px]","flex items-center gap-[12px]","rounded-[8px] coz-bg-max border border-solid coz-stroke-plus coz-shadow-large","px-[8px]"),c=e=>{var t,{selectedIds:n,totalIds:i,onSelectChange:c,renderCount:d=!0,children:p,className:_,initShow:m}=e,u=i.every(e=>n.includes(e)),x=!u&&!!n.length;return n.length||m?(0,r.jsxs)("div",{className:a()(o,_),children:[(0,r.jsx)(l.Checkbox,{checked:u,indeterminate:x,onChange:e=>{c(e.target.checked?i:[])},className:"flex-shrink-0 h-[20px]",children:s.o.t("publish_permission_control_page_remove_choose_all")}),(0,r.jsx)("div",{className:"flex-1 min-w-[40px]"}),d?(0,r.jsxs)("div",{className:"flex-shrink-0",children:[s.o.t("publish_permission_control_page_remove_chosen")," ",null!==(t=n.length)&&void 0!==t?t:0]}):null,p]}):null}},822692:function(e,t,n){var r=n(160052),i=n.n(r),a=n(570717),s=n.n(a)()(i());s.push([e.id,".create-enterprise-coachmark--c5heS_RzOsppBGEo{padding:8px!important;top:20px;width:300px}.create-enterprise-coachmark--c5heS_RzOsppBGEo .semi-popover-icon-arrow{bottom:28px!important;-webkit-filter:none;filter:none}",""]),s.locals={"create-enterprise-coachmark":"create-enterprise-coachmark--c5heS_RzOsppBGEo",createEnterpriseCoachmark:"create-enterprise-coachmark--c5heS_RzOsppBGEo"},t.Z=s},322624:function(e,t,n){var r=n(160052),i=n.n(r),a=n(570717),s=n.n(a)()(i());s.push([e.id,".menu--D5TnIM3pwYUt0QDU .coz-item-text{flex:1 1;overflow:hidden}",""]),s.locals={menu:"menu--D5TnIM3pwYUt0QDU"},t.Z=s},466345:function(e,t,n){var r=n(160052),i=n.n(r),a=n(570717),s=n.n(a)()(i());s.push([e.id,".collapse--V5wCZYhlQoVoQvnW .semi-collapse-header{margin:0}.collapse-panel--ah95x0CjlxEXPaPP{border-bottom-width:0}.collapse-panel--ah95x0CjlxEXPaPP .semi-collapse-content{padding:4px 0 0}",""]),s.locals={collapse:"collapse--V5wCZYhlQoVoQvnW","collapse-panel":"collapse-panel--ah95x0CjlxEXPaPP",collapsePanel:"collapse-panel--ah95x0CjlxEXPaPP"},t.Z=s},561047:function(e,t,n){var r=n(160052),i=n.n(r),a=n(570717),s=n.n(a)()(i());s.push([e.id,".strategy--eDUYtNrthKkyIP8d{justify-content:space-between}.strategy--eDUYtNrthKkyIP8d .semi-form-field-main{width:auto}",""]),s.locals={strategy:"strategy--eDUYtNrthKkyIP8d"},t.Z=s},420136:function(e,t,n){var r=n(160052),i=n.n(r),a=n(570717),s=n.n(a)()(i());s.push([e.id,".form--FyvCEkAG0QjxDmX8 .semi-form-field{padding:0}",""]),s.locals={form:"form--FyvCEkAG0QjxDmX8"},t.Z=s},834708:function(e,t,n){var r=n(160052),i=n.n(r),a=n(570717),s=n.n(a)()(i());s.push([e.id,".form--wwHIfZznwQrHkcWi .semi-form-field{padding:0}.container--qGrVbAuUkEA8_NFl::-webkit-scrollbar{width:1px}",""]),s.locals={form:"form--wwHIfZznwQrHkcWi",container:"container--qGrVbAuUkEA8_NFl"},t.Z=s},754152:function(e,t,n){var r=n(160052),i=n.n(r),a=n(570717),s=n.n(a)()(i());s.push([e.id,".modal--SfDRuU9J70Ao1s9B .semi-modal-content{padding-bottom:0}.container--ifXzdom3kvA41gdk{margin-top:-36px}.container--ifXzdom3kvA41gdk>div{gap:16px!important}",""]),s.locals={modal:"modal--SfDRuU9J70Ao1s9B",container:"container--ifXzdom3kvA41gdk"},t.Z=s},32888:function(e,t,n){var r=n(160052),i=n.n(r),a=n(570717),s=n.n(a)()(i());s.push([e.id,".table--JBuq550HT0ECAPjY{min-width:1200px}.table--JBuq550HT0ECAPjY .semi-table-row{background-color:#fff}.table--JBuq550HT0ECAPjY .semi-table-body{overflow:visible}.table--JBuq550HT0ECAPjY .semi-table-tbody .semi-table-row:hover .semi-table-row-cell{background-color:transparent;background-image:none}",""]),s.locals={table:"table--JBuq550HT0ECAPjY"},t.Z=s},689112:function(e,t,n){var r=n(160052),i=n.n(r),a=n(570717),s=n.n(a)()(i());s.push([e.id,".hide-scrollbar--b3KzdTMX2EAynppQ::-webkit-scrollbar{display:none}",""]),s.locals={"hide-scrollbar":"hide-scrollbar--b3KzdTMX2EAynppQ",hideScrollbar:"hide-scrollbar--b3KzdTMX2EAynppQ"},t.Z=s},245949:function(e,t,n){var r=n(160052),i=n.n(r),a=n(570717),s=n.n(a)()(i());s.push([e.id,".menu--Sj0LRhW06lwnaJju .coz-item-text{flex:1 1;overflow:hidden}.dropdown-item--cRXp53LZN08tAXxq{display:flex;max-width:100%;width:100%}.dropdown-item--cRXp53LZN08tAXxq>.coz-item-text{flex:1 1;max-width:100%;overflow:hidden}",""]),s.locals={menu:"menu--Sj0LRhW06lwnaJju","dropdown-item":"dropdown-item--cRXp53LZN08tAXxq",dropdownItem:"dropdown-item--cRXp53LZN08tAXxq"},t.Z=s}}]);
//# sourceMappingURL=https://sourcemap-redirect.coze.cn/obj/coze-sourcemap/ol-sourcemap/bot/1.0.2.2334/91206.5a9adf23.js.map