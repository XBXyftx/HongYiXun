"use strict";(self.webpackChunkapp_botstudio_main=self.webpackChunkapp_botstudio_main||[]).push([["58479"],{772469:function(e,t,a){a.d(t,{Gx:()=>tY,qq:()=>rp,bW:()=>rw,it:()=>aX,hP:()=>rE});var r,o,i,l,n,s,d,c,u,b=a("938809"),p=a("16242"),m=a("988726"),v=a("182956"),g=()=>(0,b.jsxs)(v.Space,{spacing:4,className:"coz-fg-dim",children:[(0,b.jsx)(m.UoC,{className:"text-lg"}),(0,b.jsx)("div",{className:"text-base leading-[16px]",children:p.o.t("data_base_doubao_channel_tips")})]}),h=a("255721"),f=a("723530"),A=a("341333"),x=a("265489"),_=a("797602"),I=a("886073"),E=a("841552"),w=a("646411"),C=a("449001"),y=a("866466"),j=a.n(y),B=a("462669"),N=a.n(B),Q=a("318249"),R=a.n(Q),S=a("294754"),z=a.n(S),T=a("13355"),D=a.n(T),M=a("876846"),P=a.n(M),k=a("241454"),Y={};Y.styleTagTransform=P(),Y.setAttributes=z(),Y.insert=R().bind(null,"head"),Y.domAPI=N(),Y.insertStyleElement=D(),j()(k.Z,Y);var O=k.Z&&k.Z.locals?k.Z.locals:void 0,F=e=>{var t,a,r,o,i,l,n,s,d,{formRef:c,initValues:u,renderAutoGenerate:m,mode:g}=e,[y,j]=(0,f.useState)({name:null!==(l=null==u?void 0:u.name)&&void 0!==l?l:"",desc:null!==(n=null==u?void 0:u.description)&&void 0!==n?n:""}),[B,N]=(0,f.useState)({uri:null!==(s=null==u?void 0:null===(r=u.icon_uri)||void 0===r?void 0:null===(a=r[0])||void 0===a?void 0:a.uri)&&void 0!==s?s:"",url:null!==(d=null==u?void 0:null===(i=u.icon_uri)||void 0===i?void 0:null===(o=i[0])||void 0===o?void 0:o.url)&&void 0!==d?d:""});var Q=(t=(0,h._)(function*(){var e,t,a,r,o,i,{icon:l}=yield C.MJ.GetIcon({format_type:E.a5.Database});N({uri:null!==(t=null==l?void 0:l.uri)&&void 0!==t?t:"",url:null!==(a=null==l?void 0:l.url)&&void 0!==a?a:""}),null===(e=c.current)||void 0===e||e.setValue("icon_uri",[{url:null!==(r=null==l?void 0:l.url)&&void 0!==r?r:"",uri:null!==(o=null==l?void 0:l.uri)&&void 0!==o?o:"",uid:null!==(i=null==l?void 0:l.uri)&&void 0!==i?i:"",isDefault:!0}])}),function(){return t.apply(this,arguments)}),R=(0,f.useCallback)(e=>{var{name:t,description:a,icon_uri:r}=e;if(!!c.current){if(c.current.setValue("name",t),c.current.setValue("description",a),j({name:null!=t?t:"",desc:null!=a?a:""}),!r||!r[0].url){Q();return}c.current.setValue("icon_uri",[{url:r[0].url,uri:r[0].uri,uid:r[0].uri,isDefault:!0}])}},[c]);return(0,f.useEffect)(()=>{if(!!u)R(u)},[u,R]),(0,b.jsx)(v.Form,{className:O["database-model-content"],getFormApi:e=>{c.current=e},initValues:u,children:e=>{var{formState:t}=e;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(_.NB,{field:"name",label:p.o.t("db_add_table_name"),placeholder:p.o.t("db_add_table_name_tips"),required:!0,maxLength:50,disabled:"edit"===g,rules:[{required:!0,message:p.o.t("db2_005")},{pattern:/^[a-z][a-z0-9_]{0,63}$/,message:p.o.t("db_new_0004")}],onChange:e=>{j(t=>(0,x._)((0,A._)({},t),{name:(null==e?void 0:e.trim())||""}))}}),(0,b.jsx)(_.eI,{field:"description",label:p.o.t("db_add_table_desc"),placeholder:p.o.t("db_add_table_desc_tips"),maxCount:100,maxlength:100,onChange:e=>{j(t=>(0,x._)((0,A._)({},t),{desc:(null==e?void 0:e.trim())||""}))}}),(0,b.jsx)(I.s,{label:p.o.t("datasets_model_create_avatar"),field:"icon_uri",fileBizType:w.ym.BIZ_DATASET_ICON,iconType:w.Tu.Dataset,uploadClassName:"w-auto",generateInfo:y,withAutoGenerate:!!m,renderAutoGenerate:m,initValue:[{url:null==B?void 0:B.url,uid:null==B?void 0:B.uri,isDefault:!0}]})]})}})},G=e=>{var t,{visible:a,initValues:r,onClose:o,onSubmit:i,modalTitle:l,mode:n="create",renderAutoGenerate:s}=e,d=(0,f.useRef)(null),[c,u]=(0,f.useState)(!1);var m=(t=(0,h._)(function*(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(!!d.current)try{var t=e?yield d.current.validate():d.current.getValues();i(t)}catch(e){console.error("Form validation failed:",e)}finally{u(!1)}}),function(){return t.apply(this,arguments)});return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(v.Modal,{title:l||("create"===n?p.o.t("db_add_table_title"):p.o.t("db_edit_title")),closable:!0,visible:a,onCancel:o,className:"w-[480px]",okText:p.o.t("vol_database_confirm",{},"\u786E\u8BA4"),cancelText:p.o.t("db_del_field_confirm_no"),onOk:()=>m(!0),maskClosable:!1,confirmLoading:c,children:(0,b.jsx)("div",{className:"w-full flex flex-col gap-4",children:(0,b.jsx)(F,{formRef:d,initValues:r,renderAutoGenerate:s,mode:n})})})})},V=a("197390");var Z=((r={}).custom="custom",r.template="template",r.excel="excel",r.recommend="recommend",r.naturalLanguage="naturalLanguage",r);var H=((o={})[o.Required=1]="Required",o[o.Unique=2]="Unique",o[o.Naming=3]="Naming",o),U=a("856306"),W=a.n(U),L={info:"bg-[rgba(var(--coze-brand-1),var(--coze-brand-1-alpha))]",warning:"bg-[rgba(var(--coze-yellow-1),var(--coze-yellow-1-alpha))]",danger:"bg-[rgba(var(--coze-red-1),var(--coze-red-1-alpha))]",success:"bg-[rgba(var(--coze-green-1),var(--coze-green-1-alpha))]"};function q(e){var{type:t,persistentKey:a,className:r,children:o}=e,[i,l]=(0,f.useState)(!!localStorage.getItem(a)),[n,s]=(0,f.useState)(!1);return i||n?null:(0,b.jsxs)("div",{className:W()("p-[8px] flex justify-center",L[null!=t?t:"info"],r),children:[(0,b.jsx)("div",{className:"flex grow justify-center text-[14px] leading-[20px]",children:o}),(0,b.jsxs)("div",{className:"flex items-center gap-[10px] leading-none",children:[(0,b.jsx)(v.Typography.Text,{type:"secondary",fontSize:"12px",className:"cursor-pointer",onClick:()=>{localStorage.setItem(a,"1"),l(!0)},children:p.o.t("not_show_again")}),(0,b.jsx)(v.IconButton,{color:"secondary",size:"mini",className:"!h-[unset]",icon:(0,b.jsx)(m.rmE,{className:"w-[16px] h-[16px]"}),onClick:()=>s(!0)})]})]})}var X=a("306769"),K=a("716486"),J=a("545145"),$=a("972344"),ee=()=>[{type:1,regex:/[^a-z0-9_]/,errorMsg:p.o.t("db_add_table_field_name_tips2")},{type:2,regex:/^[^a-z]/,errorMsg:p.o.t("db_add_table_field_name_tips3")},{type:3,regex:/[\s\S]{64,}/,errorMsg:p.o.t("db_add_table_field_name_tips4")}],et=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=[...t];return ee().forEach(t=>{a=a.filter(e=>e!==t.errorMsg),t.regex.test(e||"")&&a.push(t.errorMsg)}),a},ea=()=>[{label:p.o.t("db_add_table_field_name"),key:"name",validator:[{type:H.Naming,message:""},{type:H.Required,message:p.o.t("db_table_save_exception_nofieldname")},{type:H.Unique,message:p.o.t("db_table_save_exception_fieldname")}],defaultValue:"",require:!0},{label:p.o.t("db_add_table_field_desc"),key:"desc",require:!1,validator:[],defaultValue:""},{label:p.o.t("db_add_table_field_type"),key:"type",require:!0,validator:[{type:H.Required,message:p.o.t("db_table_save_exception_fieldtype")}],defaultValue:""},{label:p.o.t("db_add_table_field_necessary"),key:"must_required",require:!1,validator:[],defaultValue:!0}],er=(e,t)=>e.map(a=>{var r=(0,A._)({},a);return ea().forEach(a=>{var o=a.key;a.validator.forEach(a=>{!(null==r?void 0:r.errorMapper)&&(r.errorMapper={});var i,l=null==r?void 0:null===(i=r.errorMapper)||void 0===i?void 0:i[o],n=r[o];!l&&(r.errorMapper[o]=[],l=[]);var s=a.message;switch(a.type){case H.Required:"save"===t&&!n&&ea().find(e=>!!r[e.key]&&!e.defaultValue)&&r.errorMapper[o].push(s),"change"===t&&n&&(r.errorMapper[o]=l.filter(e=>e!==s));break;case H.Unique:"save"===t&&n&&1!==e.filter(e=>e[o]===r[o]).length&&r.errorMapper[o].push(s),"change"===t&&n&&1===e.filter(e=>e[o]===r[o]).length&&(r.errorMapper[o]=l.filter(e=>e!==s));break;case H.Naming:("save"===t||"blur"===t||"change"===t&&l.length)&&(r.errorMapper[o]=et(n,l))}r.errorMapper[o]=Array.from(new Set(r.errorMapper[o]))})}),r}),eo=a("159303"),ei=a("750012"),el=()=>[{value:eo.wp.Text,label:p.o.t("db_add_table_field_type_txt")},{value:eo.wp.Number,label:p.o.t("db_add_table_field_type_int")},{value:eo.wp.Date,label:p.o.t("db_add_table_field_type_time")},{value:eo.wp.Float,label:p.o.t("db_add_table_field_type_number")},{value:eo.wp.Boolean,label:p.o.t("db_add_table_field_type_bool")}],en={excel:[ei.mx.LimitedReadWrite],normal:[ei.mx.LimitedReadWrite],expert:[ei.mx.LimitedReadWrite,ei.mx.UnlimitedReadWrite]},es=()=>({name:"uuid",desc:p.o.t("workflow_240221_01"),type:eo.wp.Text,must_required:!0,nanoid:(0,X.x0)(),isSystemField:!0}),ed=()=>({name:"id",desc:p.o.t("database_240520_01"),type:eo.wp.Number,must_required:!0,nanoid:(0,X.x0)(),isSystemField:!0}),ec=()=>({name:"sys_platform",desc:p.o.t("db_optimize_002"),type:eo.wp.Text,must_required:!0,nanoid:(0,X.x0)(),isSystemField:!0}),eu=()=>({name:"bstudio_create_time",desc:p.o.t("db_optimize_003"),type:eo.wp.Date,must_required:!0,nanoid:(0,X.x0)(),isSystemField:!0}),eb=()=>[ed(),ec(),es(),eu()],ep=()=>{var e={id:p.o.t("database_240520_01"),uuid:p.o.t("workflow_240221_01"),bstudio_create_time:p.o.t("db_optimize_003"),sys_platform:p.o.t("db_optimize_002")};return eb().map(t=>(0,x._)((0,A._)({},t),{desc:t.name&&e[t.name]||t.desc}))},em={id:"bstudio_id",sys_platform:"bstudio_connector_id",uuid:"bstudio_connector_uid",bstudio_create_time:"bstudio_create_time"},ev=a("732509"),eg={};eg.styleTagTransform=P(),eg.setAttributes=z(),eg.insert=R().bind(null,"head"),eg.domAPI=N(),eg.insertStyleElement=D(),j()(ev.Z,eg);var eh=ev.Z&&ev.Z.locals?ev.Z.locals:void 0,ef=e=>{var{errorMsg:t,errorMsgFloat:a}=e;return(0,b.jsxs)("div",{className:W()({[eh["select-wrapper"]]:!0,[eh["error-wrapper"]]:!!t}),children:[(0,b.jsx)(v.Select,(0,x._)((0,A._)({},e.selectProps),{style:{width:"100%"},value:e.value,onChange:t=>{var a;null==e||null===(a=e.handleChange)||void 0===a||a.call(e,t)},dropdownClassName:eh["selected-option"]})),t?(0,b.jsx)("div",{className:W()({[eh["error-content"]]:!0,[eh["error-float"]]:!!a}),children:(0,b.jsx)("div",{className:eh["error-text"],children:t})}):null]})},eA=a("538478"),ex=a("632865"),e_=a("211618"),eI={};eI.styleTagTransform=P(),eI.setAttributes=z(),eI.insert=R().bind(null,"head"),eI.domAPI=N(),eI.insertStyleElement=D(),j()(e_.Z,eI);var eE=e_.Z&&e_.Z.locals?e_.Z.locals:void 0,ew=e=>{var t,a,r,o,{ellipsis:i=!0,maxCount:l,errorMsgFloat:n}=e,s=(0,eA.Z)(l)&&l>0;(0,f.useImperativeHandle)(e.onRef,()=>({triggerFocus:u}));var d=(0,ex.Z)({value:e.value,inputOnFocus:!1,inputEle:!1}),c=(0,f.useRef)(null),u=()=>{var e;d.inputEle=!0,null==c||null===(e=c.current)||void 0===e||e.focus()},p=(0,f.useMemo)(()=>{var e,t;return((null===(e=c.current)||void 0===e?void 0:e.clientWidth)||0)<((null===(t=c.current)||void 0===t?void 0:t.scrollWidth)||0)-1},[i,d.inputOnFocus,d.value,null===(t=c.current)||void 0===t?void 0:t.clientWidth,null===(a=c.current)||void 0===a?void 0:a.scrollWidth,d.inputEle]);(0,f.useEffect)(()=>{d.value=e.value},[e.value]);var m=(0,b.jsxs)("span",{className:eE["limit-count"],children:[(null===(r=d.value)||void 0===r?void 0:r.length)||0,"/",l]});return(0,b.jsxs)("div",{className:W()(eE["input-wrapper"],e.className),style:e.style,children:[!d.inputEle&&p?(0,b.jsx)(v.Tooltip,(0,x._)((0,A._)({content:(0,b.jsx)("article",{style:{maxWidth:200,wordWrap:"break-word",wordBreak:"normal"},children:d.value}),position:"top",showArrow:!0,mouseEnterDelay:300},e.tooltipProps),{children:(0,b.jsx)("div",{className:W()((null==e?void 0:e.errorMsg)?eE["error-wrapper"]:null),onClick:()=>{!d.inputEle&&setTimeout(()=>{var e;null==c||null===(e=c.current)||void 0===e||e.focus()},10),d.inputEle=!0},children:(0,b.jsx)(v.Input,(0,x._)((0,A._)({},e.inputProps),{ref:c,value:d.value,className:i?eE.input:"",suffix:s?m:void 0}))})})):(0,b.jsx)("div",{className:W()((null==e?void 0:e.errorMsg)?eE["error-wrapper"]:null),children:(0,b.jsx)(v.Popover,(0,x._)((0,A._)({},e.onFocusPopoverProps),{trigger:"custom",visible:!!(null===(o=e.onFocusPopoverProps)||void 0===o?void 0:o.content)&&d.inputOnFocus,showArrow:!0,children:(0,b.jsx)(v.Input,(0,x._)((0,A._)({},e.inputProps),{ref:c,value:d.value,className:i?eE.input:"",onChange:t=>{var a;d.value=t,null==e||null===(a=e.handleChange)||void 0===a||a.call(e,t)},onFocus:()=>{var t;d.inputOnFocus=!0,d.inputEle=!0,null==e||null===(t=e.handleFocus)||void 0===t||t.call(e,d.value||"")},onBlur:t=>{var a,r;d.inputOnFocus=!1,null==e||null===(a=e.handleBlur)||void 0===a||a.call(e,d.value||""),null==e||null===(r=e.onBlur)||void 0===r||r.call(e,t),d.inputEle=!1},suffix:s?m:void 0}))}))}),(null==e?void 0:e.errorMsg)?(0,b.jsx)("div",{className:W()({[eE["error-content"]]:!0,[eE["error-float"]]:!!n}),children:(0,b.jsx)("div",{className:eE["error-text"],children:null==e?void 0:e.errorMsg})}):null]})},eC=(0,v.withField)(ew,{valueKey:"value",onKeyChangeFnName:"handleChange"}),ey=a("169702"),ej=a("96235"),eB={};eB.styleTagTransform=P(),eB.setAttributes=z(),eB.insert=R().bind(null,"head"),eB.domAPI=N(),eB.insertStyleElement=D(),j()(ej.Z,eB);var eN=ej.Z&&ej.Z.locals?ej.Z.locals:void 0,eQ=()=>(0,b.jsx)(ey.yk,{className:eN["modal-key-tip"],children:"- ".concat(p.o.t("db_add_table_field_name_tips1"),"\n- ").concat(p.o.t("db_add_table_field_name_tips2"),"\n- ").concat(p.o.t("db_add_table_field_name_tips3"),"\n- ").concat(p.o.t("db_add_table_field_name_tips4"))});function eR(e){var t,a,{field:r,textType:o="secondary",type:i,tip:l,required:n,isPrimaryKey:s}=e;return(0,b.jsxs)("div",{className:"flex flex-row items-center",children:[(0,b.jsx)(v.Typography.Text,{type:o,weight:500,fontSize:"12px",ellipsis:!0,children:r}),n?(0,b.jsx)("span",{className:"coz-fg-hglt-red text-[12px] leading-[16px]",children:"*"}):null,l?(0,b.jsx)(v.Tooltip,{content:l,style:{maxWidth:"unset"},children:(0,b.jsx)(m.L03,{className:"w-[12px] h-[12px] ml-[3px] coz-fg-secondary"})}):null,s?(0,b.jsx)(v.Tag,{color:"green",size:"mini",className:"ml-[4px]",children:p.o.t("vol_database_primary_key",{},"\u4E3B\u952E")}):null,"number"==typeof i?(0,b.jsx)(v.Tag,{color:"primary",size:"mini",className:"ml-[4px]",children:null!==(a=null===(t=el().find(e=>e.value===i))||void 0===t?void 0:t.label)&&void 0!==a?a:i}):null]})}var eS=a("411960"),ez=a("642385"),eT=a("168074"),eD=a("666428"),eM=a("211964"),eP=a.p+"static/image/key-example.715ec886.png",ek=a("349135"),eY=a.n(ek),eO=a("609329"),eF=e=>e?/^[a-z]/.test(e)&&/^[a-z][a-z0-9_]*$/.test(e)?"":p.o.t("vol_database_naming_rules",{},"\u6570\u636E\u5E93\u540D\u79F0\u53EA\u5141\u8BB8\u5C0F\u5199\u5B57\u6BCD\u3001\u6570\u5B57\u548C\u4E0B\u5212\u7EBF\uFF0C\u5E76\u4EE5\u5C0F\u5199\u5B57\u6BCD\u5F00\u5934"):p.o.t("vol_database_prompt_table_name",{},"\u8BF7\u586B\u5199\u6570\u636E\u8868\u540D\u79F0"),eG="y/72OE2k+uP+YQ0gjvXBTDsctL+kiTAu",eV=e=>{var t=eO.enc.Utf8.parse(eG),a=eO.enc.Utf8.parse(eG.slice(0,16)),r=eO.enc.Utf8.parse(e);return eY().encrypt(r,t,{iv:a,mode:eO.mode.CBC,padding:eO.pad.Pkcs7}).toString()};var eZ=((i={}).CREATE="create",i.EDIT="edit",i);var eH=((l={}).COZE="coze",l.VOLC="volc",l);var eU=((n={}).UNAUTHENTICATED="unauthenticated",n.AUTHENTICATING="authenticating",n.AUTHENTICATED="authenticated",n.AUTHENTICATION_FAILED="authentication_failed",n),eW=a("299846"),eL=e=>{switch(e){case eU.AUTHENTICATING:return p.o.t("vol_database_auth_in_progress",{},"\u8BA4\u8BC1\u4E2D...");case eU.AUTHENTICATED:return p.o.t("vol_database_auth_success",{},"\u8BA4\u8BC1\u901A\u8FC7");default:return p.o.t("vol_database_auth",{},"\u8BA4\u8BC1")}},eq=(e,t,a)=>{e.current&&(a?e.current.reset(a):e.current.reset()),t(eU.UNAUTHENTICATED)},eX=(0,f.createContext)(void 0),eK=e=>{var t,a,{children:r,formRef:o,initValues:i,mode:l,onCreateTable:n,showAuthAlert:s,setShowAuthAlert:d,setAuthState:c,authState:u}=e,p=(0,eW.rY)(e=>e.getSpaceId()),[m,v]=(0,f.useState)(i.projectName||""),[g,A]=(0,f.useState)(i.region||""),[x,_]=(0,f.useState)(i.instance||""),[I,E]=(0,f.useState)(!1),[w,y]=(0,f.useState)([]),[j,B]=(0,f.useState)({}),[N,Q]=(0,f.useState)([]);(0,f.useEffect)(()=>{var e;(e=(0,h._)(function*(){var e=yield C.v6.VolcanoDatabaseListProject({space_id:p});if(0===e.code){var t,a=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.volcano_project_list,r=null==a?void 0:a.map(e=>({label:e.display_name||"",value:e.display_name||""})),o=null==a?void 0:a.reduce((e,t)=>{var a;return t.display_name?(e[t.display_name]=(null==t?void 0:null===(a=t.region_list)||void 0===a?void 0:a.map(e=>({label:e.region_name||"",value:e.region_id||""})))||[],e):e},{});y(r||[]),B(o||{});return}}),function(){return e.apply(this,arguments)})()},[p]);var R=(t=(0,h._)(function*(){if(!!m&&!!g){E(!0);var e=yield C.v6.VolcanoDatabaseInstance({space_id:p,project_name:m,region_id:g});if(0===e.code){var t,a=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.instance_detailes;Q((null==a?void 0:a.map(e=>({label:e.instance_name||"",value:e.instance_id||"",status:e.status})))||[]),E(!1);return}E(!1)}}),function(){return t.apply(this,arguments)});(0,f.useEffect)(()=>{R()},[g,j]);var S=(a=(0,h._)(function*(){if(!!o.current)try{var e,{instance:t,account:a,password:r}=yield o.current.validate();if(!t||!a||!r)return;c(eU.AUTHENTICATING);var i=eV(r),l=yield C.v6.VolcanoDatabaseConnectCheck({space_id:p,region_id:g,connect_info:{user_name:a,user_pwd:i,instance_id:t}}),n=!1;0===l.code&&(n=(null==l?void 0:null===(e=l.data)||void 0===e?void 0:e.is_pass)||!1),n?c(eU.AUTHENTICATED):c(eU.AUTHENTICATION_FAILED)}catch(e){console.error("Authentication error:",e),c(eU.AUTHENTICATION_FAILED)}}),function(){return a.apply(this,arguments)});return(0,b.jsx)(eX.Provider,{value:{formRef:o,mode:l,selectedProject:m,selectedRegion:g,selectedInstance:x,handleInstanceChange:e=>{"string"==typeof e&&(_(e),eq(o,c,["account","password"]))},authState:u,projectOptions:w,regionOptions:j,instanceOptions:N,handleProjectChange:e=>{"string"==typeof e&&(v(e),o.current,eq(o,c,["region","instance","account","password"]),A(""))},handleRegionChange:e=>{"string"==typeof e&&(A(e),o.current,eq(o,c,["instance","account","password"]))},handleAuthenticate:S,setAuthState:c,onCreateTable:n,isInstancesLoading:I,refreshInstanceOptions:e=>{if(!!e)try{E(!0),R(),console.log("Refreshing instance options for region: ".concat(e))}catch(e){console.error("Failed to refresh instance options:",e)}finally{E(!1)}},handleAuthFormChange:()=>{c(eU.UNAUTHENTICATED)},showAuthAlert:s,setShowAuthAlert:d},children:r})},eJ=()=>{var e=(0,f.useContext)(eX);if(!e)throw Error("useVolcDB must be used within a VolcDBProvider");return e},e$=e=>{var{onRefresh:t,loading:a,onSelectAll:r,isAllSelected:o,title:i,multiple:l}=e;return(0,b.jsxs)("div",{className:"flex justify-between items-center p-2",children:[(0,b.jsx)("span",{className:"text-xs text-[var(--coz-fg-secondary)]",children:i}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(v.Button,{size:"small",icon:(0,b.jsx)(m.mxP,{fontSize:16,color:"var(--coz-fg-secondary)"}),onClick:t,loading:a,color:"secondary",className:"text-[var(--coz-fg-secondary)]",children:(0,b.jsx)("span",{className:"font-normal text-[var(--coz-fg-secondary)]",children:p.o.t("vol_database_action_refresh",{},"\u5237\u65B0")})}),l?(0,b.jsx)(v.Checkbox,{checked:o,onChange:e=>{var t=!0===e.target.checked;null==r||r(t)},children:(0,b.jsx)("span",{className:"text-[var(--coz-fg-secondary)] text-xs leading-20px",children:p.o.t("vol_database_select_all",{},"\u9009\u62E9\u5168\u90E8")})}):null]})]})},e0=()=>(0,b.jsx)("div",{className:"h-[1px] my-6px bg-[var(--coz-stroke-primary)]"}),e1=a("701296"),e2={};e2.styleTagTransform=P(),e2.setAttributes=z(),e2.insert=R().bind(null,"head"),e2.domAPI=N(),e2.insertStyleElement=D(),j()(e1.Z,e2);var e6=e1.Z&&e1.Z.locals?e1.Z.locals:void 0,e4=e=>{var t,a,[r,o]=(0,f.useState)([]),[i,l]=(0,f.useState)(!1),[n,s]=(0,f.useState)([]),[d,c]=(0,f.useState)(!1),[u,b]=(0,f.useState)(1),[p,m]=(0,f.useState)(!1),[v,g]=(0,f.useState)(0),[A,x]=(0,f.useState)(!1),_=(0,eW.rY)(e=>e.getSpaceId());(0,f.useEffect)(()=>{if(e){var t=e.getValues();t.table&&s(Array.isArray(t.table)?t.table:[t.table])}},[e]),(0,f.useEffect)(()=>{c(r.length>0&&n.length===r.length)},[n,r]);var I=(t=(0,h._)(function*(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!!t){r?x(!0):(l(!0),b(1));try{var{region:i,account:n,password:s,instance:d}=null==e?void 0:e.getValues(),c=yield C.v6.VolcanoDatabaseListTable({space_id:_,region_id:i,page_size:20,page_num:a,database_bind_info:{db_name:t,connect_info:{instance_id:d,user_name:n,user_pwd:eV(s)}}});if(0===c.code){var u,p,v,h=((null===(u=c.data)||void 0===u?void 0:u.table_list)||[]).map(e=>({label:e.table_name||"",value:e.table_name||""}));g(Number(null===(p=c.data)||void 0===p?void 0:p.total)||0),m((null===(v=c.data)||void 0===v?void 0:v.has_more)||!1),b(a),r?o(e=>[...e,...h]):o(h)}}catch(e){console.error("Error loading tables:",e)}finally{r?x(!1):l(!1)}}}),function(e){return t.apply(this,arguments)});var E=(a=(0,h._)(function*(e){if(!!p&&!A)yield I(e,u+1,!0)}),function(e){return a.apply(this,arguments)}),w=()=>{e&&e.setValue("table",[]),s([])};return{tableOptions:r,isTablesLoading:i,selectedTables:n,isAllSelected:d,loadTables:I,loadMoreTables:E,resetTableSelection:w,handleSelectionChange:e=>{Array.isArray(e)&&s(e)},handleSelectAll:t=>{if(t){var a=r.map(e=>e.value);s(a),e&&e.setValue("table",a)}else w()},hasMore:p,total:v,isLoadingMore:A}},e8=(e,t)=>{var a,[r,o]=(0,f.useState)([]),[i,l]=(0,f.useState)(!1),[n,s]=(0,f.useState)(""),d=(0,eW.rY)(e=>e.getSpaceId());var c=(a=(0,h._)(function*(t){if(!!t){console.log("Loading databases for instance:",t),l(!0);try{var{region:a,account:r,password:i}=null==e?void 0:e.getValues(),n=yield C.v6.VolcanoDatabaseListDatabase({space_id:d,region_id:a,connect_info:{instance_id:t,user_name:r,user_pwd:eV(i)}});if(0===n.code){var s,c=((null===(s=n.data)||void 0===s?void 0:s.database_list)||[]).map(e=>({label:e.database_name||"",value:e.database_name||""}));o(c)}e?!e.getValues().database&&u():u()}catch(e){console.error("Error loading databases:",e)}finally{l(!1)}}}),function(e){return a.apply(this,arguments)}),u=()=>{e&&(e.setValue("database",""),e.setValue("table","")),s(""),t()};return{databaseOptions:r,isDatabasesLoading:i,selectedDatabase:n,setSelectedDatabase:s,loadDatabases:c,resetSelections:u,handleDatabaseChange:e=>"string"==typeof e&&e?(s(e),e):null}},e7=e=>{var{onCreateTable:t}=e,{formRef:a,selectedInstance:r}=eJ(),o=a.current,i=(0,f.useRef)(null),{tableOptions:l,isTablesLoading:n,isAllSelected:s,loadTables:d,loadMoreTables:c,resetTableSelection:u,handleSelectionChange:g,handleSelectAll:h,hasMore:_,total:I,isLoadingMore:E}=e4(o),{databaseOptions:w,isDatabasesLoading:C,selectedDatabase:y,setSelectedDatabase:j,loadDatabases:B,resetSelections:N,handleDatabaseChange:Q}=e8(o,u);(0,f.useEffect)(()=>{y&&!n&&l.length>0&&i.current&&setTimeout(()=>{var e;null===(e=i.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start"})},100)},[y,n,l.length]),(0,f.useEffect)(()=>{if(o){var e=o.getValues();e.database&&e.database!==y&&(j(e.database),d(e.database))}},[]),(0,f.useEffect)(()=>{r?B(r):N()},[r]);var R=()=>{window.open("https://console.volcengine.com/db/region:db+cn-beijing/rds-mysql/list?projectName=default","_blank")},S=(0,b.jsxs)("div",{children:[(0,b.jsx)(e$,{onRefresh:()=>d(y),loading:n,onSelectAll:h,isAllSelected:s,title:"\u6BCF\u4E2A\u8868\u4F1A\u5728\u6263\u5B50\u4E0A\u5BF9\u5E94\u4FDD\u5B58\u4E3A\u4E00\u4E2A\u72EC\u7ACB\u7684\u5E93",multiple:!0}),(0,b.jsx)(e0,{})]}),z=(0,b.jsxs)("div",{children:[_?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-full mb-2 px-4 py-2 text-center cursor-pointer rounded-md border transition-colors ".concat(E?"text-gray-400 cursor-not-allowed":"text-gray-600 border-gray-200 hover:bg-gray-100 hover:text-gray-700"),onClick:()=>!E&&c(y),children:E?"\u52A0\u8F7D\u4E2D...":"\u52A0\u8F7D\u66F4\u591A (".concat(l.length,"/").concat(I,")")}),(0,b.jsx)(e0,{})]}):null,(0,b.jsx)(e0,{}),(0,b.jsx)(v.Button,{color:"primary",className:"w-full",icon:(0,b.jsx)(m.PwN,{}),onClick:t,children:p.o.t("vol_database_create_volcano_table",{},"\u65B0\u5EFA\u706B\u5C71\u6570\u636E\u8868")})]}),T=(0,b.jsxs)("div",{children:[(0,b.jsx)(e$,{onRefresh:()=>{r&&B(r)},loading:C,title:p.o.t("vol_database_volcano_database",{},"\u706B\u5C71\u6570\u636E\u5E93"),multiple:!1}),(0,b.jsx)(e0,{})]}),D=(0,b.jsxs)("div",{children:[(0,b.jsx)(e0,{}),(0,b.jsx)(v.Button,{color:"primary",className:"w-full",icon:(0,b.jsx)(m.PwN,{}),onClick:R,children:p.o.t("vol_database_volcano_database",{},"\u706B\u5C71\u6570\u636E\u5E93")})]});return(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)(v.FormSelect,(0,x._)((0,A._)({},w.length>0?{outerTopSlot:T,outerBottomSlot:D}:{}),{className:"w-full",field:"database",label:p.o.t("vol_database_volcano_database",{},"\u706B\u5C71\u6570\u636E\u5E93"),placeholder:p.o.t("vol_database_select_database",{},"\u8BF7\u9009\u62E9\u6570\u636E\u5E93"),optionList:w,onChange:e=>{var t=Q(e);t&&(d(t),o&&o.getValues().database!==t&&u())},loading:C,rules:[{required:!0,message:p.o.t("vol_database_select_database",{},"\u8BF7\u9009\u62E9\u6570\u636E\u5E93")}],emptyContent:(0,b.jsx)(v.EmptyState,{icon:(0,b.jsx)(m.nL$,{}),title:p.o.t("vol_database_has_not_been_created",{},"\u672A\u521B\u5EFA\u706B\u5C71\u6570\u636E\u5E93"),buttonText:p.o.t("vol_database_action_create_in_volcano",{},"\u53BB\u706B\u5C71\u521B\u5EFA"),onButtonClick:R,buttonProps:{color:"highlight"}})})),y?(0,b.jsx)("div",{ref:i,children:(0,b.jsx)(v.FormSelect,(0,x._)((0,A._)({},l.length>0?{outerTopSlot:S,outerBottomSlot:z}:{}),{className:"w-full",field:"table",multiple:!0,maxTagCount:3,showRestTagsPopover:!0,restTagsPopoverProps:{position:"top",className:"max-w-[500px] ".concat(e6["db-table-popover"])},label:p.o.t("vol_database_volcano_table",{},"\u706B\u5C71\u6570\u636E\u8868"),placeholder:p.o.t("vol_database_select_database_table",{},"\u8BF7\u9009\u62E9\u6570\u636E\u8868"),optionList:l,loading:n,onChange:g,rules:[{required:!0,message:p.o.t("vol_database_select_database_table",{},"\u8BF7\u9009\u62E9\u6570\u636E\u8868")}],emptyContent:(0,b.jsx)(v.EmptyState,{icon:(0,b.jsx)(m.nL$,{}),title:p.o.t("vol_database_table_not_created",{},"\u672A\u521B\u5EFA\u6570\u636E\u8868"),buttonText:p.o.t("vol_database_click_to_create",{},"\u70B9\u51FB\u521B\u5EFA"),onButtonClick:t,buttonProps:{color:"highlight"}})}))}):null]})};var e9=((s={})[s.CREATING=1]="CREATING",s[s.RUNNING=2]="RUNNING",s[s.DELETING=3]="DELETING",s[s.RESTARTING=4]="RESTARTING",s[s.UPDATING=5]="UPDATING",s[s.RESTORING=6]="RESTORING",s[s.ERROR=7]="ERROR",s[s.UPGRADING=8]="UPGRADING",s[s.RELEASED=9]="RELEASED",s[s.RECYCLED=10]="RECYCLED",s[s.MASTER_CHANGING=11]="MASTER_CHANGING",s[s.TDE_UPDATING=12]="TDE_UPDATING",s[s.CLOSED=13]="CLOSED",s[s.MAINTAINING=14]="MAINTAINING",s[s.CREATE_FAILED=15]="CREATE_FAILED",s[s.CLOSING=16]="CLOSING",s[s.SSL_UPDATING=17]="SSL_UPDATING",s[s.ALLOW_LIST_MAINTAINING=18]="ALLOW_LIST_MAINTAINING",s[s.UNKNOWN=19]="UNKNOWN",s[s.PROXY_CREATING=20]="PROXY_CREATING",s[s.PROXY_DELETING=21]="PROXY_DELETING",s[s.CHARGE_TYPE_CHANGING=22]="CHARGE_TYPE_CHANGING",s[s.NETWORK_CHANGING=23]="NETWORK_CHANGING",s),e3={1:p.o.t("vol_database_state_creating",{},"\u521B\u5EFA\u4E2D"),2:p.o.t("vol_database_state_running",{},"\u8FD0\u884C\u4E2D"),3:p.o.t("vol_database_state_deleting",{},"\u5220\u9664\u4E2D"),4:p.o.t("vol_database_state_restarting",{},"\u91CD\u542F\u4E2D"),5:p.o.t("vol_database_state_modifying",{},"\u53D8\u66F4\u4E2D"),6:p.o.t("vol_database_state_recovering",{},"\u6062\u590D\u4E2D"),7:p.o.t("vol_database_state_error",{},"\u9519\u8BEF"),8:p.o.t("vol_database_state_upgrading",{},"\u5347\u7EA7\u4E2D"),9:p.o.t("vol_database_state_recycling",{},"\u56DE\u6536\u4E2D"),10:p.o.t("vol_database_state_recycled",{},"\u5DF2\u56DE\u6536"),11:p.o.t("vol_database_state_primary_switching",{},"\u4E3B\u8282\u70B9\u5207\u6362\u4E2D"),12:p.o.t("vol_database_state_tde_modifying",{},"TDE \u4FEE\u6539\u4E2D"),13:p.o.t("vol_database_state_stopped",{},"\u5173\u505C"),14:p.o.t("vol_database_state_maintaining",{},"\u7EF4\u62A4\u4E2D"),15:p.o.t("vol_database_state_creation_failed",{},"\u521B\u5EFA\u5931\u8D25"),16:p.o.t("vol_database_state_stopping",{},"\u5173\u505C\u4E2D"),17:p.o.t("vol_database_state_ssl_modifying",{},"SSL \u53D8\u66F4\u4E2D"),18:p.o.t("vol_database_state_whitelist_modifying",{},"\u767D\u540D\u5355\u53D8\u66F4\u4E2D"),19:p.o.t("vol_database_state_unknown",{},"\u672A\u77E5"),20:p.o.t("vol_database_state_proxy_enabling",{},"\u4EE3\u7406\u5F00\u542F\u4E2D"),21:p.o.t("vol_database_state_proxy_disabling",{},"\u4EE3\u7406\u5173\u95ED\u4E2D"),22:p.o.t("vol_database_state_billing_modifying",{},"\u8BA1\u8D39\u7C7B\u578B\u53D8\u66F4\u4E2D"),23:p.o.t("vol_database_state_network_modifying",{},"\u7F51\u7EDC\u53D8\u66F4\u4E2D")},e5=()=>{var[e,t]=(0,f.useState)(!1),{mode:a,authState:r,handleAuthFormChange:o,handleAuthenticate:i}=eJ();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.FormInput,{className:"w-full",field:"account",label:p.o.t("vol_database_account",{},"\u8D26\u53F7"),placeholder:p.o.t("vol_database_prompt_account",{},"\u8F93\u5165\u8D26\u53F7"),rules:[{required:!0,message:p.o.t("vol_database_prompt_account",{},"\u8BF7\u8F93\u5165\u8D26\u53F7")}],disabled:a===eZ.EDIT,onChange:o}),(0,b.jsx)(v.FormInput,{className:"w-full",field:"password",label:p.o.t("vol_database_password",{},"\u5BC6\u7801"),placeholder:p.o.t("vol_database_prompt_password",{},"\u8BF7\u8F93\u5165\u5BC6\u7801"),type:e?"text":"password",rules:[{required:!0,message:p.o.t("vol_database_prompt_password",{},"\u8BF7\u8F93\u5165\u5BC6\u7801")}],suffix:(0,b.jsx)("div",{className:"cursor-pointer text-[var(--coz-fg-secondary)] hover:text-[var(--coz-fg-primary)] h-[32px] flex items-center justify-center",onClick:()=>{t(!e)},children:e?(0,b.jsx)(m.Eho,{fontSize:16}):(0,b.jsx)(m.SA_,{fontSize:16})}),disabled:a===eZ.EDIT,onChange:o}),r===eU.AUTHENTICATION_FAILED&&(0,b.jsxs)("div",{className:"h-32px flex items-center text-[var(--coz-fg-hglt-red)] text-sm mb-12px py-4px px-12px rounded-lg bg-[var(--coz-mg-hglt-secondary-red)]",children:[(0,b.jsx)(m.UoC,{className:"mr-4px coz-fg-hglt-red"}),p.o.t("vol_database_auth_failed",{},"\u8BA4\u8BC1\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u8D26\u53F7\u4E0E\u5BC6\u7801")]}),(0,b.jsx)(v.Button,{color:"highlight",className:"w-full",loading:r===eU.AUTHENTICATING,disabled:r===eU.AUTHENTICATING||r===eU.AUTHENTICATED,onClick:i,children:eL(r)})]})},te={[e9.RUNNING]:"green",[e9.CREATING]:"blue",[e9.UPDATING]:"blue",[e9.RESTARTING]:"blue",[e9.RESTORING]:"blue",[e9.UPGRADING]:"blue",[e9.RELEASED]:"blue",[e9.MASTER_CHANGING]:"blue",[e9.TDE_UPDATING]:"blue",[e9.SSL_UPDATING]:"blue",[e9.ALLOW_LIST_MAINTAINING]:"blue",[e9.PROXY_CREATING]:"blue",[e9.PROXY_DELETING]:"blue",[e9.CHARGE_TYPE_CHANGING]:"blue",[e9.NETWORK_CHANGING]:"blue",[e9.MAINTAINING]:"yellow",[e9.RECYCLED]:"yellow",[e9.DELETING]:"red",[e9.ERROR]:"red",[e9.CLOSED]:"red",[e9.CREATE_FAILED]:"red",[e9.CLOSING]:"red",[e9.UNKNOWN]:"blue"},tt=e=>{var{disabled:t,selected:a,focused:r,className:o,style:i,onMouseEnter:l,onClick:n,label:s,value:d}=e,c=W()({"custom-option-render":!0,"custom-option-render-focused":r,"custom-option-render-disabled":t,"custom-option-render-selected":a,className:o}),u=e.status||e9.UNKNOWN;return(0,b.jsxs)("div",{style:i,onClick:n,className:"".concat(c," flex items-center rounded-lg py-6px px-8px cursor-pointer hover:bg-[var(--coz-mg-secondary-hovered)]"),onMouseEnter:e=>null==l?void 0:l(e),children:[(0,b.jsx)("div",{className:"w-24px h-24px bg-[var(--coz-fg-brand)] rounded-full flex items-center justify-center",children:e.selected?(0,b.jsx)(m.P03,{className:"coz-fg-hglt"}):null}),(0,b.jsxs)("div",{className:"flex flex-col mx-8px",children:[(0,b.jsx)("span",{className:"text-[var(--coz-fg-primary)]",children:s}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[u?(0,b.jsx)(v.Tag,{size:"mini",color:te[u],children:e3[u]||"\u672A\u77E5"}):null,(0,b.jsx)("span",{className:"text-xs text-[var(--coz-fg-secondary)]",children:d})]})]})]})},ta=()=>{var{selectedRegion:e,mode:t,authState:a,instanceOptions:r,onCreateTable:o,handleInstanceChange:i,refreshInstanceOptions:l,isInstancesLoading:n,showAuthAlert:s}=eJ(),d=(0,f.useRef)(null);(0,f.useEffect)(()=>{a===eU.AUTHENTICATED&&d.current&&setTimeout(()=>{var e;null===(e=d.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start"})},100)},[a]);var c=r||[],u=()=>{window.open("https://console.volcengine.com/db/region:db+cn-beijing/rds-mysql/list?projectName=default","_blank")},g=(0,b.jsxs)("div",{children:[(0,b.jsx)(e$,{onRefresh:()=>{e&&l(e)},loading:n,title:p.o.t("vol_database_volcano_instance",{},"\u706B\u5C71\u6570\u636E\u5E93\u5B9E\u4F8B"),multiple:!1}),(0,b.jsx)(e0,{})]}),h=(0,b.jsxs)("div",{children:[(0,b.jsx)(e0,{}),(0,b.jsx)(v.Button,{color:"primary",className:"w-full",icon:(0,b.jsx)(m.PwN,{}),onClick:u,children:p.o.t("vol_database_volcano_instance",{},"\u706B\u5C71\u6570\u636E\u5E93\u5B9E\u4F8B")})]}),_=W()({"border-solid border-[var(--coz-stroke-hglt-red)]":s});return(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsxs)("div",{className:"text-sm font-semibold text-[rgb(56, 55, 67)] mb-[4px]",children:[p.o.t("vol_database_instance",{},"\u6570\u636E\u5E93\u5B9E\u4F8B"),(0,b.jsx)("span",{className:"text-[#FF4D4F]",children:"*"})]}),(0,b.jsxs)("div",{className:"border border-solid border-[#E0E1E5] rounded-lg p-4 ".concat(_),children:[(0,b.jsx)(v.FormSelect,(0,x._)((0,A._)({className:"w-full",field:"instance",label:p.o.t("vol_database_select_instance",{},"\u9009\u62E9\u5B9E\u4F8B"),placeholder:p.o.t("vol_database_prompt_select_instance",{},"\u8BF7\u9009\u62E9\u5B9E\u4F8B"),loading:n,optionList:c,rules:[{required:!0,message:p.o.t("vol_database_prompt_select_instance",{},"\u8BF7\u9009\u62E9\u5B9E\u4F8B")}],disabled:t===eZ.EDIT,onChange:i,renderOptionItem:tt},c.length>0?{outerTopSlot:g,outerBottomSlot:h}:{}),{emptyContent:(0,b.jsx)(v.EmptyState,{icon:(0,b.jsx)(m.nL$,{}),title:p.o.t("vol_database_instance_not_created",{},"\u672A\u521B\u5EFA\u706B\u5C71\u6570\u636E\u5E93\u5B9E\u4F8B"),buttonText:p.o.t("vol_database_action_create_in_volcano",{},"\u53BB\u706B\u5C71\u521B\u5EFA"),onButtonClick:u,buttonProps:{color:"highlight"}})})),(0,b.jsx)(e5,{})]}),a===eU.AUTHENTICATED&&(0,b.jsx)("div",{ref:d,children:(0,b.jsx)(e7,{onCreateTable:o})})]})},tr=()=>{var{selectedProject:e,selectedRegion:t,regionOptions:a,projectOptions:r,mode:o,handleProjectChange:i,handleRegionChange:l,showAuthAlert:n}=eJ();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.FormSelect,{className:"w-full",field:"projectName",label:p.o.t("vol_database_volcano_project",{},"\u706B\u5C71\u9879\u76EE"),placeholder:p.o.t("vol_database_select_volcano_project",{},"\u8BF7\u9009\u62E9\u706B\u5C71\u9879\u76EE"),optionList:r,onChange:i,rules:[{required:!0,message:p.o.t("vol_database_select_volcano_project",{},"\u8BF7\u9009\u62E9\u706B\u5C71\u9879\u76EE")}],disabled:o===eZ.EDIT}),e?(0,b.jsx)(v.FormSelect,{className:"w-full",field:"region",label:p.o.t("vol_database_region",{},"\u533A\u57DF"),placeholder:p.o.t("vol_database_select_region",{},"\u8BF7\u9009\u62E9\u533A\u57DF"),optionList:a[e]||[],onChange:l,rules:[{required:!0,message:p.o.t("vol_database_select_region",{},"\u8BF7\u9009\u62E9\u533A\u57DF")}],disabled:o===eZ.EDIT}):null,e&&t?(0,b.jsx)(ta,{}):null,n?(0,b.jsx)("div",{className:"my-2px text-xs text-[var(--coz-fg-hglt-red)]",children:p.o.t("vol_database_auth_required",{},"\u9700\u8981\u5148\u8FDB\u884C\u8BA4\u8BC1")}):null]})},to=a("270376"),ti={};ti.styleTagTransform=P(),ti.setAttributes=z(),ti.insert=R().bind(null,"head"),ti.domAPI=N(),ti.insertStyleElement=D(),j()(to.Z,ti);var tl=to.Z&&to.Z.locals?to.Z.locals:void 0,tn=e=>{var{formRef:t,initValues:a,setShowAuthAlert:r}=e;return(0,b.jsx)(v.Form,{className:tl["database-model-content"],getFormApi:e=>{t.current=e},initValues:a,onValueChange:()=>{r(!1)},children:(0,b.jsx)(tr,{})})},ts=e=>{var{formRef:t,initValues:a,onCreateTable:r,showAuthAlert:o,setShowAuthAlert:i,authState:l,setAuthState:n}=e;return(0,b.jsx)(eK,{formRef:t,initValues:a,onCreateTable:r,showAuthAlert:o,setShowAuthAlert:i,setAuthState:n,authState:l,children:(0,b.jsx)(tn,{formRef:t,initValues:a,showAuthAlert:o,setShowAuthAlert:i})})};var td=(d=(0,h._)(function*(e){var{region:t,database:a,tableList:r,account:o,password:i,instance:l,spaceId:n,projectId:s}=e;return yield C.v6.VolcanoDatabaseBatchAssociate({space_id:n,project_id:s,region_id:t,database_bind_info:{db_name:a,connect_info:{user_name:o,user_pwd:eV(i),instance_id:l}},volcano_table_list:r})}),function(e){return d.apply(this,arguments)}),tc=a("499815"),tu={};tu.styleTagTransform=P(),tu.setAttributes=z(),tu.insert=R().bind(null,"head"),tu.domAPI=N(),tu.insertStyleElement=D(),j()(tc.Z,tu);var tb=tc.Z&&tc.Z.locals?tc.Z.locals:void 0,tp=(0,f.forwardRef)((e,t)=>{var a,r,o,{data:i,botId:l="",spaceId:n="",creatorId:s="",onSave:d,onCancel:c,onDeleteField:u,forceEdit:m=!1,useComputingEnableGoToNextStep:g,onlyShowDatabaseInfoRWMode:_,enableAdd:I=!0,loading:E=!1,setContentCheckErrorMsg:w=K.Z,createType:y,showDatabaseBaseInfo:j,hiddenTableBorder:B,isReadonlyMode:N,projectID:Q}=e,[R,S]=(0,f.useState)([]),z=(0,f.useRef)(null),T=(0,f.useRef)(null),D=(0,f.useRef)(),M=!!i.tableId,[P,{setTrue:k,setFalse:Y}]=(0,J.Z)(!1),O=R.filter(e=>!e.isSystemField).filter(e=>e.name||e.desc||e.type).length<=0,F=!R.some(e=>e.is_primary_key),G=[0x2a339708,0x2a3851f8],Z=e=>{(0,eM.k0)(e)&&G.includes(Number(null==e?void 0:e.code))&&w((null==e?void 0:e.msg)||p.o.t("knowledge_bot_update_databse_tnserr_msg"))},H=function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(!P)S([...R,{nanoid:(0,X.x0)(),name:"",desc:"",type:void 0,must_required:!1,is_primary_key:!1}]),e&&setTimeout(()=>{var e,t,a;null===(t=z.current)||void 0===t||null===(e=t.triggerFocus)||void 0===e||e.call(t),null===(a=T.current)||void 0===a||a.scrollIntoView({block:"end",behavior:"smooth"})},100)},U=e=>{S(t=>er(t,e))};var L=(a=(0,h._)(function*(){var e=er(R,"save");if(S(e),j)try{yield D.current.formApi.validate(["name"])}catch(e){return!1}return!e.find(e=>Object.keys(e.errorMapper||{}).find(t=>{var a,r;return!!(null==e?void 0:null===(r=e.errorMapper)||void 0===r?void 0:null===(a=r[t])||void 0===a?void 0:a.length)}))&&!O&&!F&&!0}),function(){return a.apply(this,arguments)});var q=(r=(0,h._)(function*(e){var t,a,r={};r=D.current?D.current.formApi.getValues():{name:i.name,desc:i.desc,readAndWriteMode:i.readAndWriteMode,prompt_disabled:(null===(t=i.extra_info)||void 0===t?void 0:t.prompt_disabled)==="true"},M?(0,ez.Gg)(ez.Kg.edit_table_click,{need_login:!0,have_access:!0,bot_id:l,table_name:r.name}):(0,ez.Gg)(ez.Kg.create_table_click,{need_login:!0,have_access:!0,bot_id:l,table_name:r.name,database_create_type:y});var o={table_name:r.name,table_desc:_?i.desc:r.desc,icon_uri:i.icon_uri,prompt_disabled:!!r.prompt_disabled,field_list:R.filter(e=>!!e.name&&!e.isSystemField).map(e=>({name:e.name,desc:e.desc||"",type:e.type,must_required:e.must_required,id:null==e?void 0:e.id,alterId:null==e?void 0:e.alterId,is_primary_key:e.is_primary_key})),rw_mode:r.readAndWriteMode};if(M)try{a=yield C.v6.UpdateDatabase((0,x._)((0,A._)({},o),{id:i.tableId}))}catch(e){$.s5.errorEvent($.xW.DATABASE,{eventName:eS.b.DatabaseAlterTable,error:e}),Z(e);return}else try{a=e?yield C.v6.AddDatabase((0,x._)((0,A._)({},o),{space_id:n,creator_id:s,project_id:Q,database_type:1,volcano_database_bind_info:{connect_info:{user_name:e.account,user_pwd:e.password,instance_id:e.instance},db_name:e.database},region_id:e.region})):yield C.v6.AddDatabase((0,x._)((0,A._)({},o),{space_id:n,creator_id:s,project_id:Q}))}catch(e){$.s5.errorEvent($.xW.DATABASE,{eventName:eS.b.DatabaseAddTable,error:e}),Z(e);return}d&&(yield d({response:a})),null==c||c()}),function(e){return r.apply(this,arguments)});var ee=(o=(0,h._)(function*(e){try{if(k(),!(yield L()))return;yield q(e)}finally{Y()}}),function(e){return o.apply(this,arguments)});(0,f.useImperativeHandle)(t,()=>({submit:e=>(0,h._)(function*(){return yield ee(e)})(),validate:()=>(0,h._)(function*(){return yield L()})(),setTableFieldsList:S,isReadonly:P,tableBasicInfoFormRef:D,tableFieldsList:R}),[P,R,D]),null==g||g(R,O,F);var et=I?[...R,{operate:"add"}]:R,ea=()=>{w("")};(0,f.useEffect)(()=>{var e,t=[...i.tableMemoryList];0===t.length&&t.push({name:"",desc:"",type:void 0,must_required:!1,is_primary_key:!1}),S(t),D.current&&!E&&D.current.formApi.setValues({name:(null==i?void 0:i.name)||"",desc:(null==i?void 0:i.desc)||"",prompt_disabled:!!M&&(null===(e=i.extra_info)||void 0===e?void 0:e.prompt_disabled)==="true",readAndWriteMode:(null==i?void 0:i.readAndWriteMode)||ei.mx.LimitedReadWrite})},[i,E]);var eo=e=>{S(R.map(t=>(0,x._)((0,A._)({},t),{is_primary_key:t.name===e})))};return(0,b.jsxs)("div",{className:W()(tb["table-structure-wrapper"],{[tb["hidden-form-border"]]:B}),children:[j?(0,b.jsx)(v.Form,{ref:D,layout:"vertical",className:tb["table-structure-form"],onValueChange:(e,t)=>{("name"in t||"desc"in t)&&ea()},children:(0,b.jsx)(eC,{field:"name",label:{text:p.o.t("db_add_table_name"),required:!0},validate:e=>eF(e),trigger:["change","blur"],fieldClassName:tb["table-name-form-field"],disabled:N,inputProps:{"data-testid":V.A.BotDatabaseAddModalTableNameInput,disabled:!m&&(P||M),placeholder:p.o.t("db_add_table_name_tips")}})}):null,(0,b.jsx)(eT.$,{tableProps:{loading:E,columns:[{dataIndex:"is_primary_key",title:(0,b.jsx)(eR,{field:p.o.t("vol_database_primary_key",{},"\u4E3B\u952E"),tip:(0,b.jsxs)("article",{style:{width:375},children:[p.o.t("vol_database_primary_key_desc"),(0,b.jsx)("br",{}),(0,b.jsx)("span",{className:tb["th-tip-dot"]})," ",p.o.t("vol_database_primary_key_desc_a"),(0,b.jsx)("br",{}),(0,b.jsx)("span",{className:tb["th-tip-dot"]})," ",p.o.t("vol_database_primary_key_desc_b"),(0,b.jsx)("br",{}),(0,b.jsx)("span",{className:tb["th-tip-dot"]})," ",p.o.t("vol_database_primary_key_desc_c")]})}),render:(e,t,a)=>"add"!==t.operate?(0,b.jsx)(v.Radio,{checked:t.is_primary_key,disabled:!t.name,onChange:()=>eo(t.name)}):null,width:72},{dataIndex:"name",title:(0,b.jsx)(eR,{field:p.o.t("db_add_table_field_name"),required:!0,tip:(0,b.jsxs)("div",{className:tb["th-tip-name"],children:[(0,b.jsx)("span",{style:{width:494,marginBottom:8},children:p.o.t("db_add_table_field_name_tips")}),(0,b.jsx)(eT.Ee,{preview:!1,width:494,height:163,src:eP})]})}),render:(e,t,a)=>{var r,o,i;return"add"!==t.operate?(0,b.jsx)(ew,{style:{position:"static"},onRef:z,value:t.name,inputProps:{"data-testid":V.A.BotDatabaseAddModalFieldNameInput,"data-dtestid":V.A.BotDatabaseAddModalFieldNameInput,disabled:P||t.isSystemField||N,placeholder:"Enter Name"},errorMsgFloat:!0,onFocusPopoverProps:{style:{padding:"2px 12px"},position:"left",content:(0,b.jsx)(eQ,{})},errorMsg:null===(i=R[a])||void 0===i?void 0:null===(o=i.errorMapper)||void 0===o?void 0:null===(r=o.name)||void 0===r?void 0:r.join("; "),handleChange:e=>{var t=[...R];t[a].name=e,S(t),U("change"),ea()},handleBlur:()=>{U("blur")}}):(0,b.jsx)("div",{ref:T,"data-testid":V.A.BotDatabaseAddModalAddBtn,children:(0,b.jsx)(v.Button,{color:"primary",disabled:P,onClick:()=>H(!0),icon:(0,b.jsx)(eD.N_R,{}),children:p.o.t("bot_userProfile_add")})})},width:261},{dataIndex:"desc",title:(0,b.jsx)(eR,{field:p.o.t("db_add_table_field_desc"),tip:(0,b.jsx)("article",{style:{width:327},children:p.o.t("db_add_table_field_desc_tips")})}),render:(e,t,a)=>"add"!==t.operate?(0,b.jsx)(ew,{value:t.desc,maxCount:300,inputProps:{"data-testid":"".concat(V.A.BotDatabaseAddModalFieldDescInput,".").concat(a,".").concat(t.name),"data-dtestid":"".concat(V.A.BotDatabaseAddModalFieldDescInput,".").concat(a,".").concat(t.name),maxLength:300,disabled:P||t.isSystemField||N,placeholder:p.o.t("bot_edit_variable_description_placeholder")},errorMsgFloat:!0,handleChange:e=>{var t=[...R];t[a].desc=e,S(t),ea()}}):null,width:369},{dataIndex:"type",title:(0,b.jsx)(eR,{field:p.o.t("db_add_table_field_type"),required:!0,tip:(0,b.jsx)("article",{style:{width:327},children:p.o.t("db_add_table_field_type_tips")})}),render:(e,t,a)=>{var r,o,i;return"add"!==t.operate?(0,b.jsx)(ef,{value:t.type,selectProps:{"data-testid":"".concat(V.A.BotDatabaseAddModalFieldTypeSelect,".").concat(a,".").concat(t.name),"data-dtestid":"".concat(V.A.BotDatabaseAddModalFieldTypeSelect,".").concat(a,".").concat(t.name),disabled:P||M&&!!t.id||t.isSystemField||N,placeholder:p.o.t("db_table_save_exception_fieldtype"),optionList:el()},errorMsgFloat:!0,errorMsg:null===(i=R[a])||void 0===i?void 0:null===(o=i.errorMapper)||void 0===o?void 0:null===(r=o.type)||void 0===r?void 0:r.join("; "),handleChange:e=>{var t=[...R];t[a].type=e,S(t),U("change")}}):null},width:142},{dataIndex:"must_required",title:(0,b.jsx)(eR,{field:p.o.t("db_add_table_field_necessary"),tip:(0,b.jsxs)("article",{style:{width:327},children:[(0,b.jsx)("p",{className:tb["th-tip-dot"],children:p.o.t("db_add_table_field_necessary_tips1")}),(0,b.jsx)("p",{className:tb["th-tip-dot"],children:p.o.t("db_add_table_field_necessary_tips2")})]})}),render:(e,t,a)=>"add"!==t.operate?(0,b.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,b.jsx)(v.Switch,{"data-testid":"".concat(V.A.BotDatabaseAddModalFieldRequiredSwitch,".").concat(a,".").concat(t.name),"data-dtestid":"".concat(V.A.BotDatabaseAddModalFieldRequiredSwitch,".").concat(a,".").concat(t.name),disabled:P||t.disableMustRequired||t.isSystemField||N,checked:t.must_required,onChange:e=>{var t=[...R];t[a].must_required=e,S(t)},size:"small","aria-label":"a switch for semi demo"})}):null,width:108},{dataIndex:"operate",title:(0,b.jsx)(eR,{field:p.o.t("db_table_0126_021")}),render:(e,t,a)=>"add"!==t.operate?(0,b.jsx)(eT.gl,{deleteProps:{handleClick:()=>{if(!P){var e=[...R.slice(0,a),...R.slice(a+1)];S(e),U("change"),null==u||u(e)}},popconfirm:{defaultVisible:!1,visible:!1},tooltip:{content:p.o.t("datasets_table_title_actions_delete")},disabled:t.isSystemField||N},editProps:{hide:!0}}):null,width:85}],dataSource:et,pagination:!1,className:tb["table-structure-table"],rowKey:"nanoid"},wrapperClassName:tb["table-structure-table-wrapper"]}),O&&!E?(0,b.jsx)("div",{className:tb["table-empty-tips"],children:p.o.t("db_table_save_exception_nofield")}):null,!O&&F?(0,b.jsx)("div",{className:tb["table-empty-tips"],children:"\u8BF7\u8BBE\u7F6E\u4E3B\u952E"}):null]})}),tm=e=>{var{onReturn:t,onSubmit:a,initValue:r,showDatabaseBaseInfo:o,extraParams:i,onlyShowDatabaseInfoRWMode:l,projectID:n,volcDBInfo:s,renderGenerate:d}=e,[c,u]=(0,f.useState)(!1);return{visible:c,open:()=>{u(!0)},close:()=>{u(!1)},modal:(0,b.jsx)(tv,{visible:c,onClose:t,onReturn:t,onSubmit:a,initValue:r,showDatabaseBaseInfo:o,extraParams:i,onlyShowDatabaseInfoRWMode:l,projectID:n,volcDBInfo:s,renderGenerate:d})}};function tv(e){var t,a,{visible:r,onClose:o,onReturn:i,onSubmit:l,initValue:n,showDatabaseBaseInfo:s,onlyShowDatabaseInfoRWMode:d,extraParams:{botId:c="",spaceId:u="",creatorId:g=""}={},projectID:_,volcDBInfo:I,renderGenerate:E}=e,[w,C]=(0,f.useState)(!1),[y,j]=(0,f.useState)(!1),[B,N]=(0,f.useState)(!1),[Q,R]=(0,f.useState)(n),S=(0,f.useRef)(null),z=(0,f.useMemo)(()=>!!n.tableId,[n]);var T=(t=(0,h._)(function*(e){var{response:t}=e;yield null==l?void 0:l(t)}),function(e){return t.apply(this,arguments)});var D=(a=(0,h._)(function*(){if(S.current)try{j(!0),yield S.current.submit(I)}finally{j(!1)}}),function(){return a.apply(this,arguments)});return(0,f.useEffect)(()=>{R(n)},[n]),(0,b.jsx)(v.Modal,{closable:!0,maskClosable:!1,visible:r,onCancel:void 0,onOk:D,size:"xxl",header:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex flex-row items-center",children:[(0,b.jsx)("div",{className:"flex-1 text-[20px] font-medium coz-fg-plus",children:z?p.o.t("db_edit_title"):p.o.t("db_add_table_title")}),z?null:null==E?void 0:E({tableStructureRef:S,onGenerateChange:e=>{R((0,x._)((0,A._)({},Q),{tableMemoryList:e}))},onGenerating:C,botId:c}),(0,b.jsx)("div",{children:(0,b.jsx)(v.IconButton,{color:"secondary",icon:(0,b.jsx)(m.rmE,{className:"text-[20px] coz-fg-secondary"}),onClick:o})})]}),z?(0,b.jsx)(q,{type:"warning",persistentKey:"_coze_database_edit_warning",className:"mx-[-24px]",children:p.o.t("vol_database_warning_field_deletion_impact")}):null]}),footer:(0,b.jsxs)("div",{className:"coz-modal-footer",children:[(0,b.jsx)(v.Button,{color:"primary",onClick:()=>{if(i){i();return}},children:z?p.o.t("db_del_field_confirm_no"):p.o.t("db2_003")}),(0,b.jsx)(v.Button,{"data-testid":V.A.BotDatabaseAddModalSubmitBtn,loading:y,onClick:D,disabled:B,children:p.o.t("db_edit_save")})]}),children:(0,b.jsx)("div",{children:(0,b.jsx)(tp,{data:Q,ref:S,loading:w,botId:c,spaceId:u,creatorId:g,useComputingEnableGoToNextStep:(e,t,a)=>{if(t||a){N(!0);return}N(!e.every(e=>{var t,a;if(!(null==e?void 0:e.errorMapper))return!0;return!((null===(t=e.errorMapper.name)||void 0===t?void 0:t.length)>0)&&!((null===(a=e.errorMapper.type)||void 0===a?void 0:a.length)>0)&&!0}))},createType:Z.custom,hiddenTableBorder:!0,showDatabaseBaseInfo:s,onlyShowDatabaseInfoRWMode:d,onSave:T,onCancel:o,projectID:_})})})}var tg=e=>{var t,{botId:a,tableStructureRef:r,onGenerateChange:o,onGenerating:i}=e,[l,n]=(0,f.useState)(""),[s,d]=(0,f.useState)(!1),c=e=>{var t=e[0];o(null==t?void 0:t.field_list)};var u=(t=(0,h._)(function*(){if(!!l)try{d(!1),i(!0);var e,t,o=yield C.v6.RecommendDataModel({bot_id:a||"0",scene_type:ei.cJ.ModelDesc,text:l});if((null==o?void 0:null===(e=o.bot_table_list)||void 0===e?void 0:e.length)===0)return;r.current&&(r.current.tableFieldsList.length>0?v.Modal.warning({title:p.o.t("bot_database_ai_replace"),content:p.o.t("bot_database_ai_replace_detailed"),icon:null,okButtonProps:{type:"warning"},okText:"Confirm",cancelText:"Cancel",modalContentClass:"p-[12px]",onOk:()=>{var e;c((null===(e=o.bot_table_list)||void 0===e?void 0:e.splice(0,20))||[])}}):c((null===(t=o.bot_table_list)||void 0===t?void 0:t.splice(0,20))||[]))}finally{d(!1),i(!1),n("")}}),function(){return t.apply(this,arguments)});return(0,b.jsx)(v.Popover,{className:"w-[448px]",contentClassName:"px-[16px] py-[14px]",position:"bottomRight",content:(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("p",{className:"coz-fg-plus text-[20px] font-medium leading-[28px]",children:p.o.t("bot_database_ai_create")}),(0,b.jsx)(v.TextArea,{className:"min-h-[100px] my-[12px]",placeholder:p.o.t("bot_database_ai_create_tip"),value:l,onChange:e=>n(e)}),(0,b.jsxs)("div",{className:"flex flex-row",children:[(0,b.jsx)("div",{className:"flex-1"}),(0,b.jsx)(v.AIButton,{color:"aihglt",onClick:u,children:p.o.t("bot_database_ai_generate")})]})]}),trigger:"custom",visible:s,onClickOutSide:()=>d(!1),children:(0,b.jsx)(v.AIButton,{color:"aiprimary",className:"mr-[2px]",onClick:()=>d(!0),children:p.o.t("bot_database_ai_create")})})},th=e=>tm((0,x._)((0,A._)({},e),{renderGenerate:e=>{var{tableStructureRef:t,onGenerateChange:a,onGenerating:r,botId:o}=e;return(0,b.jsx)(tg,{botId:o,tableStructureRef:t,onGenerateChange:a,onGenerating:r})}})),tf=a("802427"),tA=a.p+"static/image/key-example.715ec886.png",tx=a("598809"),t_={};t_.styleTagTransform=P(),t_.setAttributes=z(),t_.insert=R().bind(null,"head"),t_.domAPI=N(),t_.insertStyleElement=D(),j()(tx.Z,t_);var tI=tx.Z&&tx.Z.locals?tx.Z.locals:void 0,tE=(0,f.forwardRef)((e,t)=>{var a,r,o,{data:i,botId:l="",spaceId:n="",creatorId:s="",onSave:d,onCancel:c,onDeleteField:u,forceEdit:m=!1,maxColumnNum:g=20,useComputingEnableGoToNextStep:_,readAndWriteModeOptions:I,onlyShowDatabaseInfoRWMode:E,enableAdd:w=!0,loading:y=!1,setContentCheckErrorMsg:j=K.Z,createType:B,showDatabaseBaseInfo:N,hiddenTableBorder:Q,isReadonlyMode:R,projectID:S,renderModeSelect:z}=e,[T,D]=(0,f.useState)(ep()),M=(0,f.useRef)(null),P=(0,f.useRef)(null),k=(0,f.useRef)(),Y=!!i.tableId,[O,{setTrue:F,setFalse:G}]=(0,J.Z)(!1),Z=T.filter(e=>!e.isSystemField),H=Z.length>=g,U=Z.length>g,L=Z.filter(e=>e.name||e.desc||e.type).length<=0,q=[0x2a339708,0x2a3851f8],ee=e=>{(0,eM.k0)(e)&&q.includes(Number(null==e?void 0:e.code))&&j((null==e?void 0:e.msg)||p.o.t("knowledge_bot_update_databse_tnserr_msg"))},ea=function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(!O)D([...T,{nanoid:(0,X.x0)(),name:"",desc:"",type:void 0,must_required:!1}]),e&&setTimeout(()=>{var e,t,a;null===(t=M.current)||void 0===t||null===(e=t.triggerFocus)||void 0===e||e.call(t),null===(a=P.current)||void 0===a||a.scrollIntoView({block:"end",behavior:"smooth"})},100)},eo=e=>{D(t=>er(t,e))};var es=(a=(0,h._)(function*(){var e=er(T,"save");if(D(e),N)try{yield k.current.formApi.validate(["name"])}catch(e){return!1}return!e.find(e=>Object.keys(e.errorMapper||{}).find(t=>{var a,r;return!!(null==e?void 0:null===(r=e.errorMapper)||void 0===r?void 0:null===(a=r[t])||void 0===a?void 0:a.length)}))&&!L&&!0}),function(){return a.apply(this,arguments)});var ed=(r=(0,h._)(function*(){var e,t,a={};a=k.current?k.current.formApi.getValues():{name:i.name,desc:i.desc,readAndWriteMode:i.readAndWriteMode,prompt_disabled:(null===(e=i.extra_info)||void 0===e?void 0:e.prompt_disabled)==="true"},Y?(0,ez.Gg)(ez.Kg.edit_table_click,{need_login:!0,have_access:!0,bot_id:l,table_name:a.name}):(0,ez.Gg)(ez.Kg.create_table_click,{need_login:!0,have_access:!0,bot_id:l,table_name:a.name,database_create_type:B});var r={table_name:E?i.name:a.name,table_desc:E?i.desc:a.desc,icon_uri:i.icon_uri,prompt_disabled:!!a.prompt_disabled,field_list:T.filter(e=>!!e.name&&!e.isSystemField).map(e=>({name:e.name,desc:e.desc||"",type:e.type,must_required:e.must_required,id:null==e?void 0:e.id,alterId:null==e?void 0:e.alterId})),rw_mode:a.readAndWriteMode};if(Y)try{t=yield C.v6.UpdateDatabase((0,x._)((0,A._)({},r),{id:i.tableId}))}catch(e){$.s5.errorEvent($.xW.DATABASE,{eventName:eS.b.DatabaseAlterTable,error:e}),ee(e);return}else try{t=yield C.v6.AddDatabase((0,x._)((0,A._)({},r),{space_id:n,creator_id:s,project_id:S}))}catch(e){$.s5.errorEvent($.xW.DATABASE,{eventName:eS.b.DatabaseAddTable,error:e}),ee(e);return}d&&(yield d({response:t})),null==c||c()}),function(){return r.apply(this,arguments)});var ec=(o=(0,h._)(function*(){try{if(F(),!(yield es()))return;yield ed()}finally{G()}}),function(){return o.apply(this,arguments)}),eu=e=>{if(!e)return p.o.t("db_add_table_name_tips");var t=et(e);return t.length>0?t.join("; "):""};(0,f.useImperativeHandle)(t,()=>({submit:()=>(0,h._)(function*(){return yield ec()})(),validate:()=>(0,h._)(function*(){return yield es()})(),setTableFieldsList:D,isReadonly:O,tableBasicInfoFormRef:k,tableFieldsList:T}),[O,T,k]),null==_||_(T,L);var eb=w?[...T,{operate:"add"}]:T,em=()=>{j("")};return(0,f.useEffect)(()=>{if(D([...ep(),...i.tableMemoryList]),k.current&&!y){var e;k.current.formApi.setValues({name:(null==i?void 0:i.name)||"",desc:(null==i?void 0:i.desc)||"",prompt_disabled:!!Y&&(null===(e=i.extra_info)||void 0===e?void 0:e.prompt_disabled)==="true",readAndWriteMode:(null==i?void 0:i.readAndWriteMode)||ei.mx.LimitedReadWrite})}},[i,y]),(0,b.jsxs)("div",{className:W()(tI["table-structure-wrapper"],{[tI["hidden-form-border"]]:Q}),children:[N?(0,b.jsxs)(v.Form,{ref:k,layout:"vertical",className:tI["table-structure-form"],onValueChange:(e,t)=>{("name"in t||"desc"in t)&&em()},children:[E?null:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(eC,{field:"name",label:{text:p.o.t("db_add_table_name"),required:!0},validate:e=>eu(e),trigger:["change","blur"],fieldClassName:tI["table-name-form-field"],disabled:R,inputProps:{"data-testid":V.A.BotDatabaseAddModalTableNameInput,disabled:!m&&(O||Y),placeholder:p.o.t("db_add_table_name_tips")},onFocusPopoverProps:{style:{padding:"2px 12px"},position:"left",content:(0,b.jsx)(eQ,{})}}),(0,b.jsx)(v.Form.TextArea,{"data-testid":V.A.BotDatabaseAddModalTableDescInput,field:"desc",label:p.o.t("db_add_table_desc"),disabled:O||R,rows:2,placeholder:p.o.t("db_add_table_desc_tips"),fieldClassName:tI["table-desc-form-field"]})]}),z&&I?z({dataTestId:V.A.BotDatabaseAddModalTableQueryModeSelect,field:"readAndWriteMode",label:p.o.t("db_table_0129_001"),type:"select",options:en[I]}):null]}):null,U?(0,b.jsx)(eT.jL,{type:"warning",description:p.o.t("db_table_0126_027",{ColumNum:g}),className:tI["max-row-banner"]}):null,(0,b.jsx)(eT.$,{tableProps:{loading:y,columns:[{dataIndex:"name",title:(0,b.jsx)(eR,{field:p.o.t("db_add_table_field_name"),required:!0,tip:(0,b.jsxs)("div",{className:tI["th-tip-name"],children:[(0,b.jsx)("span",{style:{width:494,marginBottom:8},children:p.o.t("db_add_table_field_name_tips")}),(0,b.jsx)(eT.Ee,{preview:!1,width:494,height:163,src:tA})]})}),render:(e,t,a)=>{var r,o,i;return"add"!==t.operate?(0,b.jsx)(ew,{style:{position:"static"},onRef:M,value:t.name,inputProps:{"data-testid":V.A.BotDatabaseAddModalFieldNameInput,"data-dtestid":V.A.BotDatabaseAddModalFieldNameInput,disabled:O||t.isSystemField||R,placeholder:"Enter Name"},errorMsgFloat:!0,onFocusPopoverProps:{style:{padding:"2px 12px"},position:"left",content:(0,b.jsx)(eQ,{})},errorMsg:null===(i=T[a])||void 0===i?void 0:null===(o=i.errorMapper)||void 0===o?void 0:null===(r=o.name)||void 0===r?void 0:r.join("; "),handleChange:e=>{var t=[...T];t[a].name=e,D(t),eo("change"),em()},handleBlur:()=>{eo("blur")}}):(0,b.jsx)("div",{ref:P,"data-testid":V.A.BotDatabaseAddModalAddBtn,children:H?(0,b.jsx)("div",{style:{paddingRight:10},children:(0,b.jsx)(eT.u,{position:"top",content:p.o.t("bot_database_add_field",{number:g}),children:(0,b.jsx)(v.Button,{color:"secondary",disabled:!0,icon:(0,b.jsx)(eD.N_R,{}),children:p.o.t("bot_userProfile_add")})})}):(0,b.jsx)(v.Button,{color:"primary",disabled:O,onClick:()=>ea(!0),icon:(0,b.jsx)(eD.N_R,{}),children:p.o.t("bot_userProfile_add")})})},width:261},{dataIndex:"desc",title:(0,b.jsx)(eR,{field:p.o.t("db_add_table_field_desc"),tip:(0,b.jsx)("article",{style:{width:327},children:p.o.t("db_add_table_field_desc_tips")})}),render:(e,t,a)=>"add"!==t.operate?(0,b.jsx)(ew,{value:t.desc,maxCount:300,inputProps:{"data-testid":"".concat(V.A.BotDatabaseAddModalFieldDescInput,".").concat(a,".").concat(t.name),"data-dtestid":"".concat(V.A.BotDatabaseAddModalFieldDescInput,".").concat(a,".").concat(t.name),maxLength:300,disabled:O||t.isSystemField||R,placeholder:p.o.t("bot_edit_variable_description_placeholder")},errorMsgFloat:!0,handleChange:e=>{var t=[...T];t[a].desc=e,D(t),em()}}):null,width:369},{dataIndex:"type",title:(0,b.jsx)(eR,{field:p.o.t("db_add_table_field_type"),required:!0,tip:(0,b.jsx)("article",{style:{width:327},children:p.o.t("db_add_table_field_type_tips")})}),render:(e,t,a)=>{var r,o,i;return"add"!==t.operate?(0,b.jsx)(ef,{value:t.type,selectProps:{"data-testid":"".concat(V.A.BotDatabaseAddModalFieldTypeSelect,".").concat(a,".").concat(t.name),"data-dtestid":"".concat(V.A.BotDatabaseAddModalFieldTypeSelect,".").concat(a,".").concat(t.name),disabled:O||Y&&!!t.id||t.isSystemField||R,placeholder:p.o.t("db_table_save_exception_fieldtype"),optionList:el()},errorMsgFloat:!0,errorMsg:null===(i=T[a])||void 0===i?void 0:null===(o=i.errorMapper)||void 0===o?void 0:null===(r=o.type)||void 0===r?void 0:r.join("; "),handleChange:e=>{var t=[...T];t[a].type=e,D(t),eo("change")}}):null},width:214},{dataIndex:"must_required",title:(0,b.jsx)(eR,{field:p.o.t("db_add_table_field_necessary"),tip:(0,b.jsxs)("article",{style:{width:327},children:[(0,b.jsx)("p",{className:tI["th-tip-dot"],children:p.o.t("db_add_table_field_necessary_tips1")}),(0,b.jsx)("p",{className:tI["th-tip-dot"],children:p.o.t("db_add_table_field_necessary_tips2")})]})}),render:(e,t,a)=>"add"!==t.operate?(0,b.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,b.jsx)(v.Switch,{"data-testid":"".concat(V.A.BotDatabaseAddModalFieldRequiredSwitch,".").concat(a,".").concat(t.name),"data-dtestid":"".concat(V.A.BotDatabaseAddModalFieldRequiredSwitch,".").concat(a,".").concat(t.name),disabled:O||t.disableMustRequired||t.isSystemField||R,checked:t.must_required,onChange:e=>{var t=[...T];t[a].must_required=e,D(t)},size:"small","aria-label":"a switch for semi demo"})}):null,width:108},{dataIndex:"operate",title:(0,b.jsx)(eR,{field:p.o.t("db_table_0126_021")}),render:(e,t,a)=>"add"!==t.operate?(0,b.jsx)(eT.gl,{deleteProps:{handleClick:()=>{if(!O){var e=[...T.slice(0,a),...T.slice(a+1)];D(e),eo("change"),null==u||u(e)}},popconfirm:{defaultVisible:!1,visible:!1},tooltip:{content:p.o.t("datasets_table_title_actions_delete")},disabled:t.isSystemField||R},editProps:{hide:!0}}):null,width:85}],dataSource:eb,pagination:!1,className:tI["table-structure-table"],rowKey:"nanoid"},wrapperClassName:tI["table-structure-table-wrapper"]}),L&&!y?(0,b.jsx)("div",{className:tI["table-empty-tips"],children:p.o.t("db_table_save_exception_nofield")}):null]})}),tw=e=>{var{onReturn:t,onSubmit:a,initValue:r,showDatabaseBaseInfo:o,extraParams:i,onlyShowDatabaseInfoRWMode:l,projectID:n,renderGenerate:s,renderModeSelect:d}=e,[c,u]=(0,f.useState)(!1),p=()=>{u(!1)};return{visible:c,open:()=>{u(!0)},close:p,modal:(0,b.jsx)(tC,{visible:c,onClose:p,onReturn:t,onSubmit:a,initValue:r,showDatabaseBaseInfo:o,extraParams:i,onlyShowDatabaseInfoRWMode:l,projectID:n,renderGenerate:s,renderModeSelect:d})}};function tC(e){var t,a,{visible:r,onClose:o,onReturn:i,onSubmit:l,initValue:n,showDatabaseBaseInfo:s,onlyShowDatabaseInfoRWMode:d,extraParams:{botId:c="",spaceId:u="",creatorId:g=""}={},projectID:_,renderGenerate:I,renderModeSelect:E}=e,[w,C]=(0,f.useState)(!1),[y,j]=(0,f.useState)(!1),[B,N]=(0,f.useState)(!1),[Q,R]=(0,f.useState)(n),S=(0,f.useRef)(null),z=(0,f.useMemo)(()=>!!n.tableId,[n]);var T=(t=(0,h._)(function*(e){var{response:t}=e;yield null==l?void 0:l(t)}),function(e){return t.apply(this,arguments)});var D=(a=(0,h._)(function*(){if(S.current)try{j(!0),yield S.current.submit()}finally{j(!1)}}),function(){return a.apply(this,arguments)});return(0,f.useEffect)(()=>{R(n)},[n]),(0,b.jsx)(v.Modal,{closable:!0,maskClosable:!1,visible:r,onCancel:void 0,onOk:D,size:"xxl",header:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex flex-row items-center",children:[(0,b.jsx)("div",{className:"flex-1 text-[20px] font-medium coz-fg-plus",children:z?p.o.t("db_edit_title"):p.o.t("db_add_table_title")}),z?null:null==I?void 0:I({tableStructureRef:S,onGenerateChange:e=>{R((0,x._)((0,A._)({},Q),{tableMemoryList:e}))},onGenerating:C,botId:c}),(0,b.jsx)("div",{children:(0,b.jsx)(v.IconButton,{color:"secondary",icon:(0,b.jsx)(m.rmE,{className:"text-[20px] coz-fg-secondary"}),onClick:o})})]}),z?(0,b.jsx)(q,{type:"warning",persistentKey:"_coze_database_edit_warning",className:"mx-[-24px]",children:p.o.t("db_edit_tips1")}):null]}),footer:(0,b.jsxs)("div",{className:"coz-modal-footer",children:[(0,b.jsx)(v.Button,{color:"primary",onClick:()=>{if(i){i();return}},children:z?p.o.t("db_del_field_confirm_no"):p.o.t("db2_003")}),(0,b.jsx)(v.Button,{"data-testid":V.A.BotDatabaseAddModalSubmitBtn,loading:y,onClick:D,disabled:B,children:p.o.t("db_edit_save")})]}),children:(0,b.jsx)("div",{children:(0,b.jsx)(tE,{data:Q,ref:S,loading:w,loadingTips:p.o.t("bot_database_ai_waiting"),botId:c,spaceId:u,creatorId:g,maxColumnNum:20,useComputingEnableGoToNextStep:(e,t)=>{if(t||e.filter(e=>!e.isSystemField).length>20){N(!0);return}N(!e.every(e=>{var t,a;if(!(null==e?void 0:e.errorMapper))return!0;return!((null===(t=e.errorMapper.name)||void 0===t?void 0:t.length)>0)&&!((null===(a=e.errorMapper.type)||void 0===a?void 0:a.length)>0)&&!0}))},createType:Z.custom,hiddenTableBorder:!0,readAndWriteModeOptions:"expert",showDatabaseBaseInfo:s,onlyShowDatabaseInfoRWMode:d,onSave:T,onCancel:o,projectID:_,renderModeSelect:E})})})}var ty=e=>tw((0,x._)((0,A._)({},e),{renderGenerate:e=>{var{tableStructureRef:t,onGenerateChange:a,onGenerating:r,botId:o}=e;return(0,b.jsx)(tg,{botId:o,tableStructureRef:t,onGenerateChange:a,onGenerating:r})},renderModeSelect:e=>(0,b.jsx)(tf.vp,(0,A._)({},e))})),tj=e=>(0,b.jsx)(tC,(0,x._)((0,A._)({},e),{renderGenerate:e=>{var{tableStructureRef:t,onGenerateChange:a,onGenerating:r,botId:o}=e;return(0,b.jsx)(tg,{botId:o,tableStructureRef:t,onGenerateChange:a,onGenerating:r})},renderModeSelect:t=>e.disableModeSelect?null:(0,b.jsx)(tf.vp,(0,A._)({},t))})),tB=a("717667"),tN=a("115558"),tQ=a("842197"),tR=a("808656"),tS=a("563575"),tz=a("753940"),tT=e=>{var{onSelect:t,defaultSelected:a}=e,[r,o]=(0,f.useState)(a),{isVolcAvailable:i}=(0,tz.p2)(),{node:l,open:n}=(0,tz.zv)({scene:tz.ej.VolcanoDB}),s=e=>{if(!i&&e===eH.VOLC){n();return}o(e),null==t||t(e)};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsxs)("div",{className:"text-sm font-medium text-[var(--coz-fg-primary)] mb-2",children:[p.o.t("vol_database_create_type",{},"\u6570\u636E\u5E93\u521B\u5EFA\u65B9\u5F0F"),(0,b.jsx)("span",{className:"text-[var(--coz-fg-hglt-red)]",children:"*"})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-[8px] w-full",children:[(0,b.jsxs)("div",{className:"w-full p-[12px] border border-solid rounded-lg cursor-pointer transition-all duration-200 flex items-center ".concat(r===eH.VOLC?"border-[var(--coz-stroke-hglt)] bg-[var(--coz-mg-hglt-secondary)] hover:bg-[var(--coz-mg-hglt-secondary-hovered)] active:bg-[var(--coz-mg-hglt-secondary-pressed)]":"bg-white border-[#E0E1E5] hover:border-[var(--coz-stroke-primary)] hover:bg-[var(--coz-mg-secondary-hovered)] active:bg-[var(--coz-mg-secondary-pressed)] active:border-[var(--coz-stroke-primary)]"),onClick:()=>s(eH.VOLC),children:[(0,b.jsx)("div",{className:"flex-shrink-0 w-10 h-10 mr-[12px] rounded-lg overflow-hidden border border-solid border-[var(--coz-stroke-primary)]",children:(0,b.jsx)("img",{src:"data:image/png;base64,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gBjevggqDxOJrTce6ojmA7HYCCOp9UNvNze2vB0kzTAOzMPzpOYD0ddzo35fS3P5e6/dfuNgPqL5QCzWQ3Vf4HbZY/1wazMd3Nkq8bTuoZ6H+YimA7Fo/VDiCtHjCfMub7//yivEk6dPzdcRTQfismT/YeX6TacbjuuHW1zjK856HdF0IK48Tbe57rh+uOVt0ENU+WfReoO27RViqd4p6ocyeawj1h4HZrwf0WwgxvphrHkUwQmzXN7eWak8Dix+pop9rgQwG4hFH5OSWD/EBW8rxBnqiCvDq0SzgVisfngq8P7ykb/nIlvFOqK3wyXqiNnYXSF6ur98zdfLaAfFOqK3fx6Va9p3DZ80mwzE2IxdrM4hbcLN5iCBLfMrbjvbNlceBxZ7Ea3WEW0GYqlmbIn1Q+/N2E2uOfyCqPyUhdV+RJOBWOwPi/qhDu85bFKvvG222n5jc4VY6pUwifVDb6eqfXk7ea88DszqwYq5QCxaP5TWkL05QGDL3MhbXTWWcirXES1OvzEXiKuS/Yfnwv5xcZjSztu95qj2swIGt83mAnHp6f4y1/XaxScF3PUjVm6/MTgOjEDsS+KD9Ax0OOyWt2cFGBg7lalAXJd8P1Za/fCdJ9QPu3ibfhOv8VVsC4ufNWunzaYCcVVydSitfsj95W7UEYs7NrZKNBWIxa4UnfG6nkqxjujtedLKgWitjmhry1zq24r+Q71u8M5KSfEzZ+lZATOBuCxZP5T43Ki3lc9Y3lbSsY5Y8QBw04/4o51hGmYC8dhT/ZDDlP6OHLYmVW4RWxm6tWImEF29v0z/YX/xNo+31TT3mkcztWUu4r7EB6WYfziIty+QyuPALNURTQRi0Yvm0hqyqR8O5/EAqmLd21Id0UQgFrtTKfF2Cu02w3n8Z1a5M2JhZNtsY4VYLBAFbpdpyB7O4/Oklb/M10YOVtQH4ub6kKf6ISvEcbydzJ/V7Y4o2vZWkfpALNaMXbmfq5cbDidB5+Kxjlh72IOBOqL6QDwpFYjnrwVxXnsWMNIVh18kj+v+DD98pv/nU30gfnT1anj/jQITPuJJ7q/+F0Q5FfjIlRZ//3lwJU5DqthuFD+DH7wl8M2hgV579kx/rMcnA+Jyvcg31JdXLrbPksQf9KusFnuLXyISOwZKqvwz8tGVK+Hd1/Wf0ZoIRADIweSrewAwBoEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAMn/AWxG09udQVplAAAAAElFTkSuQmCC",className:"w-full h-full"})}),(0,b.jsxs)("div",{className:"flex-grow",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-[var(--coz-fg-primary)]",children:p.o.t("vol_database_volcano_integration",{},"\u5173\u8054\u706B\u5C71\u6570\u636E\u5E93")}),(0,b.jsx)("div",{className:"text-xs text-[var(--coz-fg-secondary)] mt-1",children:p.o.t("vol_database_enterprise_scale_io",{},"\u652F\u6301\u6D77\u91CF\u6570\u636E\u8BFB\u5199\uFF0C\u9002\u5408\u4F01\u4E1A\u5BA2\u6237\u573A\u666F")})]})]}),(0,b.jsxs)("div",{className:"w-full p-[12px] border border-solid rounded-lg cursor-pointer transition-all duration-200 flex items-center ".concat(r===eH.COZE?"border-[var(--coz-stroke-hglt)] bg-[var(--coz-mg-hglt-secondary)] hover:bg-[var(--coz-mg-hglt-secondary-hovered)] active:bg-[var(--coz-mg-hglt-secondary-pressed)]":"bg-white border-[#E0E1E5] hover:border-[var(--coz-stroke-primary)] hover:bg-[var(--coz-mg-secondary-hovered)] active:bg-[var(--coz-mg-secondary-pressed)] active:border-[var(--coz-stroke-primary)]"),onClick:()=>s(eH.COZE),children:[(0,b.jsx)("div",{className:"flex-shrink-0 w-10 h-10 mr-[12px] rounded-lg overflow-hidden border border-solid border-[var(--coz-stroke-primary)]",children:(0,b.jsx)("img",{src:"data:image/png;base64,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",className:"w-full h-full"})}),(0,b.jsxs)("div",{className:"flex-grow",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-[var(--coz-fg-primary)]",children:p.o.t("vol_database_coze_create",{},"\u521B\u5EFA\u6263\u5B50\u6570\u636E\u5E93")}),(0,b.jsx)("div",{className:"text-xs text-[var(--coz-fg-secondary)] mt-1",children:p.o.t("vol_database_lightweight_management",{},"\u652F\u6301\u56FE\u7247\u3001\u6587\u672C\u3001\u8868\u683C\u77E5\u8BC6\u5E93\uFF0C\u667A\u80FD\u5207\u6362\u7BA1\u7406\uFF0C\u9002\u5408\u8F7B\u91CF\u68C0\u7D22\u573A\u666F")})]})]})]})]}),l]})},tD=e=>{var{isCNRegion:t,dbMode:a,onSelectDBMode:r}=e;return t?(0,b.jsx)(tT,{onSelect:r,defaultSelected:a}):null},tM=e=>{var{onSubmit:t,onClose:a,initValues:r}=e,[o,i]=(0,f.useState)(!1),l=(e,t)=>{i(!1),null==a||a(e,t)},n=(0,f.useMemo)(()=>(0,b.jsx)(tk,{visible:o,onClose:l,onSubmit:t,initValues:r}),[o,r,l,t]);return{visible:o,open:()=>i(!0),close:l,modal:n}},tP=e=>{var{dbMode:t,formRef:a,initValues:r,showAuthAlert:o,setShowAuthAlert:i,authState:l,setAuthState:n,onCreateTable:s}=e;return t===eH.VOLC?(0,b.jsx)(ts,{formRef:a,initValues:r,onCreateTable:s,setShowAuthAlert:i,showAuthAlert:o,authState:l,setAuthState:n}):t===eH.COZE?(0,b.jsx)(F,{formRef:a,initValues:r,renderAutoGenerate:e=>(0,b.jsx)(tR.h,(0,A._)({},e))}):null},tk=e=>{var t,{visible:a,initValues:r,onClose:o,onSubmit:i}=e,l=(0,tS.L)()["bot.automation.volcano_database"],n=(0,f.useRef)(null),s=(0,eW.rY)(e=>e.getSpaceId()),{project_id:d}=(0,tQ.useParams)(),[c,u]=(0,f.useState)(!1),[m,g]=(0,f.useState)(l?null==r?void 0:r.dbMode:eH.COZE),[_,I]=(0,f.useState)(!1),[E,w]=(0,f.useState)((null==r?void 0:r.authState)||eU.UNAUTHENTICATED);var C=(t=(0,h._)(function*(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(!!n.current)try{var t=e?yield n.current.validate():n.current.getValues();if(m===eH.VOLC&&e){if(E!==eU.AUTHENTICATED){I(!0);return}u(!0);var a,r,l,c=(0,A._)({},t),b=yield td({region:c.region,database:c.database,tableList:c.table,account:c.account,password:c.password,instance:c.instance,spaceId:s,projectId:null!==(a=c.projectId)&&void 0!==a?a:d});if(0===b.code){yield new Promise(e=>setTimeout(e,2e3)),v.Toast.success(p.o.t("vol_database_create_success",{},"\u706B\u5C71\u6570\u636E\u5E93\u521B\u5EFA\u6210\u529F")),o(eH.VOLC,null!==(l=null==b?void 0:null===(r=b.data)||void 0===r?void 0:r.table_map)&&void 0!==l?l:{});return}v.Toast.error(p.o.t("vol_database_create_failed",{},"\u706B\u5C71\u6570\u636E\u5E93\u521B\u5EFA\u5931\u8D25"));return}var g=(0,x._)((0,A._)({},t),{dbMode:m,authState:E});i(g)}catch(e){console.error("Form validation failed:",e)}finally{u(!1)}}),function(){return t.apply(this,arguments)});return(0,f.useEffect)(()=>{if(l){var e;null===(e=n.current)||void 0===e||e.reset(),g(void 0),w(eU.UNAUTHENTICATED)}},[l]),(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(v.Modal,{title:l?p.o.t("vol_database_creat_database"):p.o.t("db_add_table_title"),closable:!0,visible:a,onCancel:()=>{if(l){var e;null===(e=n.current)||void 0===e||e.reset(),g(void 0),w(eU.UNAUTHENTICATED)}o()},className:"w-[480px]",okText:p.o.t("vol_database_confirm",{},"\u786E\u8BA4"),cancelText:p.o.t("db_del_field_confirm_no"),onOk:()=>C(!0),maskClosable:!1,confirmLoading:c,children:(0,b.jsxs)("div",{className:"w-full flex flex-col gap-4",children:[(0,b.jsx)(tD,{isCNRegion:l,dbMode:m,onSelectDBMode:e=>{g(e)}}),(0,b.jsx)(tP,{dbMode:m,formRef:n,initValues:r,showAuthAlert:_,setShowAuthAlert:I,authState:E,setAuthState:w,onCreateTable:()=>C(!1)})]})})})},tY=e=>{var t,a,{projectID:r,onFinish:o}=e,i=(0,f.useRef)(0),l=(0,tN.EV)(),n=(0,eW.rY)(e=>e.getSpaceId()),s=null===(t=tB.Z.useUserInfo())||void 0===t?void 0:t.user_id_str,[d,c]=(0,f.useState)({name:"",avatar:"",description:"",icon_uri:[{uri:"",url:"",uid:""}]}),u=(0,f.useMemo)(()=>{var e;return{tableId:"",name:null==d?void 0:d.name,desc:null==d?void 0:d.description,icon_uri:null==d?void 0:null===(e=d.icon_uri)||void 0===e?void 0:e[0].uid,readAndWriteMode:ei.mx.LimitedReadWrite,tableMemoryList:[]}},[d]),p=e=>{var t,a,{id:r,draft_id:i}=null!==(t=e.database_info)&&void 0!==t?t:{};if(r&&i){if(d.dbMode===eH.VOLC){m();return}if(o){o({databaseId:r,draftId:i,dbMode:eH.COZE});return}else null===(a=l.toResource)||void 0===a||a.call(l,"database",r,{page_modal:"normal",from:"create"}),g()}},m=()=>{i.current=0,_(),C()},v=()=>{i.current=0,_()},g=()=>{I(),C(),B(),i.current=0},{modal:h,open:_,close:I}=tM({onSubmit:e=>{c(e),i.current=1,I(),N(e.dbMode)},initValues:d,onClose:e=>{0===i.current&&(c({name:"",description:"",avatar:"",icon_uri:[{uri:"",url:"",uid:""}],dbMode:void 0,authState:eU.UNAUTHENTICATED}),e===eH.VOLC&&(null==o||o({databaseId:"",draftId:"",dbMode:eH.VOLC})))}}),{modal:E,open:w,close:C}=th({onClose:v,onReturn:m,onSubmit:p,initValue:u,showDatabaseBaseInfo:!0,onlyShowDatabaseInfoRWMode:!0,extraParams:{spaceId:n,creatorId:s},projectID:r,volcDBInfo:(0,x._)((0,A._)({},d),{password:eV(null!==(a=d.password)&&void 0!==a?a:"")})}),{modal:y,open:j,close:B}=ty({onClose:v,onReturn:m,onSubmit:p,initValue:u,showDatabaseBaseInfo:!0,onlyShowDatabaseInfoRWMode:!0,extraParams:{spaceId:n,creatorId:s},projectID:r}),N=e=>{e===eH.VOLC?w():j()};return{modal:(0,b.jsxs)(b.Fragment,{children:[h,E,y]}),open:_,close:g}},tO=a("556923"),tF=a("438639"),tG=e=>(0,b.jsx)(G,(0,x._)((0,A._)({},e),{renderAutoGenerate:e=>(0,b.jsx)(tR.h,(0,A._)({},e))})),tV=a("327399"),tZ=a("429592"),tH=e=>{var t,a,{version:r,enterFrom:o,onIDECallback:i,databaseId:l,renderHeader:n,renderContent:s}=e,d=null===(a=tB.Z.useUserInfo())||void 0===a?void 0:a.user_id_str,[c,u]=(0,f.useState)({}),[p,m]=(0,f.useState)(!0);var v=(t=(0,h._)(function*(){try{m(!0);var e,t,a,o,n=yield C.v6.GetDatabaseByID((0,A._)({id:l},r?{version:r}:{}));n.database_info?(u(n.database_info),n.database_info.table_name&&(null==i||null===(t=i.onUpdateDisplayName)||void 0===t||t.call(i,n.database_info.table_name),null==i||null===(a=i.onStatusChange)||void 0===a||a.call(i,"normal"))):null==i||null===(o=i.onStatusChange)||void 0===o||o.call(i,"error")}catch(t){null==i||null===(e=i.onStatusChange)||void 0===e||e.call(i,"error")}finally{m(!1)}}),function(){return t.apply(this,arguments)}),g=c.creator_id!==d||!!r;(0,f.useEffect)(()=>{v()},[]);var x=["create","library"].includes(o),_={databaseInfoContext:{databaseId:l,databaseInfo:c,isFetchingDatabaseInfo:p},userPermission:{userId:d||"",isReadOnlyMode:g},routeParams:{version:r,enterFrom:o,fromLibrary:x},actions:{updateDatabaseInfo:v}};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:W()("h-full w-full max-w-[100vw] flex flex-col overflow-hidden","project"===o?"coz-bg-max rounded-b-[8px] border-solid coz-stroke-primary":"coz-bg-plus"),children:[(0,b.jsx)("div",{className:W()("flex flex-row items-center justify-between shrink-0",x?"h-[40px] m-[24px]":"h-[64px] px-[16px] py-[12px] border-0 border-b border-solid coz-stroke-primary"),children:null==n?void 0:n(_)}),(0,b.jsx)("div",{className:W()("grow overflow-hidden",x?"mx-[24px]":"mx-[16px]"),children:null==s?void 0:s(_)})]})})},tU=a("957570"),tW={};tW.styleTagTransform=P(),tW.setAttributes=z(),tW.insert=R().bind(null,"head"),tW.domAPI=N(),tW.insertStyleElement=D(),j()(tU.Z,tW);var tL=tU.Z&&tU.Z.locals?tU.Z.locals:void 0;function tq(e){var{loading:t,showSystemFields:a=!0,fieldList:r}=e,o=[{title:(0,b.jsx)(eR,{field:p.o.t("db_add_table_field_name"),tip:(0,b.jsxs)("article",{className:"w-[494px]",children:[(0,b.jsx)("p",{className:"mb-[8px]",children:p.o.t("db_add_table_field_name_tips")}),(0,b.jsx)(v.Image,{preview:!1,width:494,height:163,src:tA})]})}),dataIndex:"name",width:261,render:(e,t)=>(0,b.jsxs)("div",{className:"flex items-center gap-[4px]",children:[(0,b.jsx)("span",{children:t.name}),t.is_primary_key?(0,b.jsx)(v.Tag,{color:"green",size:"mini",children:p.o.t("vol_database_primary_key",{},"\u4E3B\u952E")}):null]})},{title:(0,b.jsx)(eR,{field:p.o.t("db_add_table_field_desc"),tip:(0,b.jsx)("article",{className:"w-[327px]",children:p.o.t("db_add_table_field_desc_tips")})}),dataIndex:"desc"},{title:(0,b.jsx)(eR,{field:p.o.t("db_add_table_field_type"),tip:(0,b.jsx)("article",{className:"w-[327px]",children:p.o.t("db_add_table_field_type_tips")})}),dataIndex:"type",width:214,render:(e,t)=>{var a,r;return null!==(r=null===(a=el().find(e=>e.value===t.type))||void 0===a?void 0:a.label)&&void 0!==r?r:t.type}},{title:(0,b.jsx)(eR,{field:p.o.t("db_add_table_field_necessary"),tip:(0,b.jsxs)("article",{className:"w-[327px]",children:[(0,b.jsx)("p",{children:p.o.t("db_add_table_field_necessary_tips1")}),(0,b.jsx)("p",{children:p.o.t("db_add_table_field_necessary_tips2")})]})}),dataIndex:"must_required",width:108,render:(e,t)=>p.o.t(t.must_required?"db_optimize_037":"db_optimize_038")}],i=a?ep().concat(r):r,[l,n]=(0,f.useState)(0),s=(0,f.useRef)(null);return(0,f.useEffect)(()=>{var e=new ResizeObserver(e=>{for(var t of e)t.target===s.current&&n(t.contentRect.height)});return s.current&&e.observe(s.current),()=>e.disconnect()},[]),(0,b.jsx)("div",{className:"h-full mt-[8px]",ref:s,children:(0,b.jsx)(v.Table,{tableProps:{loading:t,columns:o,dataSource:i,scroll:{y:l>40?l-40:"auto"}},className:tL["table-structure-wrapper"]})})}var tX=a("559293"),tK=a("973746"),tJ=e=>"column-selection"===e.key?(0,x._)((0,A._)({},e),{resizable:!1,width:60}):e.fixed?(0,x._)((0,A._)({},e),{resizable:!1}):(0,x._)((0,A._)({},e),{width:100>Number(e.width)?100:Number(e.width)}),t$={0x9896f2:"10000120",0x9896f3:"10000121"};function t0(){var e,t,{includeMigrated:a=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{space_id:r}=(0,tQ.useParams)(),[o]=(0,tQ.useSearchParams)(),i=null!==(e=null!=r?r:o.get("space_id"))&&void 0!==e?e:"",{data:l}=(0,tX.Z)((0,h._)(function*(){var e=(yield C.v6.GetConnectorName({SpaceId:i,Version:"release",ListAll:!0})).ConnectorList;return null==e?void 0:e.map(t=>{var a,r,o=null!==(a=t.ConnectorIDStr)&&void 0!==a?a:"";if(t$[o]){var i=e.find(e=>e.ConnectorIDStr===t$[o]);if(null==i?void 0:i.ConnectorName)return{label:i.ConnectorName,value:o,migrated:!0}}return{label:null!==(r=t.ConnectorName)&&void 0!==r?r:"",value:o}})}),{refreshDeps:[i],cacheKey:"db_connector_name_".concat(i)});return null!==(t=a?l:null==l?void 0:l.filter(e=>!e.migrated))&&void 0!==t?t:[]}var t1=a("221968"),t2=a.n(t1),t6=BigInt("9223372036854775807"),t4=BigInt("-9223372036854775808"),t8=e=>{if(""===e||null==e||Number.isNaN(e))return!1;try{var t=BigInt(e);if(t>t6||t<t4)return!1;return!0}catch(e){return!1}},t7=(0,v.withField)(v.TextArea),t9=(0,v.withField)(v.CozInputNumber),t3=(0,v.withField)(e=>(0,b.jsx)(v.DatePicker,(0,x._)((0,A._)({},e),{type:"dateTime",format:"yyyy-MM-dd HH:mm:ss",onChange:t=>{var a;return null===(a=e.onChange)||void 0===a?void 0:a.call(e,t2()(t).format("YYYY-MM-DD HH:mm:ss"))}}))),t5=(0,v.withField)(v.Select);function ae(e){return Object.fromEntries(Object.values(e).map(e=>{var t,a;return[e.fieldName,null!==(a=null===(t=e.value)||void 0===t?void 0:t.toString())&&void 0!==a?a:""]}))}function at(e){return Object.fromEntries(Object.entries(e).map(e=>{var t,[a,r]=e;return[a,null!==(t=null==r?void 0:r.toString())&&void 0!==t?t:""]}))}function aa(e){var{visible:t,fields:a,tableType:r,initialValues:o,formConfig:i,onEditRow:l,onAddRow:n,onCancel:s}=e,d="object"!=typeof o,[c,u]=(0,f.useState)(!1),m=(0,f.useRef)(null);(0,f.useEffect)(()=>{if(t&&o){var e,a;null===(a=m.current)||void 0===a||null===(e=a.formApi)||void 0===e||e.setValues(ae(o))}},[t,o]);var g=t0();return(0,b.jsx)(v.Modal,{visible:t,title:p.o.t(d?"db_optimize_022":"db_optimize_023"),okText:p.o.t(d?"db_optimize_025":"db_edit_save"),okButtonProps:{loading:c},onOk:(0,h._)(function*(){u(!0);try{var e,t,a=yield null===(t=m.current)||void 0===t?void 0:null===(e=t.formApi)||void 0===e?void 0:e.validate();if(!a)return;if(d){yield n(at(a));return}yield l(Object.assign(ae(o),at(a)))}finally{u(!1)}}),cancelText:p.o.t("db_optimize_024"),onCancel:()=>{var e,t;s(),null===(t=m.current)||void 0===t||null===(e=t.formApi)||void 0===e||e.reset()},children:(0,b.jsxs)(v.Form,{allowEmpty:!0,ref:m,children:[(null==i?void 0:i.showModifySysPlatform)&&r===ei.Nd.OnlineTable?(0,b.jsx)(t5,(0,x._)((0,A._)({},function(e){var t,a;return{key:e.name,field:null!==(a=em[null!==(t=e.name)&&void 0!==t?t:""])&&void 0!==a?a:"",label:(0,b.jsx)(eR,{field:e.name,textType:"primary",type:e.type,tip:e.desc,required:!0})}}(ec())),{optionList:g,className:"w-full"})):null,a.map(e=>{var t=function(e){return{key:e.fieldName,field:e.fieldName,rules:[{required:e.required}],label:{text:(0,b.jsx)(eR,{field:e.fieldName,textType:"primary",type:e.type,tip:e.fieldDescription,required:e.required}),required:!1}}}(e);switch(e.type){case eo.wp.Text:return(0,b.jsx)(t7,(0,x._)((0,A._)({},t),{autosize:{minRows:1,maxRows:5}}));case eo.wp.Number:return(0,b.jsx)(v.Form.Input,(0,x._)((0,A._)({},t),{className:W()("w-full","[&_.semi-input-wrapper]:coz-stroke-plus","focus-within:[&_.semi-input-wrapper]:coz-stroke-hglt","[&_.semi-input-wrapper.semi-input-wrapper-error]:coz-stroke-hglt-red"),validate:e=>{var t;return t8(null!==(t=null==e?void 0:e.toString())&&void 0!==t?t:"")?"":"invalid Integer"}}));case eo.wp.Date:return(0,b.jsx)(t3,(0,x._)((0,A._)({},t),{className:W()("w-full","[&_.semi-datepicker-input]:w-full","[&_.coz-date-picker-select]:w-full","[&[aria-invalid]_.coz-date-picker-select]:coz-stroke-hglt-red")}));case eo.wp.Float:return(0,b.jsx)(t9,(0,x._)((0,A._)({},t),{className:W()("w-full","[&_.semi-input-wrapper]:coz-stroke-plus","focus-within:[&_.semi-input-wrapper]:coz-stroke-hglt","[&_.semi-input-wrapper.semi-input-wrapper-error]:coz-stroke-hglt-red"),validate:e=>Number.isNaN(e)||Math.abs(e)===1/0?"invalid Float":""}));case eo.wp.Boolean:return(0,b.jsx)(t5,(0,x._)((0,A._)({},t),{optionList:[{value:"true",label:"true"},{value:"false",label:"false"}],className:"w-full"}));default:return null}})]})})}var ar=a("989637"),ao=a("559000"),ai=a("20682");function al(e){var t,{databaseId:a,tableType:r,unitList:o,onUnitListChange:i}=e;(0,f.useEffect)(()=>{i(o)},[i,o]);var l=(t=(0,h._)(function*(){var e=yield C.v6.GetDatabaseTemplate({database_id:a,table_type:r});e.TosUrl&&window.open(e.TosUrl,"_blank")}),function(){return t.apply(this,arguments)});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ai.p,{unitList:o,setUnitList:i,onFinish:i,limit:1,multiple:!1,accept:".csv,.xlsx",maxSizeMB:20,showRetry:!1,dragMainText:p.o.t("datasets_createFileModel_step2_UploadDoc"),dragSubText:p.o.t("datasets_unit_update_exception_tips3"),action:"",className:W()("[&_.semi-upload-drag-area]:!h-[290px]",{hidden:o.length>0}),showIllustration:!1}),(0,b.jsxs)(v.Typography.Paragraph,{type:"secondary",className:W()("mt-[8px]",{hidden:o.length>0}),children:[p.o.t("db_optimize_018"),(0,b.jsx)(v.Typography.Text,{link:!0,className:"ml-[8px]",onClick:l,children:p.o.t("db_optimize_019")})]}),(0,b.jsx)(ai.nC,{edit:!1,type:ar.Cm.TABLE_DOC,unitList:o,onChange:i,disableRetry:!0,getColumns:(e,t)=>({actions:[(0,b.jsx)(ao.Zq,{record:e,index:t,params:{unitList:o,onChange:i,type:ar.Cm.TABLE_DOC,edit:!1}})]})})]})}var an=a("654039"),as=a("479727"),ad={[an.N.Processing]:"datasets_createFileModel_step4_processing",[an.N.Complete]:"datasets_createFileModel_step4_Finish",[an.N.Failed]:"datasets_createFileModel_step4_failed"};function ac(e){var{databaseId:t,tableType:a,fileItem:r,tableSheet:o,connectorId:i}=e,l=(0,f.useMemo)(()=>{var e,t;return(0,as.td)(null!==(t=null===(e=r.fileInstance)||void 0===e?void 0:e.size)&&void 0!==t?t:0)},[r]),[n,s]=(0,f.useState)({mainText:r.name,subText:l,tipText:l,percent:10,status:an.N.Processing}),{run:d,cancel:c}=(0,tX.Z)(()=>C.v6.DatabaseFileProgressData({database_id:t,table_type:a}),{manual:!0,pollingInterval:3e3,onSuccess:e=>{var{data:t}=e;if(t){if(t.status_descript){var a=t.status_descript;s(e=>(0,x._)((0,A._)({},e),{subText:a,tipText:a,status:an.N.Failed})),c()}else s(e=>{var a;return(0,x._)((0,A._)({},e),{percent:null!==(a=t.progress)&&void 0!==a?a:0})}),100===t.progress&&(s(e=>(0,x._)((0,A._)({},e),{status:an.N.Complete,actions:[p.o.t("datasets_unit_process_success")]})),c())}}});return(0,f.useEffect)(()=>{C.v6.SubmitDatabaseInsertTask({database_id:t,table_type:a,file_uri:r.uri,table_sheet:o,connector_id:i}).finally(()=>{d()})},[]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"h-[32px] leading-[32px] mb-[8px]",children:(0,b.jsx)(v.Typography.Text,{fontSize:"14px",weight:500,children:p.o.t(ad[n.status])})}),(0,b.jsx)(ai.vS,(0,x._)((0,A._)({avatar:(0,b.jsx)(eD.$lV,{})},n),{className:"[&_.process-progress-item-actions]:!block"}))]})}var au=a("193552"),ab=a("159579"),ap=a("990221"),am=a("999061");function av(e){var t,a,r,o,{databaseId:i,tableFields:l,fileUri:n,tableSheet:s}=e,[d,c]=(0,f.useState)(),u=(0,f.useMemo)(()=>l.map((e,t)=>({column_name:e.fieldName,column_type:function(e){switch(e){case am.wp.Text:return ap.QD.Text;case am.wp.Number:return ap.QD.Number;case am.wp.Date:return ap.QD.Date;case am.wp.Float:return ap.QD.Float;case am.wp.Boolean:return ap.QD.Boolean;default:return ap.QD.Text}}(e.type),desc:e.fieldDescription,sequence:"".concat(t),is_semantic:!1,id:"".concat(t)})),[l]),{loading:p}=(0,tX.Z)(()=>C.v6.GetTableSchema({database_id:i,source_file:{tos_uri:n},table_data_type:ab.n.OnlyPreview,table_sheet:s}),{onSuccess:e=>{var t,a=null==s?void 0:s.sheet_id;a&&c({sheet_list:e.sheet_list,table_meta:{[a]:u},preview_data:{[a]:null!==(t=e.preview_data)&&void 0!==t?t:[]}})}});return!p&&d&&s?(0,b.jsx)(au.IO,{data:d,settings:{sheet_id:Number.parseInt(null!==(a=null==(t=s)?void 0:t.sheet_id)&&void 0!==a?a:"0"),header_line_idx:Number.parseInt(null!==(r=null==t?void 0:t.header_line_idx)&&void 0!==r?r:"0"),start_line_idx:Number.parseInt(null!==(o=null==t?void 0:t.start_line_idx)&&void 0!==o?o:"0")}}):(0,b.jsx)(v.Spin,{size:"large",wrapperClassName:"w-full h-[288px]"})}function ag(e){var t,a,r,o,i,l;return{sheet_id:null!==(o=null==e?void 0:null===(t=e.sheet_id)||void 0===t?void 0:t.toString())&&void 0!==o?o:"",header_line_idx:null!==(i=null==e?void 0:null===(a=e.header_line_idx)||void 0===a?void 0:a.toString())&&void 0!==i?i:"",start_line_idx:null!==(l=null==e?void 0:null===(r=e.start_line_idx)||void 0===r?void 0:r.toString())&&void 0!==l?l:""}}function ah(e){var{databaseId:t,tableType:a,tableFields:r,fileUri:o,onTableSheetChange:i}=e,[l,n]=(0,f.useState)(),[s,d]=(0,f.useState)({sheet_id:0,header_line_idx:0,start_line_idx:1}),[c,u]=(0,f.useState)([]),{loading:m}=(0,tX.Z)(()=>C.v6.GetTableSchema({database_id:t,source_file:{tos_uri:o},table_data_type:ab.n.OnlySchema,table_sheet:ag(s)}),{refreshDeps:[o,s],onSuccess:e=>{n({sheet_list:e.sheet_list,preview_data:{}}),e.table_meta&&u(e.table_meta.map(e=>{var t,a,o=r.find(t=>t.fieldName===e.column_name);return null!=o?o:{fieldName:null!==(t=e.column_name)&&void 0!==t?t:"-",fieldDescription:null!==(a=e.desc)&&void 0!==a?a:"-",type:function(e){switch(e){case E.QD.Text:return eo.wp.Text;case E.QD.Number:return eo.wp.Number;case E.QD.Date:return eo.wp.Date;case E.QD.Float:return eo.wp.Float;case E.QD.Boolean:return eo.wp.Boolean;default:return eo.wp.Text}}(e.column_type),required:!1}}))}});return(0,f.useEffect)(()=>{C.v6.ValidateTableSchema({database_id:t,source_file:{tos_uri:o},table_type:a,table_sheet:ag(s)}).then(e=>{e.schema_valid_result?i():i(ag(s))}).catch(()=>{i()})},[s]),l?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(au.tM,{data:l,tableSettings:s,setTableSettings:d}),(0,b.jsx)(v.Table,{tableProps:{loading:m,columns:function(){return[{title:(0,b.jsx)(eR,{field:p.o.t("db_add_table_field_name")}),render:(e,t)=>t.fieldName},{title:(0,b.jsx)(eR,{field:p.o.t("db_add_table_field_desc")}),render:(e,t)=>t.fieldDescription},{title:(0,b.jsx)(eR,{field:p.o.t("db_add_table_field_type")}),render:(e,t)=>{var a,r;return null!==(r=null===(a=el().find(e=>e.value===t.type))||void 0===a?void 0:a.label)&&void 0!==r?r:"-"}}]}(),dataSource:c},className:W()("[&_.semi-table-row-head]:!border-b-[1px]","[&_.semi-table-row-cell]:!h-[56px]","[&_.semi-table-row-cell]:!border-b-0","[&_.semi-table-row-cell]:!bg-none","[&_.semi-table-row-cell]:!bg-transparent")})]}):(0,b.jsx)(v.Spin,{size:"large",wrapperClassName:"w-full h-[288px]"})}var af=((c={})[c.Upload=0]="Upload",c[c.Config=1]="Config",c[c.Preview=2]="Preview",c[c.Process=3]="Process",c);function aA(e){var{step:t}=e;return(0,b.jsxs)(v.Steps,{type:"basic",hasLine:!1,current:t,className:W()("my-[24px] justify-center","[&_.semi-steps-item]:flex-none","[&_.semi-steps-item-title]:!max-w-[unset]"),children:[(0,b.jsx)(v.Steps.Step,{title:p.o.t("db_optimize_014")}),(0,b.jsx)(v.Steps.Step,{title:p.o.t("db_optimize_015")}),(0,b.jsx)(v.Steps.Step,{title:p.o.t("db_optimize_016")}),(0,b.jsx)(v.Steps.Step,{title:p.o.t("db_optimize_017")})]})}function ax(e){var{visible:t,databaseId:a,tableFields:r,tableType:o,connectorId:i,onClose:l,onComplete:n}=e,[s,d]=(0,f.useState)(af.Upload),[c,u]=(0,f.useState)([]),[m,g]=(0,f.useState)(),h=()=>{d(af.Upload),u([]),g(void 0)};return(0,b.jsxs)(v.Modal,{visible:t,title:p.o.t("db_optimize_013"),onCancel:l,width:1120,className:"[&_.semi-modal-content]:min-h-[520px]",footer:(0,b.jsx)(b.Fragment,{children:s!==af.Process?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.Button,{color:"primary",disabled:s===af.Upload,onClick:()=>d(s-1),children:p.o.t("db_optimize_020")}),(0,b.jsx)(v.Button,{disabled:(()=>{switch(s){case af.Upload:return c.length<=0||c.some(e=>e.status!==ar.Dm.SUCCESS);case af.Config:return!m;case af.Preview:case af.Process:default:return!1}})(),onClick:()=>d(s+1),children:p.o.t("db_optimize_021")})]}):(0,b.jsx)(v.Button,{onClick:()=>{null==l||l(),null==n||n(),h()},children:p.o.t("db2_004")})}),children:[(0,b.jsx)(aA,{step:s}),s===af.Upload?(0,b.jsx)(al,{databaseId:a,tableType:o,unitList:c,onUnitListChange:u}):null,s===af.Config?(0,b.jsx)(ah,{databaseId:a,tableFields:r,tableType:o,fileUri:c[0].uri,onTableSheetChange:g}):null,s===af.Preview?(0,b.jsx)(av,{databaseId:a,tableFields:r,fileUri:c[0].uri,tableSheet:m}):null,s===af.Process?(0,b.jsx)(ac,{databaseId:a,tableType:o,fileItem:c[0],tableSheet:m,connectorId:i}):null]})}function a_(e){var{readonly:t,databaseId:a,tableType:r,tableFields:o,batchImportMode:i,onNewRow:l,onRefresh:n}=e,[s,d]=(0,f.useState)(!1),[c,u]=(0,f.useState)(!1),[g,A]=(0,f.useState)(),x=t0(),_=e=>{d(!1),u(!0),A(e)};return(0,b.jsxs)("div",{className:"flex gap-[8px] mt-[8px] mb-[12px]",children:[(0,b.jsx)(v.Button,{color:"secondary",icon:(0,b.jsx)(m.PwN,{className:t?"":"coz-fg-hglt"}),disabled:t,onClick:l,children:(0,b.jsx)("span",{className:t?"":"coz-fg-hglt",children:p.o.t("db_optimize_022")})}),"simple"===i?(0,b.jsx)(v.Button,{color:"secondary",icon:(0,b.jsx)(m.nBN,{}),disabled:t,onClick:()=>_(),children:p.o.t("db_optimize_013")}):null,"platform-dropdown"===i?(0,b.jsx)(v.Dropdown,{trigger:"custom",visible:s,onClickOutSide:()=>d(!1),position:"bottomLeft",render:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.Dropdown.Title,{className:"pl-[32px] border-0 border-b border-solid coz-stroke-primary",children:p.o.t("database_optimize_100")}),(0,b.jsx)("div",{className:"min-w-[170px] max-h-[220px] overflow-auto",children:(0,b.jsx)(v.Dropdown.Menu,{children:x.map(e=>(0,b.jsx)(v.Dropdown.Item,{onClick:()=>_(e.value),children:e.label},e.value))})})]}),children:(0,b.jsxs)(v.Button,{color:"secondary",icon:(0,b.jsx)(m.nBN,{}),disabled:t,onClick:()=>d(!0),children:[(0,b.jsx)("span",{children:p.o.t("db_optimize_013")}),(0,b.jsx)(m.Wdl,{className:"ml-[4px]"})]})}):null,(0,b.jsx)("div",{className:"ml-auto"}),r===ei.Nd.DraftTable?(0,b.jsx)(v.Button,{color:"secondary",icon:(0,b.jsx)(m.dVD,{}),disabled:t,onClick:()=>v.Modal.confirm({title:p.o.t("dialog_240305_01"),content:p.o.t("dialog_240305_02"),okText:p.o.t("dialog_240305_03"),okButtonColor:"red",cancelText:p.o.t("dialog_240305_04"),onOk:(0,h._)(function*(){yield C.v6.ResetBotTable({database_info_id:a,table_type:r}),n()})}),children:p.o.t("db_optimize_011")}):null,(0,b.jsx)(v.Button,{color:"secondary",icon:(0,b.jsx)(m.mxP,{}),onClick:n,children:p.o.t("db_optimize_012")}),(0,b.jsx)(ax,{visible:c,databaseId:a,tableFields:o,tableType:r,connectorId:g,onClose:()=>u(!1),onComplete:n})]})}var aI={id:200,sys_platform:180,uuid:260,bstudio_create_time:200};function aE(e){var t,{value:a}=e,r=null!==(t=null==a?void 0:a.toString())&&void 0!==t?t:"";return(0,b.jsx)(v.Typography.Text,{ellipsis:{showTooltip:{opts:{className:W()("[&_.semi-tooltip-content]:max-h-[110px]","[&_.semi-tooltip-content]:line-clamp-5")}}},children:r})}var aw=e=>{var{fieldList:t,connectorNames:a,isReadonlyMode:r,showModifySysPlatform:o=!0,handleEditRow:i,handleDeleteRow:l}=e,n=[];return o&&n.push(...ep().map(e=>{var t,r,o;return{title:()=>(0,b.jsx)(eR,{field:e.name,type:e.type,tip:e.desc,required:!0}),dataIndex:em[null!==(t=e.name)&&void 0!==t?t:""],width:null!==(o=aI[null!==(r=e.name)&&void 0!==r?r:""])&&void 0!==o?o:260,render:e=>{var t;return(null==e?void 0:e.fieldName)==="bstudio_connector_id"?(0,b.jsx)(v.Typography.Text,{ellipsis:!0,children:null!==(t=a[e.value])&&void 0!==t?t:e.value}):(0,b.jsx)(aE,{value:null==e?void 0:e.value})}}})),n.push(...t.map(e=>({title:()=>(0,b.jsx)(eR,{field:e.fieldName,type:e.type,tip:e.fieldDescription,required:e.required,isPrimaryKey:e.isPrimaryKey}),dataIndex:e.fieldName,width:260,render:e=>(0,b.jsx)(aE,{value:null==e?void 0:e.value})}))),n.push({title:p.o.t("db_table_0126_021"),width:100,resize:!1,fixed:"right",render:(e,t,a)=>r?(0,b.jsxs)(v.Space,{children:[(0,b.jsx)(v.IconButton,{disabled:!0,icon:(0,b.jsx)(m.JAz,{}),size:"small",color:"secondary"}),(0,b.jsx)(v.IconButton,{disabled:!0,icon:(0,b.jsx)(m.dVD,{}),size:"small",color:"secondary"})]}):(0,b.jsxs)(v.Space,{children:[(0,b.jsx)(v.IconButton,{icon:(0,b.jsx)(m.JAz,{}),size:"default",color:"secondary",onClick:()=>i(t)}),(0,b.jsx)(v.Popconfirm,{title:p.o.t("db_optimize_026"),content:p.o.t("db_optimize_027"),okText:p.o.t("db_optimize_028"),okButtonColor:"red",cancelText:p.o.t("db_optimize_029"),onConfirm:()=>l(t),children:(0,b.jsx)(v.IconButton,{icon:(0,b.jsx)(m.dVD,{}),size:"default",color:"secondary"})})]})}),n};function aC(e){var{selectedCount:t=0,onDelete:a,onCancel:r}=e;return(0,b.jsxs)("div",{className:W()("flex items-center p-[8px] gap-[8px] rounded-[12px]","coz-bg-max border-solid coz-stroke-primary coz-shadow-default","fixed bottom-[8px] left-[50%] translate-x-[-50%] z-10",{hidden:t<=0}),children:[(0,b.jsx)(v.Typography.Text,{type:"secondary",children:p.o.t("db_optimize_031",{n:t})}),(0,b.jsx)(v.Divider,{layout:"vertical"}),(0,b.jsx)(v.Button,{color:"red",icon:(0,b.jsx)(m.dVD,{}),onClick:a,children:p.o.t("db_optimize_030")}),(0,b.jsx)(v.Divider,{layout:"vertical"}),(0,b.jsx)(v.IconButton,{color:"secondary",icon:(0,b.jsx)(m.rmE,{}),onClick:r})]})}var ay=a("178640"),aj={};aj.styleTagTransform=P(),aj.setAttributes=z(),aj.insert=R().bind(null,"head"),aj.domAPI=N(),aj.insertStyleElement=D(),j()(ay.Z,aj);var aB=ay.Z&&ay.Z.locals?ay.Z.locals:void 0;function aN(e){var t,a,r,{databaseId:o,tableType:i,tableFields:l,isReadonlyMode:n,enterFrom:s,rowEditFormConfig:d,toolButtonsBarConfig:c,rowEvent:u}=e,m=(0,f.useMemo)(()=>l.map(e=>{var t,a,r,o;return{fieldName:null!==(t=e.name)&&void 0!==t?t:"",fieldDescription:null!==(a=e.desc)&&void 0!==a?a:"",required:null!==(r=e.must_required)&&void 0!==r&&r,type:e.type,isPrimaryKey:null!==(o=e.is_primary_key)&&void 0!==o&&o}}),[l]),[g,x]=(0,f.useState)(20),[_,I]=(0,f.useState)(1),[E,w]=(0,f.useState)(0),[y,j]=(0,f.useState)([]),B=(0,f.useMemo)(()=>{var e;return(null===(e=m.find(e=>e.isPrimaryKey))||void 0===e?void 0:e.fieldName)||"bstudio_id"},[m]),{loading:N,refresh:Q}=(0,tX.Z)(()=>C.v6.ListDatabaseRecords({database_id:o,table_type:i,offset:(_-1)*g,limit:g}),{onSuccess:e=>{w(e.TotalNum),j(e.data)},refreshDeps:[o,i,g,_]}),R=(0,f.useMemo)(()=>{var e;return e=m,y.map(t=>{var a=Object.keys(t),r={};return a.forEach(a=>{var o=e.find(e=>e.fieldName===a);if(!o){r[a]={fieldName:a,type:eo.wp.Text,required:!0,value:t[a]};return}switch(o.type){case eo.wp.Boolean:r[a]={fieldName:a,value:t[a],type:eo.wp.Boolean,required:o.required};break;case eo.wp.Number:r[a]={fieldName:a,value:t[a],type:eo.wp.Number,required:o.required};break;case eo.wp.Date:r[a]={fieldName:a,value:t[a],type:eo.wp.Date,required:o.required};break;case eo.wp.Float:r[a]={fieldName:a,value:t[a],type:eo.wp.Float,required:o.required};break;case eo.wp.Text:r[a]={fieldName:a,value:t[a],type:eo.wp.Text,required:o.required}}}),r})},[m,y]),S=()=>{var e;Q(),null==u||null===(e=u.onAfterEditRecords)||void 0===e||e.call(u)},z=t0({includeMigrated:!0}),T=(0,f.useMemo)(()=>Object.fromEntries(z.map(e=>[e.value,e.label])),[z]),[D,M]=(0,f.useState)([]),[P,k]=(0,f.useState)(!1),[Y,O]=(0,f.useState)(),F=e=>{O(e),k(!0)};var G=(t=(0,h._)(function*(e){var t;yield C.v6.UpdateDatabaseRecords({database_id:o,table_type:i,record_data_delete:[{[B]:null===(t=e[B])||void 0===t?void 0:t.value}]}),S()}),function(e){return t.apply(this,arguments)}),V=(0,f.useMemo)(()=>aw({fieldList:m,isReadonlyMode:n,connectorNames:T,showModifySysPlatform:d.showModifySysPlatform,handleDeleteRow:G,handleEditRow:F}),[m,n,T]),[Z,H]=(0,f.useState)(0),U=(0,f.useRef)(null);return(0,f.useEffect)(()=>{var e=new ResizeObserver(e=>{for(var t of e)t.target===U.current&&H(t.contentRect.height)});return U.current&&e.observe(U.current),()=>e.disconnect()},[]),(0,b.jsxs)("div",{className:aB.table,ref:U,children:[(0,b.jsx)(a_,{readonly:n,databaseId:o,tableType:i,tableFields:m,onNewRow:()=>F(),onRefresh:Q,batchImportMode:c.batchImportMode}),(0,b.jsx)(v.Table,{tableProps:{loading:N,columns:V,dataSource:R,rowSelection:{fixed:!0,selectedRowKeys:D.map(e=>{var t;return null===(t=e[B])||void 0===t?void 0:t.value}),onChange:(e,t)=>M(null!=t?t:[])},resizable:{onResize:tJ},rowKey:e=>{var t;return null==e?void 0:null===(t=e[B])||void 0===t?void 0:t.value},scroll:{y:Z>128?Z-128:"auto"},pagination:{total:E,currentPage:_,pageSize:g,onChange:(e,t)=>{I(e),x(t),M([])}},renderPagination:e=>(0,b.jsxs)("div",{className:"w-full flex gap-[8px] items-center justify-end",children:[(0,b.jsx)(v.Typography.Text,{type:"secondary",fontSize:"12px",children:p.o.t("db_optimize_032",{n:E})}),(0,b.jsx)(v.Divider,{layout:"vertical",className:"h-[16px]"}),(0,b.jsx)(v.CozPagination,(0,A._)({size:"small",showSizeChanger:!0,pageSizeOpts:[20,50,100]},e))]})},wrapperClassName:W()(aB["table-wrapper"],{[aB["table-wrapper-project"]]:"project"===s}),empty:(0,b.jsx)(v.Empty,{image:(0,b.jsx)(tK.ts,{className:"w-[140px] h-[140px]"}),title:p.o.t("timecapsule_0108_003")}),indexRowSelection:!0}),(0,b.jsx)(aC,{selectedCount:D.length,onDelete:()=>v.Modal.confirm({title:p.o.t("db_optimize_026"),content:p.o.t("db_optimize_027"),okText:p.o.t("dialog_240305_03"),okButtonColor:"red",cancelText:p.o.t("dialog_240305_04"),onOk:(0,h._)(function*(){yield C.v6.UpdateDatabaseRecords({database_id:o,table_type:i,record_data_delete:D.map(e=>{var t;return{[B]:null===(t=e[B])||void 0===t?void 0:t.value}})}),M([]),S()})}),onCancel:()=>M([])}),(0,b.jsx)(aa,{fields:m,visible:P,tableType:i,initialValues:Y,formConfig:d,onEditRow:(a=(0,h._)(function*(e){var t;yield null==u?void 0:null===(t=u.onEditRow)||void 0===t?void 0:t.call(u,e),k(!1),O(void 0),S()}),function(e){return a.apply(this,arguments)}),onAddRow:(r=(0,h._)(function*(e){var t;yield null==u?void 0:null===(t=u.onAddRow)||void 0===t?void 0:t.call(u,e),k(!1),O(void 0),S()}),function(e){return r.apply(this,arguments)}),onCancel:()=>k(!1)})]})}var aQ=e=>{var{databaseInfo:t,isReadOnlyMode:a,onEditBasicInfo:r,subLogoUrl:o}=e;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(v.CozAvatar,{style:{width:36,height:36},type:"bot",color:"grey",src:t.avatar}),o?(0,b.jsx)("img",{src:o,className:"absolute rounded-sm bottom-0 right-0 w-[14px] h-[14px]",style:{border:"0.5px solid #E9EBF2"}}):null]}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsxs)("div",{className:"flex flex-row items-center gap-[2px] leading-none",children:[(0,b.jsx)(v.Typography.Text,{weight:500,fontSize:"14px",children:t.name}),a?null:(0,b.jsx)(v.IconButton,{size:"mini",color:"secondary",icon:(0,b.jsx)(m.JAz,{className:"coz-fg-secondary"}),onClick:r})]}),(0,b.jsx)(v.Typography.Text,{fontSize:"12px",children:t.description})]})]})},aR=a("160645"),aS={};aS.styleTagTransform=P(),aS.setAttributes=z(),aS.insert=R().bind(null,"head"),aS.domAPI=N(),aS.insertStyleElement=D(),j()(aR.Z,aS);var az=aR.Z&&aR.Z.locals?aR.Z.locals:void 0,aT=e=>{var t,{version:a,enterFrom:r,initialTab:o,needHideCloseIcon:i=!1,addRemoveButtonText:l,onClose:n,onClickAddRemoveButton:s,onIDECallback:d,onAfterEditBasicInfo:c,onAfterEditRecords:u,databaseId:_}=e,[I,E]=(0,f.useState)(!1),[w,y]=(0,f.useState)(!1),[j,B]=(0,f.useState)(a?tZ.x.Structure:null!=o?o:tZ.x.Structure),[N,Q]=(0,f.useState)(!1);var R=(t=(0,h._)(function*(e){var t,{databaseInfo:a,updateDatabaseInfo:r}=e,o=(0,tO._)(e,["databaseInfo","updateDatabaseInfo"]),i=yield C.v6.UpdateDatabase((0,A._)({},(0,tF.Z)(a,["id","icon_uri","table_name","table_desc","field_list","rw_mode","prompt_disabled","extra_info"]),o));(null==i?void 0:null===(t=i.database_info)||void 0===t?void 0:t.id)?(yield r(),c&&c(),I&&E(!1)):v.Toast.error("Update database failed")}),function(e){return t.apply(this,arguments)}),S=e=>{var{databaseInfo:t}=e;if(s)try{Q(!0),s("workflow"===r?_:null==t?void 0:t.draft_id)}finally{Q(!1)}};return(0,b.jsx)(tH,{version:a,databaseId:_,enterFrom:r,onIDECallback:d,renderHeader:e=>{var t,{databaseInfoContext:{databaseInfo:a},userPermission:o,routeParams:s,actions:{updateDatabaseInfo:d}}=e;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-[8px]",children:[i?null:(0,b.jsx)(v.IconButton,{color:"secondary",icon:s.fromLibrary?(0,b.jsx)(m.$1i,{}):(0,b.jsx)(m.rmE,{}),onClick:n}),(0,b.jsx)(aQ,{databaseInfo:{name:a.table_name||"",description:a.table_desc||"",avatar:a.icon_url||""},isReadOnlyMode:o.isReadOnlyMode,onEditBasicInfo:()=>E(!0)})]}),(0,b.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,b.jsx)(tV.i,{disabled:o.isReadOnlyMode,value:a.rw_mode,onChange:(t=(0,h._)(function*(e){var t,r=yield C.v6.UpdateDatabase((0,x._)((0,A._)({},a),{rw_mode:e}));(null==r?void 0:null===(t=r.database_info)||void 0===t?void 0:t.id)&&(yield d(),c&&c())}),function(e){return t.apply(this,arguments)})}),r.includes("bot")||"workflow"===r?(0,b.jsx)(v.Button,{disabled:o.isReadOnlyMode,loading:N,onClick:()=>S({databaseInfo:a}),children:l}):null]})]})},renderContent:e=>{var t,o,i,l,n,{databaseInfoContext:{databaseInfo:s,isFetchingDatabaseInfo:d},userPermission:f,actions:{updateDatabaseInfo:x}}=e;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(v.TabBar,{className:az.tab,type:"text",align:"left",tabBarExtraContent:(0,b.jsxs)(v.Space,{spacing:16,children:[(0,b.jsx)(g,{}),j===tZ.x.Structure?(0,b.jsx)(v.Button,{"data-testid":V.A.BotDatabaseEditTableStructureBtn,onClick:()=>y(!0),icon:(0,b.jsx)(m.JAz,{}),color:"highlight",disabled:f.isReadOnlyMode,children:p.o.t("db_new_0003")}):null]}),tabBarClassName:"flex flex-row items-center w-full",activeKey:j,onChange:e=>B(e),lazyRender:!0,children:[(0,b.jsx)(v.TabBar.TabPanel,{tab:p.o.t("db_new_0001"),itemKey:tZ.x.Structure,children:(0,b.jsx)(tq,{loading:d,fieldList:null!==(n=s.field_list)&&void 0!==n?n:[]})}),(0,b.jsxs)(v.TabBar.TabPanel,{tab:p.o.t("db_optimize_009"),itemKey:tZ.x.Draft,disabled:!!a,children:[(0,b.jsx)(q,{type:"info",persistentKey:"_coze_database_draft_data_warning",children:p.o.t("db_optimize_010")}),(0,b.jsx)(aN,{databaseId:_,tableType:ei.Nd.DraftTable,tableFields:s.field_list||[],isReadonlyMode:!1,enterFrom:r,rowEvent:{onAfterEditRecords:u,onEditRow:(t=(0,h._)(function*(e){var t=null==e?void 0:e.bstudio_connector_id;yield C.v6.UpdateDatabaseRecords((0,A._)({database_id:_,table_type:ei.Nd.DraftTable,record_data_alter:[e]},t?{ori_connector_id:t}:{}))}),function(e){return t.apply(this,arguments)}),onAddRow:(o=(0,h._)(function*(e){yield C.v6.UpdateDatabaseRecords({database_id:_,table_type:ei.Nd.DraftTable,record_data_add:[e]})}),function(e){return o.apply(this,arguments)})},rowEditFormConfig:{showModifySysPlatform:!0},toolButtonsBarConfig:{batchImportMode:"simple"}})]}),(0,b.jsxs)(v.TabBar.TabPanel,{tab:p.o.t("db_new_0002"),itemKey:tZ.x.Online,disabled:!!a,children:[(0,b.jsx)(q,{type:"info",persistentKey:"_coze_database_online_data_warning",children:p.o.t("database_optimize_200")}),(0,b.jsx)(aN,{databaseId:_,tableType:ei.Nd.OnlineTable,tableFields:s.field_list||[],isReadonlyMode:f.isReadOnlyMode,enterFrom:r,rowEvent:{onAfterEditRecords:u,onEditRow:(i=(0,h._)(function*(e){var t=null==e?void 0:e.bstudio_connector_id;yield C.v6.UpdateDatabaseRecords((0,A._)({database_id:_,table_type:ei.Nd.OnlineTable,record_data_alter:[e]},t?{ori_connector_id:t}:{}))}),function(e){return i.apply(this,arguments)}),onAddRow:(l=(0,h._)(function*(e){yield C.v6.UpdateDatabaseRecords({database_id:_,table_type:ei.Nd.OnlineTable,record_data_add:[e]})}),function(e){return l.apply(this,arguments)})},rowEditFormConfig:{showModifySysPlatform:!0},toolButtonsBarConfig:{batchImportMode:"platform-dropdown"}})," "]})]}),(0,b.jsx)(tG,{visible:I,onSubmit:e=>{var t,a;return R({databaseInfo:s,updateDatabaseInfo:x,table_name:e.name,icon_uri:null===(a=e.icon_uri)||void 0===a?void 0:null===(t=a[0])||void 0===t?void 0:t.uid,table_desc:e.description})},initValues:{name:s.table_name||"",description:s.table_desc||"",avatar:s.icon_url||"",icon_uri:[{url:s.icon_url||"",uri:s.icon_uri||"",uid:s.icon_uri||"",isDefault:!0}]},mode:"edit",onClose:()=>E(!1)}),(0,b.jsx)(tC,{visible:w,initValue:{tableId:s.id||"",name:s.table_name||"",desc:s.table_desc||"",icon_uri:s.icon_uri||"",readAndWriteMode:s.rw_mode||ei.mx.LimitedReadWrite,tableMemoryList:s.field_list||[]},onSubmit:(0,h._)(function*(){yield x(),c&&c()}),showDatabaseBaseInfo:!1,onlyShowDatabaseInfoRWMode:!0,onReturn:()=>y(!1),onClose:()=>y(!1)})]})}})},aD=e=>{var{title:t}=e;return(0,b.jsx)("div",{className:"text-xs",children:t})},aM=e=>{var{visible:t,tableList:a,onOk:r,onCancel:o}=e;return(0,b.jsxs)(v.Modal,{title:p.o.t("vol_database_error_new_account_access_denied",{},"\u65B0\u8D26\u53F7\u8BBF\u95EE\u6743\u9650\u4E0D\u8DB3"),closable:!0,visible:t,onCancel:o,okText:p.o.t("vol_database_action_switch_accessible_tables_only",{},"\u4EC5\u66F4\u6362\u6709\u8BBF\u95EE\u6743\u9650\u7684\u8868"),cancelText:"\u53D6\u6D88",onOk:r,children:[(0,b.jsx)("div",{className:"text-sm",children:p.o.t("vol_database_error_permission_mismatch_tables",{},"\u90E8\u5206\u539F\u8D26\u53F7\u53EF\u8BBF\u95EE\u7684\u6570\u636E\u8868\uFF0C\u65B0\u8D26\u53F7\u65E0\u8BBF\u95EE\u6743\u9650\u3002")}),(0,b.jsx)("div",{className:"mt-16px",children:(0,b.jsx)(v.Table,{tableProps:{dataSource:a,columns:[{title:(0,b.jsx)(aD,{title:p.o.t("vol_database_linked_volcano_tables",{},"\u5DF2\u5173\u8054\u7684\u706B\u5C71\u6570\u636E\u8868")}),dataIndex:"tableName",render:e=>(0,b.jsx)("div",{className:"text-sm font-medium",children:e})},{title:(0,b.jsx)(aD,{title:p.o.t("vol_database_original_account_permissions",{},"\u539F\u8D26\u53F7\u6743\u9650")}),dataIndex:"originalAccountPermission",render:e=>(0,b.jsx)(v.Tag,{color:e?"green":"red",children:e?p.o.t("vol_database_permission_granted",{},"\u6709\u6743\u9650"):p.o.t("vol_database_permission_denied",{},"\u65E0\u6743\u9650")})},{title:(0,b.jsx)(aD,{title:p.o.t("vol_database_new_account_permissions",{},"\u65B0\u8D26\u53F7\u6743\u9650")}),dataIndex:"newAccountPermission",render:e=>(0,b.jsx)(v.Tag,{color:e?"green":"red",children:e?p.o.t("vol_database_permission_granted",{},"\u6709\u6743\u9650"):p.o.t("vol_database_permission_denied",{},"\u65E0\u6743\u9650")})}]}})})]})},aP=()=>(0,b.jsx)("div",{className:"p-3 bg-[var(--coz-mg-hglt-secondary-yellow)] rounded-lg",children:(0,b.jsx)("div",{className:"text-sm",children:p.o.t("vol_database_action_switch_account_desc",{},"\u8BF7\u786E\u4FDD\u65B0\u8D26\u53F7\u6709\u5F53\u524D\u8868\u7684\u4F7F\u7528\u6743\u9650\uFF0C\u5426\u5219\u6570\u636E\u5E93\u5C06\u4F1A\u65AD\u8FDE\u5931\u6548\u3002\u66F4\u6362\u540E\u539F\u8D26\u53F7\u5173\u8054\u7684\u6240\u6709\u6570\u636E\u8868\u7684\u8D26\u53F7\u90FD\u5C06\u540C\u6B65\u66F4\u65B0\u4E3A\u65B0\u8D26\u53F7\u3002")})}),ak=e=>{var{instanceId:t}=e;return(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsxs)("div",{className:"text-sm font-medium text-[var(--coz-fg-primary)]",children:[p.o.t("vol_database_account_instance",{},"\u8D26\u53F7\u6240\u5C5E\u5B9E\u4F8B"),"\uFF1A"]}),(0,b.jsxs)("div",{className:"mt-1 text-sm font-normal text-[var(--coz-fg-secondary)]",children:[p.o.t("vol_database_instance_name",{},"\u5B9E\u4F8B\u540D\u79F0"),"-",t]})]})},aY=()=>(0,b.jsxs)("div",{className:"h-32px flex items-center text-[var(--coz-fg-hglt-red)] text-sm mb-12px py-4px px-12px rounded-lg bg-[var(--coz-mg-hglt-secondary-red)]",children:[(0,b.jsx)(m.UoC,{className:"mr-4px coz-fg-hglt-red"}),p.o.t("vol_database_auth_failed",{},"\u8BA4\u8BC1\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u8D26\u53F7\u4E0E\u5BC6\u7801")]}),aO=e=>{var{visible:t,loading:a,showPassword:r,authState:o,accountInfo:i,onOk:l,onCancel:n,onFormApiReady:s,onTogglePasswordVisibility:d,instanceId:c}=e;return(0,b.jsx)(v.Modal,{title:p.o.t("vol_database_action_switch_account",{},"\u66F4\u6362\u8D26\u53F7"),closable:!0,visible:t,onCancel:n,okText:p.o.t("vol_database_action_switch",{},"\u66F4\u6362"),cancelText:p.o.t("vol_database_cancel",{},"\u53D6\u6D88"),onOk:l,confirmLoading:a,maskClosable:!1,children:(0,b.jsxs)("div",{className:"w-full flex flex-col gap-4",children:[(0,b.jsx)(aP,{}),(0,b.jsx)(ak,{instanceId:c}),(0,b.jsx)("div",{className:"flex flex-col gap-4",children:(0,b.jsxs)(v.Form,{getFormApi:s,initValues:i,children:[(0,b.jsx)(v.FormInput,{placeholder:p.o.t("vol_database_prompt_account",{},"\u8BF7\u8F93\u5165\u8D26\u53F7"),field:"username",label:p.o.t("vol_database_new_account",{},"\u65B0\u8D26\u53F7"),rules:[{required:!0,message:p.o.t("vol_database_prompt_account",{},"\u8BF7\u8F93\u5165\u8D26\u53F7")}]}),(0,b.jsx)(v.FormInput,{type:r?"text":"password",placeholder:p.o.t("vol_database_prompt_password",{},"\u8BF7\u8F93\u5165\u5BC6\u7801"),field:"password",label:p.o.t("vol_database_password",{},"\u5BC6\u7801"),rules:[{required:!0,message:p.o.t("vol_database_prompt_password",{},"\u8BF7\u8F93\u5165\u5BC6\u7801")}],suffix:(0,b.jsx)("div",{className:"cursor-pointer text-[var(--coz-fg-tertiary)] h-[24px] flex items-center justify-center",onClick:d,children:r?(0,b.jsx)(m.Eho,{fontSize:16}):(0,b.jsx)(m.SA_,{fontSize:16})})}),o===eU.AUTHENTICATION_FAILED&&(0,b.jsx)(aY,{})]})})]})})},aF=1,aG={NO_ACCESSIBLE_TABLES:"\u6CA1\u6709\u53EF\u66F4\u6362\u7684\u8868",SWITCH_FAILED:"\u66F4\u6362\u8D26\u53F7\u5931\u8D25"},aV={ACCOUNT_SWITCHED:p.o.t("vol_database_status_account_switched",{},"\u5DF2\u66F4\u6362\u65B0\u8D26\u53F7"),ACCESSIBLE_TABLES_SWITCHED:p.o.t("vol_database_action_switched_accessible_tables_only",{},"\u5DF2\u66F4\u6362\u6709\u8BBF\u95EE\u6743\u9650\u7684\u8868")},aZ=e=>{var t,a,{databaseInfo:r}=e,[o,i]=(0,f.useState)(!1),[l,n]=(0,f.useState)(!1),[s,d]=(0,f.useState)(!1),[c,u]=(0,f.useState)(!1),[g,A]=(0,f.useState)(eU.UNAUTHENTICATED),[x,_]=(0,f.useState)([]),[I,E]=(0,f.useState)(),w=(0,f.useRef)(null),y=(0,eW.rY)(e=>e.getSpaceId()),j=(0,f.useCallback)(()=>{var e,t,a;return null==r?void 0:null===(a=r.volcano_storage_config)||void 0===a?void 0:null===(t=a.volcano_database_config)||void 0===t?void 0:null===(e=t.mysql_instance_detail)||void 0===e?void 0:e.instance_id},[r]),B=(0,f.useCallback)((e,t)=>({instance_id:j(),user_name:e,user_pwd:eV(t)}),[j]),N=(0,f.useCallback)(e=>e.map(e=>({tableName:e.table_name||"unknown",originalAccountPermission:e.origin_user_right===aF,newAccountPermission:e.trans_user_right===aF,databaseId:e.database_id})),[]),Q=(0,f.useCallback)(e=>e.filter(e=>e.trans_user_right===aF).map(e=>e.database_id),[]);var R=(0,f.useCallback)((t=(0,h._)(function*(e,t,a){var r=yield C.v6.VolcanoDatabaseChangeTableRight({connect_info:B(e,t),space_id:y,database_ids:a});return 0===r.code?(i(!1),A(eU.AUTHENTICATED),v.Toast.success(aV.ACCOUNT_SWITCHED),!0):(v.Toast.error(r.msg||aG.SWITCH_FAILED),!1)}),function(e,a,r){return t.apply(this,arguments)}),[B,y]);var S=(0,f.useCallback)((a=(0,h._)(function*(e){var t,a=yield C.v6.VolcanoDatabaseGetTableRight({connect_info:B(e.username,e.password),space_id:y,database_id:r.id});if(0!==a.code)throw Error(a.msg||"\u9A8C\u8BC1\u5931\u8D25");var o=(null===(t=a.data)||void 0===t?void 0:t.user_rights)||[],l=Q(o);if(l.length===o.length){yield R(e.username,e.password,l);return}_(N(o)),E(e),i(!1),n(!0)}),function(e){return a.apply(this,arguments)}),[B,y,r.id,Q,R,N]),z=(0,f.useCallback)((0,h._)(function*(){if(!w.current){A(eU.AUTHENTICATION_FAILED);return}try{u(!0);var e=yield w.current.validate();yield S(e)}catch(e){console.error("Account validation failed:",e),A(eU.AUTHENTICATION_FAILED)}finally{u(!1)}}),[S]),T=(0,f.useCallback)(()=>{i(!1),n(!1),A(eU.UNAUTHENTICATED)},[]),D=(0,f.useCallback)(()=>i(!0),[]),M=(0,f.useCallback)(()=>d(e=>!e),[]),P=(0,f.useCallback)(()=>{n(!1),i(!0)},[]),k=(0,f.useCallback)((0,h._)(function*(){var e=x.filter(e=>e.newAccountPermission).map(e=>e.databaseId);if(0===e.length){v.Toast.error(aG.NO_ACCESSIBLE_TABLES);return}if(!!I)try{yield R(I.username,I.password,e),n(!1),v.Toast.success(aV.ACCESSIBLE_TABLES_SWITCHED)}catch(e){console.error("Table right change failed:",e)}}),[x,I,R]),Y=(0,f.useCallback)(e=>{w.current=e},[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(aO,{visible:o,loading:c,showPassword:s,authState:g,accountInfo:I,instanceId:j(),onOk:z,onCancel:T,onFormApiReady:Y,onTogglePasswordVisibility:M}),(0,b.jsx)(aM,{visible:l,tableList:x,onOk:k,onCancel:P}),(0,b.jsx)(v.Tooltip,{content:p.o.t("vol_database_action_switch_account",{},"\u66F4\u6362\u8D26\u53F7"),children:(0,b.jsx)(v.IconButton,{icon:(0,b.jsx)(m.eF6,{}),onClick:D})})]})},aH=a("360505"),aU={};aU.styleTagTransform=P(),aU.setAttributes=z(),aU.insert=R().bind(null,"head"),aU.domAPI=N(),aU.insertStyleElement=D(),j()(aH.Z,aU);var aW=aH.Z&&aH.Z.locals?aH.Z.locals:void 0,aL=e=>{var t,{version:a,enterFrom:r,initialTab:o,needHideCloseIcon:i=!1,addRemoveButtonText:l,onClose:n,onClickAddRemoveButton:s,onIDECallback:d,onAfterEditBasicInfo:c,onAfterEditRecords:u,databaseId:x}=e,[_,I]=(0,f.useState)(!1),[E,w]=(0,f.useState)(!1),[y,j]=(0,f.useState)(a?tZ.x.Structure:null!=o?o:tZ.x.Structure),[B,N]=(0,f.useState)(!1);var Q=(t=(0,h._)(function*(e){var t,{databaseInfo:a,updateDatabaseInfo:r}=e,o=(0,tO._)(e,["databaseInfo","updateDatabaseInfo"]),i=yield C.v6.UpdateDatabase((0,A._)({},(0,tF.Z)(a,["id","icon_uri","table_name","table_desc","field_list","rw_mode","prompt_disabled","extra_info"]),o));(null==i?void 0:null===(t=i.database_info)||void 0===t?void 0:t.id)?(yield r(),c&&c(),_&&I(!1)):v.Toast.error("Update database failed")}),function(e){return t.apply(this,arguments)}),R=e=>{var{databaseInfo:t}=e;if(s)try{N(!0),s("workflow"===r?x:null==t?void 0:t.draft_id)}finally{N(!1)}};return(0,b.jsx)(tH,{version:a,databaseId:x,enterFrom:r,onIDECallback:d,renderHeader:e=>{var{databaseInfoContext:{databaseInfo:t},userPermission:a,routeParams:o}=e;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-[8px]",children:[i?null:(0,b.jsx)(v.IconButton,{color:"secondary",icon:o.fromLibrary?(0,b.jsx)(m.$1i,{}):(0,b.jsx)(m.rmE,{}),onClick:n}),(0,b.jsx)(aQ,{databaseInfo:{name:t.table_name||"",description:t.table_desc||"",avatar:t.icon_url||""},isReadOnlyMode:a.isReadOnlyMode,onEditBasicInfo:()=>I(!0),subLogoUrl:"data:image/png;base64,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gBjevggqDxOJrTce6ojmA7HYCCOp9UNvNze2vB0kzTAOzMPzpOYD0ddzo35fS3P5e6/dfuNgPqL5QCzWQ3Vf4HbZY/1wazMd3Nkq8bTuoZ6H+YimA7Fo/VDiCtHjCfMub7//yivEk6dPzdcRTQfismT/YeX6TacbjuuHW1zjK856HdF0IK48Tbe57rh+uOVt0ENU+WfReoO27RViqd4p6ocyeawj1h4HZrwf0WwgxvphrHkUwQmzXN7eWak8Dix+pop9rgQwG4hFH5OSWD/EBW8rxBnqiCvDq0SzgVisfngq8P7ykb/nIlvFOqK3wyXqiNnYXSF6ur98zdfLaAfFOqK3fx6Va9p3DZ80mwzE2IxdrM4hbcLN5iCBLfMrbjvbNlceBxZ7Ea3WEW0GYqlmbIn1Q+/N2E2uOfyCqPyUhdV+RJOBWOwPi/qhDu85bFKvvG222n5jc4VY6pUwifVDb6eqfXk7ea88DszqwYq5QCxaP5TWkL05QGDL3MhbXTWWcirXES1OvzEXiKuS/Yfnwv5xcZjSztu95qj2swIGt83mAnHp6f4y1/XaxScF3PUjVm6/MTgOjEDsS+KD9Ax0OOyWt2cFGBg7lalAXJd8P1Za/fCdJ9QPu3ibfhOv8VVsC4ufNWunzaYCcVVydSitfsj95W7UEYs7NrZKNBWIxa4UnfG6nkqxjujtedLKgWitjmhry1zq24r+Q71u8M5KSfEzZ+lZATOBuCxZP5T43Ki3lc9Y3lbSsY5Y8QBw04/4o51hGmYC8dhT/ZDDlP6OHLYmVW4RWxm6tWImEF29v0z/YX/xNo+31TT3mkcztWUu4r7EB6WYfziIty+QyuPALNURTQRi0Yvm0hqyqR8O5/EAqmLd21Id0UQgFrtTKfF2Cu02w3n8Z1a5M2JhZNtsY4VYLBAFbpdpyB7O4/Oklb/M10YOVtQH4ub6kKf6ISvEcbydzJ/V7Y4o2vZWkfpALNaMXbmfq5cbDidB5+Kxjlh72IOBOqL6QDwpFYjnrwVxXnsWMNIVh18kj+v+DD98pv/nU30gfnT1anj/jQITPuJJ7q/+F0Q5FfjIlRZ//3lwJU5DqthuFD+DH7wl8M2hgV579kx/rMcnA+Jyvcg31JdXLrbPksQf9KusFnuLXyISOwZKqvwz8tGVK+Hd1/Wf0ZoIRADIweSrewAwBoEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAMn/AWxG09udQVplAAAAAElFTkSuQmCC"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,b.jsx)(aZ,{databaseInfo:t}),"workflow"===r?(0,b.jsx)(v.Button,{disabled:a.isReadOnlyMode,loading:B,onClick:()=>R({databaseInfo:t}),children:l}):null]})]})},renderContent:e=>{var t,o,i,{databaseInfoContext:{databaseInfo:l,isFetchingDatabaseInfo:n},userPermission:s,actions:{updateDatabaseInfo:d}}=e;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(v.TabBar,{className:aW.tab,type:"text",align:"left",tabBarExtraContent:(0,b.jsxs)(v.Space,{spacing:16,children:[(0,b.jsx)(g,{}),y===tZ.x.Structure?(0,b.jsx)(v.Button,{"data-testid":V.A.BotDatabaseEditTableStructureBtn,onClick:()=>w(!0),icon:(0,b.jsx)(m.JAz,{}),color:"highlight",disabled:s.isReadOnlyMode,children:p.o.t("db_new_0003")}):null]}),tabBarClassName:"flex flex-row items-center w-full",activeKey:y,onChange:e=>j(e),lazyRender:!0,children:[(0,b.jsx)(v.TabBar.TabPanel,{tab:p.o.t("db_new_0001"),itemKey:tZ.x.Structure,children:(0,b.jsx)(tq,{loading:n,fieldList:null!==(i=l.field_list)&&void 0!==i?i:[],showSystemFields:!1})}),(0,b.jsxs)(v.TabBar.TabPanel,{tab:p.o.t("db_new_0002"),itemKey:tZ.x.Online,disabled:!!a,children:[(0,b.jsx)(q,{type:"info",persistentKey:"_coze_database_online_data_warning",children:p.o.t("database_optimize_200")}),(0,b.jsx)(aN,{databaseId:x,tableType:ei.Nd.OnlineTable,tableFields:l.field_list||[],isReadonlyMode:s.isReadOnlyMode,enterFrom:r,rowEditFormConfig:{showModifySysPlatform:!1},toolButtonsBarConfig:{batchImportMode:"simple"},rowEvent:{onEditRow:(t=(0,h._)(function*(e){var t,a,r=null===(a=l.field_list)||void 0===a?void 0:null===(t=a.find(e=>e.is_primary_key))||void 0===t?void 0:t.name,o=null==e?void 0:e[null!=r?r:""];yield C.v6.UpdateDatabaseRecords((0,A._)({database_id:x,table_type:ei.Nd.OnlineTable,record_data_alter:[e]},o?{ori_connector_id:o}:{}))}),function(e){return t.apply(this,arguments)}),onAddRow:(o=(0,h._)(function*(e){yield C.v6.UpdateDatabaseRecords({database_id:x,table_type:ei.Nd.OnlineTable,record_data_add:[e]})}),function(e){return o.apply(this,arguments)}),onAfterEditRecords:u}})]})]}),(0,b.jsx)(tG,{visible:_,modalTitle:p.o.t("vol_database_volcano_db",{},"\u706B\u5C71\u6570\u636E\u5E93"),onSubmit:e=>{var t,a;return Q({databaseInfo:l,updateDatabaseInfo:d,table_name:e.name,icon_uri:null===(a=e.icon_uri)||void 0===a?void 0:null===(t=a[0])||void 0===t?void 0:t.uid,table_desc:e.description})},initValues:{name:l.table_name||"",description:l.table_desc||"",avatar:l.icon_url||"",icon_uri:[{url:l.icon_url||"",uri:l.icon_uri||"",uid:l.icon_uri||"",isDefault:!0}]},mode:"edit",onClose:()=>I(!1)}),(0,b.jsx)(tv,{visible:E,initValue:{tableId:l.id||"",name:l.table_name||"",desc:l.table_desc||"",icon_uri:l.icon_uri||"",readAndWriteMode:l.rw_mode||ei.mx.LimitedReadWrite,tableMemoryList:l.field_list||[]},onSubmit:(0,h._)(function*(){yield d(),c&&c()}),showDatabaseBaseInfo:!1,onlyShowDatabaseInfoRWMode:!0,onReturn:()=>w(!1),onClose:()=>w(!1)})]})}})},aq=e=>{var t,a,r,{version:o,botId:i,spaceId:l,databaseId:n,enterFrom:s,needHideCloseIcon:d,initialTab:c}=e,{onStatusChange:u,onUpdateDisplayName:m}=(0,tN.kJ)(),g=(0,tQ.useNavigate)(),[x,_]=(0,f.useState)("bot_add"===s?"Add":"Remove"),[I,E]=(0,f.useState)({});var w=(t=(0,h._)(function*(e){var t=yield C.v6.BindDatabase({database_id:e,bot_id:i});0===t.code?(v.Toast.success("Add database success"),_("Remove")):v.Toast.error(t.msg)}),function(e){return t.apply(this,arguments)});var y=(a=(0,h._)(function*(e){var t=yield C.v6.UnBindDatabase({database_id:e,bot_id:i});0===t.code?(v.Toast.success("Remove database success"),_("Add")):v.Toast.error(t.msg)}),function(e){return a.apply(this,arguments)}),j=e=>{if(!!e)if("Add"===x)w(e);else{if("Remove"!==x)return;y(e)}},B=()=>{1===window.history.length&&g("/space/".concat(l,"/library")),g(-1)},N=(0,f.useMemo)(()=>"Add"===x?p.o.t("db2_030"):"Remove"===x?p.o.t("db2_031"):"",[x]);var Q=(r=(0,h._)(function*(){var e=yield C.v6.GetDatabaseByID((0,A._)({id:n},o?{version:o}:{}));if(!!e.database_info)E(e.database_info)}),function(){return r.apply(this,arguments)});return((0,f.useEffect)(()=>{Q()},[]),I.database_type===ei.xo.Volcano)?(0,b.jsx)(aL,{version:o,enterFrom:s,databaseId:n,initialTab:c,addRemoveButtonText:N,onIDECallback:{onStatusChange:u,onUpdateDisplayName:m},onClickAddRemoveButton:j,needHideCloseIcon:d,onClose:B}):I.database_type===ei.xo.Coze?(0,b.jsx)(aT,{version:o,enterFrom:s,databaseId:n,initialTab:c,addRemoveButtonText:N,onIDECallback:{onStatusChange:u,onUpdateDisplayName:m},onClickAddRemoveButton:j,needHideCloseIcon:d,onClose:B}):null},aX=e=>{var{version:t,needHideCloseIcon:a,initialTab:r}=e,o=(0,tN.kF)(),{botID:i,tableID:l,biz:n}=o,s=(0,eW.rY)(e=>e.getSpaceId());return l?(0,b.jsx)(aq,{version:t,botId:null!=i?i:"",databaseId:l,needHideCloseIcon:a,enterFrom:null!=n?n:"",spaceId:null!=s?s:"",initialTab:null!=r?r:o.initialTab}):(0,b.jsx)("div",{children:"no database id!"})},aK=a("166011"),aJ=a("478795"),a$={};a$.styleTagTransform=P(),a$.setAttributes=z(),a$.insert=R().bind(null,"head"),a$.domAPI=N(),a$.insertStyleElement=D(),j()(aJ.Z,a$);var a0=aJ.Z&&aJ.Z.locals?aJ.Z.locals:void 0,a1=e=>{var{icon:t,title:a,description:r,database:o,isAdded:i,onClick:l,onAdd:n,onRemove:s,disableAdd:d,subLogo:c,disableTooltip:u}=e,m=i(o),v=()=>{if(m){null==s||s();return}null==n||n()};return(0,b.jsxs)("div",{onClick:l,className:"flex flex-row items-center p-[16px] border-t-0 border-l-0 border-r-0 border-b-[1px] border-solid coz-stroke-primary last:border-b-0 cursor-pointer",children:[(0,b.jsxs)("div",{className:"relative h-[36px] w-[36px]",children:[(0,b.jsx)("img",{src:t,className:"w-full h-full rounded-[8px]"}),c?(0,b.jsx)("img",{src:c,className:"absolute rounded-sm bottom-0 right-0 w-[14px] h-[14px]",style:{border:"0.5px solid #E9EBF2"}}):null]}),(0,b.jsxs)("div",{className:"flex flex-col ml-[12px] min-w-0 flex-grow",children:[(0,b.jsx)("p",{className:"text-[14px] font-medium leading-[20px] coz-fg-primary mb-[4px]",children:a}),(0,b.jsx)(eT.ZT.Text,{ellipsis:{showTooltip:{opts:{content:r}}},className:"text-[12px] leading-[16px] coz-fg-secondary truncate !max-w-[680px]",children:r})]}),(0,b.jsx)("div",{className:"ml-[16px]",children:m?(0,b.jsx)(a2,{onClick:e=>{e.stopPropagation(),v()}}):(0,b.jsx)(a6,{disableAdd:!!d,disableTooltip:u,children:(0,b.jsx)(eT.zx,{"data-testid":"bot.database.add.modal.add.button",className:W()("w-[53px] flex justify-center items-center",a0["database-add"],d&&a0["database-add-disabled"]),disabled:d,onClick:e=>{e.stopPropagation(),v()},children:p.o.t("Add_2")})})})]})},a2=e=>{var[t,{setFalse:a,setTrue:r}]=(0,J.Z)(!1);return(0,b.jsx)(eT.zx,(0,x._)((0,A._)({onMouseEnter:()=>{r()},onMouseLeave:()=>{a()}},e),{className:W()(a0["database-added"],{[a0["added-mousein"]]:t}),children:t?p.o.t("Remove"):p.o.t("Added")}))},a6=e=>{var{disableAdd:t,children:a,disableTooltip:r}=e;return t?(0,b.jsx)(eT.u,{content:r,theme:"dark",children:a}):a},a4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUQAAAFECAYAAABf6kfGAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABVzSURBVHgB7d3NjlxH+cfxyht22CRiYS+Qo1iyZ4cU7oDcQXIp3rAmO/ZsWSQ3gNwrWHYvs6KHsIAEoZENixlZiR1FZJzYMa6earvdc06ft6o6z8v3I/31R2BCHE//uuqpp5567dlzAQAQXg8AgA0CEQASAhEAEgIRABICEQASAhEAEgIRABICEQASAhEAEgIRABICEQASAhEAEgIRABICEQASAhEAEgIRABICEQASAhEAEgIRABICEQASAhEAEgIRABICEQASAhEAEgIRABICEQASAhEAEgIRABICEQASAhEAEgIRABICEQASAhEAEgIRABICEQASAhEAEgIRABICEQASAhEAEgIRABICEQASAhEAEgIRABICEQASAhEAEgIRABICEQCSNwNg3PJfITz8PoQPfhnC+78IQCsCEaZ98ucQfveXi38dw/Cvvw3h3bcD0IgtM0zbhmF08nUIn30egFYEIsyKW+V9d78IQCsCEWYt/nb531v/96KeCDQhEGFWDL99MQyb/n0gIhBhUgy+pi1ztPoqAI0IRJh0KPTaghIgEGHSocOTbV8isI9AhElddUJWiWhCIMKc2G/YFYjUEdGEQIQ5yx5hRz8imhCIMGfVYzscV5HUEbGPQIQ5feuDTY3b8I1AhCmxdhhXf31wsIJ9BCJMGXJYQh0R+whEmDJk1cc1PuwjEGHK0G0w7TfYRSDCjDE3UNg2YxeBCDPGrPbYMmMXgQgzxpwaH5qKA38IRJgwJdioI2KLQIQJU7a+rBCxRSDChCm3ThgHhi0CESZMXeVxuIKIQIR6fcZ9deFeMyICEeod/ydMRh0REYEI9XI0V/M8KSICEerlWt2xbQaBCNVi/bDvuK8ubJtBIEK1ZcamagIRBCJUW2QczpBztQmdCESolntVRx3RNwIRapU4GWbb7BuBCLVKDGUgEH0jEKFWieGujAPzjUCEWqWCK8fNF+hEIEKlkqs4nhXwi0CESiVPg7nG5xeBCJVKjuvieVK/CESoU+Pgg35EnwhEqFPjDRROmn0iEKFOjUMP6og+EYhQp1Z9j22zPwQiVMnxXEBfHKz4QyBClWXFN5TpR/SHQIQqq4qHHYwD84dAhCq1T3+pI/pCIEKNWNOrvWKjjugLgQg11jMMXaCO6AuBCDUWM4QT1/h8IRChxly3R1YVT7YxLwIRKsQwnOvmCNtmPwhEqDDn0Fau8flBIBoRT1/v/CmEj/9oczDBnKs06oh+vBlgwod/eNmSEsPjm9+H8O7bwQQJ75zEOuJvbgUYxwrRgKYbFZ99HsyQsDpjHJgPBKIBTfd7LR0ESLgtMuehDuohEA1o6s+zVPOSsjpjlWgfgWhAU/hZeV+45rivLvQj2kcgKnfofq+F94Ul/R7oR7SPQFTu0P1eCx9gSb+H+MVDHdE2AlG5Q/d7LTQUS9v2Mw7MNgJRuUOBob2hWOKAVg5WbCMQFeuzAtR8ELAU+PdOHdE2AlGxPmGneUWzEBg+XOOzjUBUrE/Yaa4jSg0e2m/sIhAV6xOIWlc0czwX0BfbZrsIRKWGrPw0noxKXoWxZbaLQFRqSGBo/ABLXoVZuQWEywhEpYYEhsbBBNJDnDqiTQSiUkMDQ9MqUUOAs0K0iUBUaExgaKojalh9MQ7MJgJRoTEDDzStaLT8vXK4Yg+BqNCYAwct/YiaDiy412wPgajQ2MDQEDSaDiuoI9pDICoz5UOopTanBc+T2kMgKjMl1DSEjbZVF9tmWwhEZaYERskVzcOffgonT5+GKSQ9F9AX22ZbCERlpn4AS6xo7p6fh5tnZ+Hm6Wn4+OuvN+E4hsRxX10IRFsIREVyfPhKrMDuPHr0IgRjOH72/bhl6EphuEgcYovxCERFcqzuct8RXv/ww6Wt8vrHH8MYWldb1BHtIBAVybG6y/1Q0up5IO6Lq8ShJI/76sK22Q4CUYmcDcs5VzTLhkCM2+f1kydhiLXiJ1MJRDsIRCVy1v5yfoCbAjFaPX4chpD4XEBfjAOzg0BUIuuqLtOHN4Zh24nycmAgag+UY8UrXLxEICqRc4WY62T0uGV1GC0P/GeXfq2ByTE8K2ADgahAiS1Zjmt8hw5P4sqx7yrRwuqKa3w2EIgKlLiDnCNgu1aBxz0PViysrnie1AYCUYES9bWpIdRnS3y3Z4O2lQMJ+hH1IxAVKBEYcUUzpY646BF2sfWm6xqfpdNZTpr1IxCFK7kVm7Ki6XMbZdOP2PHrLK2qqCPqRyAKV3KG4dig3RyY9DxFXnX8OmurKrbNuhGIwpU8cBj71x5yC+XQSbPFgwgOVnQjEIUr+QEbG0iLAdNsDjVvW3zbmH5E3QhEwWoMTB0TSkNvobTVES2GB+PAdCMQBavRsDy0hjdmcMOiJUCtnspSR9SLQBSsxgpqaCitBlzJ21o3/Hcsr6SoI+pFIApWYwU19FrgmFmHTXVEjc8F9EUdUS8CUaiaK6ghW/P1iBVitN+mo3ncVxeu8elFIApVcwXVd0Vz8rx2OLR+uLW/1bYeGBZP0D0gEIWq+eBS33BajlwdRrv3mjU/F9AX22adCEShap7A9q0jriYEYnyIaltH9LB64hqfTgSiQHOcwPYJqaH9h/sW6UDGw+qpZh1xe5XyZGQ5Ay8RiALNcQLbtUKMH7b950YH/2+kFaaXA4caK+H453Lz7Cx8+OBB+PXz/xv7BCwuEIgCzXEC27XFm1I/fPHXeL7CtPBcQF81yh53vv32RSki/v87jx4FjEcgCjTHCqpri7cY0X+4L64wP/vHtFWmJjXCf39FuGbbPAmBKMycJ7CHtni5tmKffjM9WDUpuUqMPaH7ZYwhb9ngMgJRmDkfbG/78DZ98Ea75qvGVbKO2Hbqv8pQ3vCKQBRmzhscbVu8rB+wI18rxJIn6m11XVaI4xGIwsx9Atv0v7/MGYhXnh8AvOOnjhjLH6XqiG1/Ln3eskEzAlEQCTc4mkZXLXNvwW77WiWWGAe2PjB4t89bNmhGIAoi4QbH/grx0MTr0d7ztaUrcbDSVcZYsG0ehUAURMLA1P064nGJAv17vor+JeqIXWPY1hysjEIgCiJlgvTuKvHueYHtbawjOlollrjG19VvWGRl7wCBKISkYQC7Na9lqZXGNV8NxDnLIX3DjjricASiEJImwGxXqsuS267bvkbB5Nw29y1jUEccjkAUQtIEmO1qdVXyA3X9+Qrxqp8tXc4tc98yBv2IwxGIQkibABNXiUU/ULGO6OjWytC3aw7pu3KPW2bqiMMQiAJInACz+OdPZbfM0Q1fJ6E5yiJD/0yWnDYPQiAKcDzj/eU2n55UOPSgH3GwoWUM7jUPQyAKIHKC9FGFJWvsR3RUR8yxExhaxth9ywbdCEQBRE6QrrV6czb9Zsqf9fapgCF237JBNwJxZiInSG8OPCr1Cd72tW2ecq957PDXxbmvu+NTEIgzE/kCXc2rddd81bim1BEXI7e/TNHuj0CcmZTreq+oOY3GWR1xyo2ksTdPqCP2RyDOTGQgXq+8anPWfjNm2zymfrgV64jZJp4bRyDOSGQYvvOk/j1jZ9Nvxvy5T932rri10guBOKMSg0Mnm2PogrN7zWMCcTFx20uDdj8E4oxEttvMMc06PingqI4Yp6IPnYw+9Rol95r7IRB7mFK/af1rfi90yzzX7ZFbPCvQZvMkwMQtM3XEfgjEDvFk7+bZWfjwwYNw8/Q0nGRqYRC5Ooz1w7kegKKO2CrX9Tv6EbsRiB3uPHr0otM/fsN+8t13IQeR9cM5T3u519z+azNtdxkY241A7LC/Vcn2w0n98FVxZeroedIhJZNcP3N3WSF2IhAPaBrVnqMWI7Z+eH3mFYSz50n7TDmKJZpcN01y1CKtIxAPaOvdmlqLEXldL16hm3uF5mzQQ58pR8eZA4x+xMMIxAPatipTazEyT5cFHGoc+Voh9rnGl3ubS/vNYQTiAW2tNlN/SEUGooTrc3HKjrM6YlctOff7yjRoH0Ygtjj0gxNrMWPriCXe6M1CStuLszrioW6DnPXDrU1PLavEVgRii66rUmPriCLrhzcETZxx1n5z6Mux1GrumIOVVgRii6464dhvWZHPBVwXtI1y2KDdVkcs9R4K48DaEYgN+lzVG/vtTf9hh1hHdLZKbNs2l9ra0nrTjkBs0OcHZkxPV7zQLzIQrwn7gEj7+yms6Wci1g9L3T2mjtiOQGzQd9TS0J4uic+NiqofbjkbB9ZURil9GszzpM0IxAZ9+wwHPwkpsX4ocXt6/Yn7cWClA4sVYjMCcc+QUV9Dv8VdPzc6xObVP1+3VvbriKUDK5Z7eJ70MgJxz5Bv5iG1GJH1w80BhtCtk7N3VnZ/NmIzdunZhZsaONNvLiEQ9wz9Zu7b07UUeX9Z8OGFs5Pm3XJKrVNg6oiXEYh7BtcF+x7ASLyudyT48MLZ86S7N5hqDXKljngZgbhjTCtN318v8v6y9Dqdszri9hZTra1s03g77wjEHWO2EH3qiGMeFSpOcv1w67a/bXON+uEu6oivIhB3jJ1i0xWkIuuHGq7IXfN3sLL4tu7vecG2+RUE4o6xo5a6Vogi64caDi0c1hE/Pal70LXmYOUVBGIyZdRSV08Xz41O4Kz95uTfb4SaqCO+ikBMpoxEOtTTFbdB4uqH8blRLfeFnU2/Cfd/FmpjaOxLBGIydQp2Wx1xLfH+sqbhCc7uNYd7V0I4r/uxpB/xJQIxmdqT1fbfX0i8v6xpKnV8UsBRHXHjXt1VIv2ILxGIIc+opbZaDPeXM7jl7D3hytvmWO6hjniBQAz5aij7dUSx9UNtDzl5qyN+9XaobcEj9hsEYshXQ9nv6RL7foo2zu41h0dvVK8jMkX7AoEY8tVQ9nu6eH85k7iidfQ86cZXV0NNvLNywX0g5rwqtV9HpP8wI2fPk9Y+WImfgZpXBqUiEDNvFbb1yFg/fCjtSzdehdO60nI26KH2CjFacdpMIOYuJm/rkSLrh5ofbzpytkJ8/PpFLbEiGrQJxOzTPrb1SJHvp2jedsbpPNQRi6If0Xkglhi1tO3pktl/qHwF4K2OWDkQqSM6D8RSV5bufHEus36o/caHt/ab07dCbd77EV0HYqmayd17Ar9lLTQ3e2vQjnXEe/VvrXhGIBbw8MsrQRwL283NlG9nq8R7dX+W7rJC9Gldcg7c2ZtBHM0nzLus/D76qnyvOX4mPNcR3QZisZFHcYtzLuwf6w1Dk6cZB1ac5zqi20AstjW4J3C7bGmbef2Jv3FglXccnttv/G6ZS11mv08gFhXriNxaKcpzg7bLQCz6jsS9+iPgO1k7nXX2zkrtn6kx75Nb4TIQj0vWD6WxGB7eTprP6telvd5rdhmIruqHRwYPITzWERkHVoXbLXMREuuHFuttHuuItRu02TL7UCwMZ7hV0GnTyGy03nbb2Zau8pdtrCN6PG12F4jFaiOnApuxLV91u+bsYCWOAqs8DuzY4SrR3wqxVCDO8DBQJ8uHD+8ZajbvizpicWyZczmrP5mkk/XTWHftN3W3zbGO6O15UleB6Kp+GJ8btX7v19v0mzn6EZ1Nv3EViItSWwCJ/YcehiB4u9c8wxfvytmtFVeBWOzbTmL/oYfp0vFJAXf3muuWZrydNLsJxE0bQbEbKtxfns0tnhUoqeg1V4HcBGKxRtO4jZE2/zDWD708yHTdWWtIfFag8jU+T3VEN4Hoqn7o6fTVYx2x8hfwwtG22U0gFquFiNwuOwrEuBLmedKi1o4OVlwEYtFxRtQP53fD2/SbygcrjuqILgKxWOtAvEolrX4Yr7R5WzG560es/6yAl6GxLgKx2HZZ4u0Ub48wRUcO3wCpvG320o9IIE5R+YeyFw/9h/viVB9vq2LeWSnCfCCePK8dFqsfnvJcgBjevggqDxOJrTce6ojmA7HYCCOp9UNvNze2vB0kzTAOzMPzpOYD0ddzo35fS3P5e6/dfuNgPqL5QCzWQ3Vf4HbZY/1wazMd3Nkq8bTuoZ6H+YimA7Fo/VDiCtHjCfMub7//yivEk6dPzdcRTQfismT/YeX6TacbjuuHW1zjK856HdF0IK48Tbe57rh+uOVt0ENU+WfReoO27RViqd4p6ocyeawj1h4HZrwf0WwgxvphrHkUwQmzXN7eWak8Dix+pop9rgQwG4hFH5OSWD/EBW8rxBnqiCvDq0SzgVisfngq8P7ykb/nIlvFOqK3wyXqiNnYXSF6ur98zdfLaAfFOqK3fx6Va9p3DZ80mwzE2IxdrM4hbcLN5iCBLfMrbjvbNlceBxZ7Ea3WEW0GYqlmbIn1Q+/N2E2uOfyCqPyUhdV+RJOBWOwPi/qhDu85bFKvvG222n5jc4VY6pUwifVDb6eqfXk7ea88DszqwYq5QCxaP5TWkL05QGDL3MhbXTWWcirXES1OvzEXiKuS/Yfnwv5xcZjSztu95qj2swIGt83mAnHp6f4y1/XaxScF3PUjVm6/MTgOjEDsS+KD9Ax0OOyWt2cFGBg7lalAXJd8P1Za/fCdJ9QPu3ibfhOv8VVsC4ufNWunzaYCcVVydSitfsj95W7UEYs7NrZKNBWIxa4UnfG6nkqxjujtedLKgWitjmhry1zq24r+Q71u8M5KSfEzZ+lZATOBuCxZP5T43Ki3lc9Y3lbSsY5Y8QBw04/4o51hGmYC8dhT/ZDDlP6OHLYmVW4RWxm6tWImEF29v0z/YX/xNo+31TT3mkcztWUu4r7EB6WYfziIty+QyuPALNURTQRi0Yvm0hqyqR8O5/EAqmLd21Id0UQgFrtTKfF2Cu02w3n8Z1a5M2JhZNtsY4VYLBAFbpdpyB7O4/Oklb/M10YOVtQH4ub6kKf6ISvEcbydzJ/V7Y4o2vZWkfpALNaMXbmfq5cbDidB5+Kxjlh72IOBOqL6QDwpFYjnrwVxXnsWMNIVh18kj+v+DD98pv/nU30gfnT1anj/jQITPuJJ7q/+F0Q5FfjIlRZ//3lwJU5DqthuFD+DH7wl8M2hgV579kx/rMcnA+Jyvcg31JdXLrbPksQf9KusFnuLXyISOwZKqvwz8tGVK+Hd1/Wf0ZoIRADIweSrewAwBoEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAAmBCAAJgQgACYEIAMn/AWxG09udQVplAAAAAElFTkSuQmCC",a8=e=>(0,b.jsx)(a1,(0,x._)((0,A._)({},e),{subLogo:a4,disableTooltip:p.o.t("vol_database_switch_tips",{},"\u6682\u4E0D\u652F\u6301\u76F4\u63A5\u5728\u667A\u80FD\u4F53\u4E2D\u4F7F\u7528\u706B\u5C71\u6570\u636E\u5E93\u3002\u53EF\u4EE5\u5728\u5DE5\u4F5C\u6D41\u4E2D\u6DFB\u52A0\u706B\u5C71\u6570\u636E\u5E93\u540E\u518D\u5728\u667A\u80FD\u4F53\u4E2D\u8C03\u7528\u3002")})),a7=e=>{var{filter:t,onFilterChange:a}=e,r=tB.Z.useUserInfo();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"flex flex-row items-center mr-[12px]",children:(0,b.jsxs)(eT.Ph,{showArrow:!0,size:"default",className:"border-none ml-[4px] hover:border-none bg-transparent outline-none",value:t.filter_creator,onChange:e=>a((0,x._)((0,A._)({},t),{filter_creator:e})),children:[(0,b.jsx)(eT.Ph.Option,{value:"all",label:p.o.t("db2_010")}),r?(0,b.jsx)(eT.Ph.Option,{value:r.user_id_str,label:r.name},r.user_id_str):null]})}),(0,b.jsx)("div",{className:"flex flex-row items-center",children:(0,b.jsxs)(eT.Ph,{showArrow:!0,size:"default",className:"border-none ml-[4px] hover:border-none bg-transparent outline-none",value:t.sort_by,onChange:e=>a((0,x._)((0,A._)({},t),{sort_by:e})),children:[(0,b.jsx)(eT.Ph.Option,{value:"create_time",label:p.o.t("db2_012")}),(0,b.jsx)(eT.Ph.Option,{value:"update_time",label:p.o.t("db2_013")})]})})]})},a9=e=>{var{databaseType:t,onChange:a}=e,r={[ei.xo.All]:"data:image/png;base64,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",[ei.xo.Volcano]:a4,[ei.xo.Coze]:"data:image/png;base64,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"};return(0,b.jsx)("div",{className:"flex flex-row items-center mr-[12px]",children:(0,b.jsxs)(v.Select,{showArrow:!0,size:"default",className:"border-none ml-[4px] hover:border-none bg-transparent outline-none",value:t,onChange:e=>a(e),renderOptionItem:e=>{var t={all:p.o.t("vol_database_all_source_desc",{},"\u4E00\u8D77\u67E5\u770B\u706B\u5C71\u3001\u6263\u5B50\u6570\u636E\u5E93"),volc:p.o.t("vol_database_vol_type_desc",{},"\u652F\u6301\u6587\u672C\u3001\u8868\u683C\u77E5\u8BC6\u5E93\uFF0C\u7CBE\u7EC6\u5316\u5207\u7247\u7BA1\u7406\uFF0C\u9002\u5408\u4F01\u4E1A\u5BA2\u6237\u573A\u666F"),coze:p.o.t("vol_database_coze_type_desc",{},"\u652F\u6301\u56FE\u7247\u3001\u6587\u672C\u3001\u8868\u683C\u77E5\u8BC6\u5E93\uFF0C\u667A\u80FD\u5207\u6362\u7BA1\u7406\uFF0C\u9002\u5408\u8F7B\u91CF\u68C0\u7D22\u573A\u666F")},{disabled:a,selected:o,focused:i,className:l,style:n,onMouseEnter:s,onClick:d,label:c,value:u}=e,v=W()({"custom-option-render":!0,"custom-option-render-focused":i,"custom-option-render-disabled":a,"custom-option-render-selected":o,className:l});return(0,b.jsxs)("div",{style:n,onClick:d,className:"".concat(v," flex items-center rounded-lg py-6px px-8px cursor-pointer hover:bg-[var(--coz-mg-secondary-hovered)] max-w-[436px]"),onMouseEnter:e=>null==s?void 0:s(e),children:[(0,b.jsx)("div",{className:"w-24px h-24px bg-[var(--coz-fg-brand)] rounded-full flex items-center justify-center",children:e.selected?(0,b.jsx)(m.P03,{className:"coz-fg-hglt"}):null}),(0,b.jsx)("img",{src:r[u],className:"w-32px h-32px rounded-lg border border-solid border-[var(--coz-stroke-opaque)]"}),(0,b.jsxs)("div",{className:"flex flex-col mx-8px overflow-hidden flex-1",children:[(0,b.jsx)("span",{className:"text-[var(--coz-fg-primary)]",children:c}),(0,b.jsx)("div",{className:"flex items-center gap-2 w-full",children:(0,b.jsx)("span",{className:"text-xs text-[var(--coz-fg-secondary)]",children:t[u]})})]})]})},renderSelectedItem:e=>{var{label:t,value:a}=e;return(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,b.jsx)("img",{src:r[a],className:"w-16px h-16px rounded-[4px] border border-solid",style:{border:"0.5px solid #E9EBF2"}}),(0,b.jsx)("span",{style:{marginLeft:8},children:t})]})},children:[(0,b.jsx)(v.Select.Option,{value:ei.xo.All,label:"\u5168\u90E8\u6765\u6E90"}),(0,b.jsx)(v.Select.Option,{value:ei.xo.Volcano,label:p.o.t("vol_database_volcano_database",{},"\u706B\u5C71\u6570\u636E\u5E93")}),(0,b.jsx)(v.Select.Option,{value:ei.xo.Coze,label:p.o.t("vol_database_coze_database",{},"\u6263\u5B50\u6570\u636E\u5E93")})]})})},a3=a("768902"),a5={};a5.styleTagTransform=P(),a5.setAttributes=z(),a5.insert=R().bind(null,"head"),a5.domAPI=N(),a5.insertStyleElement=D(),j()(a3.Z,a5);var re=a3.Z&&a3.Z.locals?a3.Z.locals:void 0,rt=e=>{var{filter:t,onFilterChange:a}=e;return(0,b.jsx)("div",{className:"flex flex-row items-center w-full justify-between pr-[12px]",children:(0,b.jsxs)("div",{className:W()(re.select,"flex flex-row flex-1"),children:[(0,b.jsx)(a9,{databaseType:t.database_type,onChange:e=>{a((0,x._)((0,A._)({},t),{database_type:e}))}}),(0,b.jsx)(a7,{filter:t,onFilterChange:a})]})})},ra=a("387294"),rr=a("494589");var ro=(u=(0,h._)(function*(e){var{filter:t,page_offset:a,projectID:r,enterFrom:o,botId:i,spaceId:l}=e,n=yield C.v6.ListDatabase((0,x._)((0,A._)({},r?{project_id:r}:{}),{bot_id:"bot"===o?i:"0",space_id:l,database_type:t.database_type,table_type:"bot"===o?ei.Nd.DraftTable:ei.Nd.OnlineTable,table_name:t.key_word,creator_id:"all"===t.filter_creator?"0":t.filter_creator,limit:50,offset:a,order_by:[{field:t.sort_by,direction:rr.Sr.Desc}]}));return{list:n.database_info_list||[],nextOffset:a+1,total:n.total_count,hasMore:n.has_more}}),function(e){return u.apply(this,arguments)}),ri=()=>(0,b.jsx)("div",{className:"overflow-y-auto relative w-full h-full flex justify-center items-center",children:(0,b.jsx)(v.Empty,{image:(0,b.jsx)(tK.ts,{style:{width:150,height:150}})})}),rl=a("45962"),rn=a("560973"),rs={};rs.styleTagTransform=P(),rs.setAttributes=z(),rs.insert=R().bind(null,"head"),rs.domAPI=N(),rs.insertStyleElement=D(),j()(rn.Z,rs);var rd=rn.Z&&rn.Z.locals?rn.Z.locals:void 0,rc=e=>{var{children:t,loadingMore:a,loading:r,noMore:o,empty:i,total:l,containerRef:n}=e;return r||l?(0,b.jsx)(v.Spin,{spinning:r,wrapperClassName:rd.spin,children:(0,b.jsxs)("div",{className:W()(rd.container,rd.scrollable),ref:n,children:[(0,b.jsx)("div",{className:rd.content,children:t}),a?(0,b.jsxs)("div",{className:rd["loading-more"],children:[(0,b.jsx)(rl.Z,{spin:!0,style:{marginRight:"4px"}}),(0,b.jsx)("div",{children:p.o.t("Loading")})]}):null,o?(0,b.jsx)("div",{className:rd["no-more"],children:(0,b.jsx)("div",{children:p.o.t("No_more")})}):null]})}):i},ru=(0,f.forwardRef)((e,t)=>{var{filter:a,projectID:r,enterFrom:o,botId:i,spaceId:l,onClickDatabaseDetail:n,onAdd:s,onRemove:d,isAdded:c,onLoadingChange:u,renderCustomDatabaseCard:p,disableAdd:m}=e,v=(0,f.useRef)(null),{loading:g,data:h,loadingMore:A,reload:x,noMore:_}=(0,ra.Z)(e=>ro({filter:a,page_offset:(null==e?void 0:e.nextOffset)||0,enterFrom:o,botId:i,spaceId:l,projectID:"project"===a.category?r:void 0}),{manual:!0,isNoMore:e=>!!(!(null==e?void 0:e.total)||!e.hasMore),reloadDeps:[a.key_word,a.filter_creator,a.sort_by,r,a.category,a.database_type],target:v});return(0,f.useImperativeHandle)(t,()=>({reload:x})),(0,f.useEffect)(()=>{x()},[a.database_type]),(0,f.useEffect)(()=>{null==u||u(g)},[g,u]),(0,b.jsx)(rc,{containerRef:v,loadingMore:A,loading:g,noMore:_,total:(null==h?void 0:h.total)||0,empty:(0,b.jsx)(ri,{}),children:null==h?void 0:h.list.map((e,t)=>{var a,r=null!==(a=null==p?void 0:p(e))&&void 0!==a?a:a1;return(0,b.jsx)(r,{database:e,icon:e.icon_url,title:e.table_name,description:e.table_desc,isAdded:()=>{var t;return null!==(t=null==c?void 0:c(e))&&void 0!==t&&t},disableAdd:m,onClick:()=>{null==n||n(e)},onAdd:()=>null==s?void 0:s(e),onRemove:()=>null==d?void 0:d(e)},t)})})}),rb=e=>{var{filter:t,onFilterChange:a,projectID:r,enterFrom:o,spaceId:i,workflowAddList:l,botId:n,onAddDatabase:s,onRemoveDatabase:d,onClickDatabase:c}=e,u=(0,f.useRef)(null),[m,g]=(0,f.useState)(!1);return{renderFilter:()=>(0,b.jsx)(rt,{filter:t,onFilterChange:a}),renderInput:()=>(0,b.jsx)(v.Input,{placeholder:p.o.t("db2_014"),className:"w-full",value:t.key_word,onChange:(0,aK.Z)(e=>{a((0,x._)((0,A._)({},t),{key_word:e}))},500)}),renderContent:()=>(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(ru,{ref:u,filter:t,renderCustomDatabaseCard:e=>e.database_type===ei.xo.Volcano?e=>(0,b.jsx)(a8,(0,x._)((0,A._)({},e),{disableAdd:"bot"===o})):a1,botId:n,projectID:r,enterFrom:o,spaceId:i,onAdd:e=>{if(s&&e.id){var t;null==s||s(e.id,null===(t=u.current)||void 0===t?void 0:t.reload)}},onRemove:e=>{if(d&&e.id){var t;null==d||d(e.id,null===(t=u.current)||void 0===t?void 0:t.reload)}},isAdded:e=>"workflow"===o?!!(e.id&&(null==l?void 0:l.length)&&(null==l?void 0:l.includes(e.id))):!!e.is_added_to_bot,onClickDatabaseDetail:e=>{c&&e.id&&(null==c||c(e.id))},onLoadingChange:g})}),databaseCardListRef:u,isLoadingCardList:m}},rp=e=>{var[t,a]=(0,f.useState)({database_type:ei.xo.All,sort_by:"create_time",key_word:"",filter_creator:"all"}),{renderInput:r,renderFilter:o,renderContent:i,isLoadingCardList:l,databaseCardListRef:n}=rb((0,x._)((0,A._)({},e),{filter:t,onFilterChange:t=>{var r;a(t),null===(r=e.onFilterChange)||void 0===r||r.call(e,t)}}));return{renderInput:r,renderFilter:o,renderContent:i,databaseCardListRef:n,isLoadingCardList:l}},rm=a.p+"static/image/tips-template-en.4f88701a.png",rv=a.p+"static/image/tips-template-cn.c9d3a2f6.png",rg=a("963840"),rh={};rh.styleTagTransform=P(),rh.setAttributes=z(),rh.insert=R().bind(null,"head"),rh.domAPI=N(),rh.insertStyleElement=D(),j()(rg.Z,rh);var rf=rg.Z&&rg.Z.locals?rg.Z.locals:void 0,rA=()=>{var e=(0,p.D)();return(0,b.jsxs)("div",{className:rf["tips-wrapper"],children:[(0,b.jsxs)("div",{className:rf["tip-title"],children:[p.o.t("db2_018"),":"]}),(0,b.jsxs)("p",{className:"my-[8px]",children:["\uD83D\uDCA1 ",(0,b.jsxs)("em",{className:rf["tip-desc"],children:[p.o.t("db2_019"),":"]})]}),(0,b.jsx)(eT.Ee,{height:136,src:"zh-CN"===e?rv:rm}),(0,b.jsxs)("div",{className:rf["tip-title"],children:[p.o.t("db2_020"),":"]}),(0,b.jsxs)("div",{className:rf["bot-bg"],children:[(0,b.jsxs)("div",{className:W()(rf["bot-item"],"mb-[12px]"),children:[(0,b.jsx)("div",{className:W()(rf["bot-img"],rf["img-user"]),children:p.o.t("db2_021")}),(0,b.jsx)("div",{className:W()(rf["bot-content"],rf["content-user"]),children:p.o.t("db2_022")})]}),(0,b.jsxs)("div",{className:rf["bot-item"],children:[(0,b.jsx)("div",{className:W()(rf["bot-img"],rf["img-bot"]),children:p.o.t("db2_023")}),(0,b.jsx)("div",{className:W()(rf["bot-content"],rf["content-bot"]),children:p.o.t("db2_024")})]})]})]})},rx=e=>{var{onClose:t,renderFilter:a,renderInput:r,renderContent:o,renderSiderCategory:i,onClickCreateDatabase:l,onClickCreateTable:n,hideCreateButton:s}=e,[d,c]=(0,f.useState)(!1);return(0,b.jsx)(eT.FS,{closable:!0,visible:!0,onCancel:()=>{t()},header:p.o.t("db2_025"),filter:a(),sider:(0,b.jsxs)(eT.yh,{className:"!pt-[16px]",children:[(0,b.jsxs)(eT.yh.Header,{className:"mb-[16px] gap-[12px]",children:[r(),s?null:(0,b.jsx)(v.Dropdown,{trigger:"custom",visible:d,render:(0,b.jsxs)(v.Dropdown.Menu,{className:"w-[196px]",children:[(0,b.jsx)(v.Dropdown.Item,{className:"!pl-[8px]",onClick:()=>{c(!1),l()},children:p.o.t("db2_015")}),(0,b.jsx)(v.Dropdown.Item,{className:"!pl-[8px] [&_.coz-item-text]:w-full",onClick:()=>{c(!1),n({mode:"template"})},children:(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:p.o.t("db2_016")}),(0,b.jsx)(v.Popover,{style:{maxWidth:"460px",backgroundColor:"var(--Bg-COZ-bg-max, #363D4D)",boxShadow:"0 4px 12px 0 rgba(0, 0, 0, 8%), 0 8px 24px 0 rgba(0, 0, 0, 4%)"},trigger:"hover",content:(0,b.jsx)(rA,{}),zIndex:9999,showArrow:!0,children:(0,b.jsx)(v.Tag,{color:"primary",size:"small",className:"ml-[8px]",children:p.o.t("db2_017")})})]})})]}),onClickOutSide:()=>{c(!1)},children:(0,b.jsx)(v.Button,{color:"brand",iconPosition:"right",icon:(0,b.jsx)(eD.Wdl,{}),onClick:()=>c(!0),children:p.o.t("db_add_table_title")})})]}),(0,b.jsx)(eT.yh.Content,{className:"flex flex-col gap-[4px]",children:i()})]}),content:(0,b.jsx)(eT.vy,{className:"relative px-[12px] gap-[16px]",children:o()})})},r_=e=>{var{label:t,onClick:a,selected:r}=e;return(0,b.jsxs)("div",{onClick:a,className:W()(["flex items-center gap-[8px] px-[12px]","px-[12px] py-[6px] rounded-[8px]","cursor-pointer","hover:text-[var(--light-usage-text-color-text-0,#1c1f23)]","hover:bg-[var(--light-usage-fill-color-fill-0,rgba(46,50,56,5%))]",r&&"text-[var(--light-usage-text-color-text-0,#1c1d23)] bg-[var(--light-usage-fill-color-fill-0,rgba(46,47,56,5%))]"]),children:[(0,b.jsx)(m.Iqn,{}),t]})},rI=e=>{var{defaultCategory:t,categoryTabs:a,onCategoryChange:r}=e,[o,i]=(0,f.useState)(t);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r_,{label:p.o.t("project_resource_modal_library_resources",{resource:p.o.t("resource_type_database")}),onClick:()=>{i("library"),r("library")},selected:"library"===o}),a.includes("project")?(0,b.jsx)(r_,{label:p.o.t("project_resource_modal_project_resources",{resource:p.o.t("resource_type_database")}),onClick:()=>{i("project"),r("project")},selected:"project"===o}):null]})},rE=e=>{var{projectID:t,onClose:a,onCreateDatabase:r,botId:o,spaceId:i,hideCreateButton:l}=e,[n,s]=(0,f.useState)({database_type:ei.xo.All,sort_by:"create_time",key_word:"",filter_creator:"all",category:t?"project":"library"}),{renderFilter:d,renderContent:c,databaseCardListRef:u,renderInput:p}=rb((0,x._)((0,A._)({},e),{filter:n,onFilterChange:s})),[m,v]=(0,f.useState)(!1),g=tB.Z.useUserInfo(),[h,_]=(0,f.useState)({tableId:"",name:"",desc:"",icon_uri:"",readAndWriteMode:ei.mx.LimitedReadWrite,tableMemoryList:[]}),{modal:I,open:E,close:w}=tY({projectID:t,enterFrom:"library",onFinish:e=>{var t;w(),null===(t=u.current)||void 0===t||t.reload(),null==r||r(e)}}),C=()=>{a()};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(rx,{onClose:a,renderFilter:d,renderInput:p,renderContent:c,hideCreateButton:l,renderSiderCategory:()=>{var e;return(0,b.jsx)(rI,{defaultCategory:null!==(e=n.category)&&void 0!==e?e:"library",categoryTabs:t?["library","project"]:["library"],onCategoryChange:e=>{s((0,x._)((0,A._)({},n),{category:e}))}})},onClickCreateDatabase:E,onClickCreateTable:e=>{var{mode:t}=e;"template"===t?_((0,x._)((0,A._)({},h),{name:"reading_notes",desc:"for saving reading notes",readAndWriteMode:ei.mx.LimitedReadWrite,extra_info:{prompt_disabled:"true"},tableMemoryList:[{name:"name",desc:"",type:1,must_required:!0},{name:"section",desc:"",type:2,must_required:!0},{name:"note",desc:"",type:1,must_required:!0}]})):_({tableId:"",name:"",desc:"",readAndWriteMode:ei.mx.LimitedReadWrite,tableMemoryList:[]}),v(!0)}}),(0,b.jsx)(tj,{visible:m,onClose:()=>v(!1),onReturn:()=>v(!1),onSubmit:e=>{C();var t,{id:a,draft_id:o}=null!==(t=e.database_info)&&void 0!==t?t:{};a&&o&&(null==r||r({databaseId:a,draftId:o}))},showDatabaseBaseInfo:!0,disableModeSelect:!0,onlyShowDatabaseInfoRWMode:!1,initValue:h,extraParams:{botId:o,spaceId:i,creatorId:null==g?void 0:g.user_id_str}}),I]})},rw=e=>{var{databaseType:t}=e,a=(0,tO._)(e,["databaseType"]);return t===ei.xo.Volcano?(0,b.jsx)(aL,(0,A._)({},a)):t===ei.xo.Coze?(0,b.jsx)(aT,(0,A._)({},a)):void 0}},494589:function(e,t,a){a.d(t,{Cn:function(){return u},Sr:function(){return m},Y3:function(){return p},b1:function(){return b},oc:function(){return d},qr:function(){return c}});var r,o,i,l,n,s,d=((r={})[r.Open=1]="Open",r[r.Close=2]="Close",r);var c=((o={})[o.Normal=1]="Normal",o[o.Peding=2]="Peding",o[o.Processing=3]="Processing",o[o.Recycled=4]="Recycled",o);var u=((i={})[i.CreateByMe=0]="CreateByMe",i[i.All=1]="All",i);var b=((l={})[l.InValid=0]="InValid",l[l.Valid=1]="Valid",l);var p=((n={})[n.CozeVolcanoTenant=0]="CozeVolcanoTenant",n);var m=((s={})[s.ASC=1]="ASC",s[s.Desc=2]="Desc",s)},20682:function(e,t,a){a.d(t,{aX:function(){return n.a},mD:function(){return r.mD},nC:function(){return i.nC},p:function(){return o.p},uA:function(){return r.uA},vS:function(){return l.v},wV:function(){return r.wV},y3:function(){return r.y3},zP:function(){return r.zP}}),a(830133);var r=a(660141),o=a(570479),i=a(559e3),l=a(250206),n=a(19084)},429592:function(e,t,a){a.d(t,{x:function(){return o}});var r,o=((r={}).Structure="structure",r.Draft="draft",r.Online="online",r)},160645:function(e,t,a){var r=a(160052),o=a.n(r),i=a(570717),l=a.n(i)()(o());l.push([e.id,'.tab--UBWwKQ08SMsROFtT{display:flex;flex-direction:column;height:100%;overflow:hidden}.tab--UBWwKQ08SMsROFtT .semi-tabs-bar{min-height:56px}.tab--UBWwKQ08SMsROFtT .semi-tabs-bar-extra{align-items:center;display:flex;flex-direction:row;justify-content:end;padding:0;width:100%}.tab--UBWwKQ08SMsROFtT .semi-tabs-content{flex-grow:1;overflow:auto;padding:0}.tab--UBWwKQ08SMsROFtT .semi-tabs-content .coz-tab-bar-content.semi-tabs-pane-active{height:100%}.tab--UBWwKQ08SMsROFtT .semi-tabs-content .coz-tab-bar-content.semi-tabs-pane-active .semi-tabs-pane-motion-overlay{display:flex;flex-direction:column;height:100%;overflow:hidden}.th-tip-dot--Iv4HI2xfGzsrAr2V{padding-left:16px;position:relative}.th-tip-dot--Iv4HI2xfGzsrAr2V:before{background-color:#000;border-radius:50%;content:"";height:5px;left:0;position:absolute;top:7px;width:5px}',""]),l.locals={tab:"tab--UBWwKQ08SMsROFtT","th-tip-dot":"th-tip-dot--Iv4HI2xfGzsrAr2V",thTipDot:"th-tip-dot--Iv4HI2xfGzsrAr2V"},t.Z=l},360505:function(e,t,a){var r=a(160052),o=a.n(r),i=a(570717),l=a.n(i)()(o());l.push([e.id,'.tab--FI4M5D35PoZ8qNN8{display:flex;flex-direction:column;height:100%;overflow:hidden}.tab--FI4M5D35PoZ8qNN8 .semi-tabs-bar{min-height:56px}.tab--FI4M5D35PoZ8qNN8 .semi-tabs-bar-extra{align-items:center;display:flex;flex-direction:row;justify-content:end;padding:0;width:100%}.tab--FI4M5D35PoZ8qNN8 .semi-tabs-content{flex-grow:1;overflow:auto;padding:0}.tab--FI4M5D35PoZ8qNN8 .semi-tabs-content .coz-tab-bar-content.semi-tabs-pane-active{height:100%}.tab--FI4M5D35PoZ8qNN8 .semi-tabs-content .coz-tab-bar-content.semi-tabs-pane-active .semi-tabs-pane-motion-overlay{display:flex;flex-direction:column;height:100%;overflow:hidden}.th-tip-dot--eX5IIxThtkMoBMMw{padding-left:16px;position:relative}.th-tip-dot--eX5IIxThtkMoBMMw:before{background-color:#000;border-radius:50%;content:"";height:5px;left:0;position:absolute;top:7px;width:5px}',""]),l.locals={tab:"tab--FI4M5D35PoZ8qNN8","th-tip-dot":"th-tip-dot--eX5IIxThtkMoBMMw",thTipDot:"th-tip-dot--eX5IIxThtkMoBMMw"},t.Z=l},270376:function(e,t,a){var r=a(160052),o=a.n(r),i=a(570717),l=a.n(i)()(o());l.push([e.id,".database-model-content--K1IynZuExA0dOBI5 .semi-form-field{padding-bottom:12px;padding-top:0}.database-model-content--K1IynZuExA0dOBI5 .semi-input-wrapper{background-color:rgba(var(--coze-bg-2),var(--coze-bg-2-alpha))}.database-model-content--K1IynZuExA0dOBI5 .semi-input-textarea-wrapper{background-color:rgba(var(--coze-bg-2),var(--coze-bg-2-alpha))}",""]),l.locals={"database-model-content":"database-model-content--K1IynZuExA0dOBI5",databaseModelContent:"database-model-content--K1IynZuExA0dOBI5"},t.Z=l},701296:function(e,t,a){var r=a(160052),o=a.n(r),i=a(570717),l=a.n(i)()(o());l.push([e.id,"",""]),l.locals={},t.Z=l},768902:function(e,t,a){var r=a(160052),o=a.n(r),i=a(570717),l=a.n(i)()(o());l.push([e.id,".select--ifWE0UymMPk1HIki .semi-select:active,.select--ifWE0UymMPk1HIki .semi-select:hover{background-color:transparent!important}.select--ifWE0UymMPk1HIki .semi-select-focus,.select--ifWE0UymMPk1HIki .semi-select-open{border:none;outline:none}.select--ifWE0UymMPk1HIki .semi-select-selection .semi-select-selection-text{font-weight:600!important}.bottom-shadow--LEPGOB9IXWcl2FWt{background:linear-gradient(180deg,hsla(0,0%,98%,0),#f9f9f9)}.label--zONLktvv5JUvlMuR{color:var(--Fg-COZ-fg-secondary,rgba(6,7,9,.5));font-size:14px;font-style:normal;font-weight:600;line-height:20px}.tips-wrapper--ZevWof4s7d4Q8UM9{border-radius:12px}.tip-title--NKCes4PPLlUQULBK{color:var(--Fg-COZ-fg-plus,#fff);font-weight:500;margin-bottom:10px}.tip-desc--JExHrxdjlEUFf3m0,.tip-title--NKCes4PPLlUQULBK{font-size:12px;font-style:normal;line-height:16px}.tip-desc--JExHrxdjlEUFf3m0{color:hsla(0,0%,100%,.39);font-weight:400;margin:8px 0}.bot-bg--YIXANahFRq4LMK5T{align-items:flex-start;align-self:stretch;background:var(--Mg-COZ-mg-primary,hsla(0,0%,100%,.06));border-radius:var(--default,8px);display:flex;flex-direction:column;gap:12px;padding:16px 12px}.bot-item--fvN962rRACUh8s3T{justify-content:start}.bot-img--CyKzeHH_YCYSCMpP,.bot-item--fvN962rRACUh8s3T{align-items:center;display:flex}.bot-img--CyKzeHH_YCYSCMpP{border-radius:50%;color:#fff;font-family:SF Pro Display;font-size:8px;font-style:normal;font-weight:500;height:24px!important;justify-content:center;line-height:7.254px;margin-right:8px;padding:8px;width:24px!important}.bot-img--CyKzeHH_YCYSCMpP.img-user--zIhcVg7aMPGPGsVJ{background-color:var(--Fg-COZ-fg-color-blue,#0084ff)}.bot-img--CyKzeHH_YCYSCMpP.img-bot--W_Z1pr0FxR0duxhG{background-color:var(--Fg-COZ-fg-color-cyan,#00b9b5)}.bot-content--AuyPQ9sYYccYVxv8{border-radius:var(--default,8px);color:var(--Fg-COZ-fg-primary,hsla(0,0%,100%,.79));font-size:10px;font-style:normal;font-weight:400;line-height:14px;padding:8px 12px;width:100%}.bot-content--AuyPQ9sYYccYVxv8.content-user--XD2DNuroqNMO5JlJ{background:var(--Mg-COZ-mg-hglt-plus-dim,rgba(94,94,255,.37))}.bot-content--AuyPQ9sYYccYVxv8.content-bot--dqFqFLNXaaULToPT{background:var(--Mg-COZ-mg-plus,hsla(0,0%,100%,.09))}.loading-more--O3JdUHYnlrI4Euy8,.no-more--PbD42f7SWSMuvwv1{align-items:center;color:var(--light-usage-text-color-text-2,var(--light-usage-text-color-text-2,rgba(28,31,35,.6)));display:flex;font-size:14px;font-weight:400;grid-column:1/-1;justify-content:center;line-height:20px;padding:13px 0;position:relative;width:100%}.database-add--RMz_GSxykJIqMw8y{color:var(--coz-fg-primary)!important}.database-add--RMz_GSxykJIqMw8y,.database-added--Iez_3mJ0sASgETbN{background-color:var(--coz-mg-primary)!important;font-size:12px;font-style:normal;font-weight:500;line-height:16.5px;max-height:30px;min-height:30px;min-width:48px}.database-added--Iez_3mJ0sASgETbN{color:var(--coz-fg-dim)!important}.database-added--Iez_3mJ0sASgETbN.added-mousein--WG5B_lYsYcYiEuQH{color:var(--light-color-red-red-5,#ff441e)!important}.list--vPni7Jm6ZaAn66Xz .semi-spin-children{height:100%}",""]),l.locals={select:"select--ifWE0UymMPk1HIki","bottom-shadow":"bottom-shadow--LEPGOB9IXWcl2FWt",bottomShadow:"bottom-shadow--LEPGOB9IXWcl2FWt",label:"label--zONLktvv5JUvlMuR","tips-wrapper":"tips-wrapper--ZevWof4s7d4Q8UM9",tipsWrapper:"tips-wrapper--ZevWof4s7d4Q8UM9","tip-title":"tip-title--NKCes4PPLlUQULBK",tipTitle:"tip-title--NKCes4PPLlUQULBK","tip-desc":"tip-desc--JExHrxdjlEUFf3m0",tipDesc:"tip-desc--JExHrxdjlEUFf3m0","bot-bg":"bot-bg--YIXANahFRq4LMK5T",botBg:"bot-bg--YIXANahFRq4LMK5T","bot-item":"bot-item--fvN962rRACUh8s3T",botItem:"bot-item--fvN962rRACUh8s3T","bot-img":"bot-img--CyKzeHH_YCYSCMpP",botImg:"bot-img--CyKzeHH_YCYSCMpP","img-user":"img-user--zIhcVg7aMPGPGsVJ",imgUser:"img-user--zIhcVg7aMPGPGsVJ","img-bot":"img-bot--W_Z1pr0FxR0duxhG",imgBot:"img-bot--W_Z1pr0FxR0duxhG","bot-content":"bot-content--AuyPQ9sYYccYVxv8",botContent:"bot-content--AuyPQ9sYYccYVxv8","content-user":"content-user--XD2DNuroqNMO5JlJ",contentUser:"content-user--XD2DNuroqNMO5JlJ","content-bot":"content-bot--dqFqFLNXaaULToPT",contentBot:"content-bot--dqFqFLNXaaULToPT","loading-more":"loading-more--O3JdUHYnlrI4Euy8",loadingMore:"loading-more--O3JdUHYnlrI4Euy8","no-more":"no-more--PbD42f7SWSMuvwv1",noMore:"no-more--PbD42f7SWSMuvwv1","database-add":"database-add--RMz_GSxykJIqMw8y",databaseAdd:"database-add--RMz_GSxykJIqMw8y","database-added":"database-added--Iez_3mJ0sASgETbN",databaseAdded:"database-added--Iez_3mJ0sASgETbN","added-mousein":"added-mousein--WG5B_lYsYcYiEuQH",addedMousein:"added-mousein--WG5B_lYsYcYiEuQH",list:"list--vPni7Jm6ZaAn66Xz"},t.Z=l},499815:function(e,t,a){var r=a(160052),o=a.n(r),i=a(570717),l=a.n(i)()(o());l.push([e.id,'.th-tip-name--bnNF9F3aXovBaapZ{display:flex;flex-direction:column}.th-tip-dot--Z96IDRMPwEck72QS{padding-left:16px;position:relative}.th-tip-dot--Z96IDRMPwEck72QS:before{background-color:#000;border-radius:50%;content:"";height:5px;left:0;position:absolute;top:7px;width:5px}.form-input-error--feeflqjeeoIqryNQ .semi-input-wrapper{border-color:#f93920}.form-input-error--feeflqjeeoIqryNQ .semi-input-wrapper:hover{border-color:var(--semi-color-border,rgba(29,28,35,.08))}.table-structure-form--nF_amfWXEbMCiTUu{padding-bottom:4px}.table-structure-form--nF_amfWXEbMCiTUu .semi-form-field-validate-status-icon{display:none}.table-structure-form--nF_amfWXEbMCiTUu .semi-form-field-validate-status-icon+span{font-size:12px}.table-structure-form--nF_amfWXEbMCiTUu .semi-col-12 .semi-form-field[x-field-id=prompt_disabled]{display:flex;justify-content:flex-end}.table-structure-form--nF_amfWXEbMCiTUu .semi-col-12 .semi-form-field[x-field-id=prompt_disabled] .semi-form-field-main{align-items:center;display:flex;width:auto!important}.table-structure-form--nF_amfWXEbMCiTUu .semi-switch-checked{background-color:rgba(var(--coze-brand-5),1)!important}.table-structure-form--nF_amfWXEbMCiTUu .semi-switch-checked:hover{background-color:rgba(var(--coze-brand-6),1)!important}.max-row-banner--kkbNuxw4HIFfnWGr{margin-bottom:24px}.form-item-label-tooltip-icon--xhmqLoelUNEDoU9w{color:#c6cacd;cursor:pointer}.table-setting-select--qTzjKYOJ3UI3rHUA .semi-select:hover{border:1px solid var(--semi-color-border)!important}.table-structure-table--LhrBbPA8zcmb66NO .semi-table-container{border:1px solid var(--Light-usage-border---color-border-1,rgba(29,28,35,.08));border-radius:8px;padding:0 8px}.table-structure-table--LhrBbPA8zcmb66NO .semi-table-header .semi-table-row-head{background:none!important;padding-left:8px;padding-right:8px}.table-structure-table--LhrBbPA8zcmb66NO .semi-table-body .semi-table-row{background:none!important}.table-structure-table--LhrBbPA8zcmb66NO .semi-table-body .semi-table-row:hover>.semi-table-row-cell{background:none!important}.table-structure-table--LhrBbPA8zcmb66NO .semi-table-row{cursor:default!important}.table-structure-table--LhrBbPA8zcmb66NO .semi-table-row>.semi-table-row-cell{border-bottom:1px solid transparent!important;padding:12px 8px!important;padding-left:0}.table-structure-table--LhrBbPA8zcmb66NO .semi-table-body{border-radius:8px;max-height:none!important;overflow:visible;padding:12px 0}.table-structure-table--LhrBbPA8zcmb66NO .semi-table-row-cell:before{display:none}.table-structure-table--LhrBbPA8zcmb66NO .semi-input-wrapper-disabled{background:none;border:none}.table-structure-table--LhrBbPA8zcmb66NO .semi-input-wrapper-disabled .semi-input-disabled{color:var(--coz-fg-primary);font-weight:500;padding:0;-webkit-text-fill-color:var(--coz-fg-primary)}.table-structure-table--LhrBbPA8zcmb66NO .semi-input-wrapper-disabled .semi-input-suffix{display:none}.table-structure-table--LhrBbPA8zcmb66NO .semi-select-disabled{background:none;border:none;cursor:default;opacity:1}.table-structure-table--LhrBbPA8zcmb66NO .semi-select-disabled:hover{background-color:transparent!important}.table-structure-table--LhrBbPA8zcmb66NO .semi-select-disabled .semi-select-selection{cursor:default;margin:0}.table-structure-table--LhrBbPA8zcmb66NO .semi-select-disabled .semi-select-selection .semi-select-selection-text{color:var(--coz-fg-primary);font-weight:500}.table-structure-table--LhrBbPA8zcmb66NO .semi-select-disabled .semi-select-arrow{display:none}.table-structure-table-wrapper--QlySJBSbd94ug0WE{height:auto}.table-empty-tips--dWTmW7yFt1YjDqlp{color:#f93920;font-size:12px;font-weight:400;line-height:16px;padding:8px}.spin--yuI7vy2UpzcRgelS .semi-spin-wrapper div{color:rgba(29,28,35,.35);font-size:16px}.table-setting-option--t_FIwgVHAVcOb0v2 .semi-select-option-selected .semi-select-option-icon{color:#4d53e8}.table-name-form-field--Qx2v312eDysxDpzO{padding-bottom:24px!important}.table-name-form-field--Qx2v312eDysxDpzO .semi-input-wrapper-disabled{-webkit-text-fill-color:#1d1c23}.table-desc-form-field--kxlqif7Xkz_XX9s4{padding-top:0!important}.prompt_disabled_popover--O9ShmTVCxiMFyHvY .semi-popover-icon-arrow{right:8px!important}.read_mode_popover--_QAtVMwY1B4wifnI .semi-popover-icon-arrow{left:8px!important}.hidden-form-border--xMWcqwhLZOs4i401 .semi-table-container{border:none;border-radius:0;padding:0}',""]),l.locals={"th-tip-name":"th-tip-name--bnNF9F3aXovBaapZ",thTipName:"th-tip-name--bnNF9F3aXovBaapZ","th-tip-dot":"th-tip-dot--Z96IDRMPwEck72QS",thTipDot:"th-tip-dot--Z96IDRMPwEck72QS","form-input-error":"form-input-error--feeflqjeeoIqryNQ",formInputError:"form-input-error--feeflqjeeoIqryNQ","table-structure-form":"table-structure-form--nF_amfWXEbMCiTUu",tableStructureForm:"table-structure-form--nF_amfWXEbMCiTUu","max-row-banner":"max-row-banner--kkbNuxw4HIFfnWGr",maxRowBanner:"max-row-banner--kkbNuxw4HIFfnWGr","form-item-label-tooltip-icon":"form-item-label-tooltip-icon--xhmqLoelUNEDoU9w",formItemLabelTooltipIcon:"form-item-label-tooltip-icon--xhmqLoelUNEDoU9w","table-setting-select":"table-setting-select--qTzjKYOJ3UI3rHUA",tableSettingSelect:"table-setting-select--qTzjKYOJ3UI3rHUA","table-structure-table":"table-structure-table--LhrBbPA8zcmb66NO",tableStructureTable:"table-structure-table--LhrBbPA8zcmb66NO","table-structure-table-wrapper":"table-structure-table-wrapper--QlySJBSbd94ug0WE",tableStructureTableWrapper:"table-structure-table-wrapper--QlySJBSbd94ug0WE","table-empty-tips":"table-empty-tips--dWTmW7yFt1YjDqlp",tableEmptyTips:"table-empty-tips--dWTmW7yFt1YjDqlp",spin:"spin--yuI7vy2UpzcRgelS","table-setting-option":"table-setting-option--t_FIwgVHAVcOb0v2",tableSettingOption:"table-setting-option--t_FIwgVHAVcOb0v2","table-name-form-field":"table-name-form-field--Qx2v312eDysxDpzO",tableNameFormField:"table-name-form-field--Qx2v312eDysxDpzO","table-desc-form-field":"table-desc-form-field--kxlqif7Xkz_XX9s4",tableDescFormField:"table-desc-form-field--kxlqif7Xkz_XX9s4",prompt_disabled_popover:"prompt_disabled_popover--O9ShmTVCxiMFyHvY",promptDisabledPopover:"prompt_disabled_popover--O9ShmTVCxiMFyHvY",read_mode_popover:"read_mode_popover--_QAtVMwY1B4wifnI",readModePopover:"read_mode_popover--_QAtVMwY1B4wifnI","hidden-form-border":"hidden-form-border--xMWcqwhLZOs4i401",hiddenFormBorder:"hidden-form-border--xMWcqwhLZOs4i401"},t.Z=l},241454:function(e,t,a){var r=a(160052),o=a.n(r),i=a(570717),l=a.n(i)()(o());l.push([e.id,".database-model-content--rM8YFl3FYv8kFdZv .semi-form-field{padding-bottom:16px;padding-top:0}.database-model-content--rM8YFl3FYv8kFdZv .semi-input-wrapper{background-color:rgba(var(--coze-bg-2),var(--coze-bg-2-alpha))}.database-model-content--rM8YFl3FYv8kFdZv .semi-input-textarea-wrapper{background-color:rgba(var(--coze-bg-2),var(--coze-bg-2-alpha))}",""]),l.locals={"database-model-content":"database-model-content--rM8YFl3FYv8kFdZv",databaseModelContent:"database-model-content--rM8YFl3FYv8kFdZv"},t.Z=l},96235:function(e,t,a){var r=a(160052),o=a.n(r),i=a(570717),l=a.n(i)()(o());l.push([e.id,".modal-key-tip--Wlv57ZBt6QyORG2g{width:200px!important}.modal-key-tip--Wlv57ZBt6QyORG2g ul{padding-left:16px}",""]),l.locals={"modal-key-tip":"modal-key-tip--Wlv57ZBt6QyORG2g",modalKeyTip:"modal-key-tip--Wlv57ZBt6QyORG2g"},t.Z=l},211618:function(e,t,a){var r=a(160052),o=a.n(r),i=a(570717),l=a.n(i)()(o());l.push([e.id,".input-wrapper--PZ0bzoMmTDAnrM7l{position:relative;width:100%}.input-wrapper--PZ0bzoMmTDAnrM7l span{width:100%}.error-wrapper--BOeL4zQ0LHUnNHHU .semi-input-wrapper{border:1px solid #f93920}.error-content--ntrG_DU48AK68kYM{height:20px}.error-float--lo93tY7Q8gC2jf7E{position:absolute;white-space:nowrap;width:100%}.error-text--YVYk0Celv04wv5qp{color:#f93920;font-size:12px;padding-top:2px;position:absolute}.input--Vb5YqBOrE5IXjEEA input{overflow:hidden;text-overflow:ellipsis}.limit-count--Pdi6cnfKxoEmEjkr{color:var(--light-usage-text-color-text-3,rgba(28,31,35,.35));font-size:12px;font-style:normal;font-weight:400;line-height:16px;overflow:hidden;padding-left:8px;padding-right:12px}",""]),l.locals={"input-wrapper":"input-wrapper--PZ0bzoMmTDAnrM7l",inputWrapper:"input-wrapper--PZ0bzoMmTDAnrM7l","error-wrapper":"error-wrapper--BOeL4zQ0LHUnNHHU",errorWrapper:"error-wrapper--BOeL4zQ0LHUnNHHU","error-content":"error-content--ntrG_DU48AK68kYM",errorContent:"error-content--ntrG_DU48AK68kYM","error-float":"error-float--lo93tY7Q8gC2jf7E",errorFloat:"error-float--lo93tY7Q8gC2jf7E","error-text":"error-text--YVYk0Celv04wv5qp",errorText:"error-text--YVYk0Celv04wv5qp",input:"input--Vb5YqBOrE5IXjEEA","limit-count":"limit-count--Pdi6cnfKxoEmEjkr",limitCount:"limit-count--Pdi6cnfKxoEmEjkr"},t.Z=l},732509:function(e,t,a){var r=a(160052),o=a.n(r),i=a(570717),l=a.n(i)()(o());l.push([e.id,".select-wrapper--uKZfpvSpkfQxOtOg{width:100%}.select-wrapper--uKZfpvSpkfQxOtOg .semi-select-disabled .semi-select-arrow{color:rgba(29,28,35,.6)}.select-wrapper--uKZfpvSpkfQxOtOg span{width:100%}.error-wrapper--APZOzFT8iG4KmhiR .semi-select{border:1px solid #f93920}.error-content--HGQMINTmDYtSuCQk{height:20px}.error-float--AGTVSykxmVg7xiG7{position:absolute;width:100%}.error-text--rlrf1QQXnec3ibh5{color:#f93920;font-size:12px;padding-top:2px;position:absolute}.selected-option--fJxSpPWM8CQivRtG .semi-select-option-selected .semi-select-option-icon{color:#4d53e8}",""]),l.locals={"select-wrapper":"select-wrapper--uKZfpvSpkfQxOtOg",selectWrapper:"select-wrapper--uKZfpvSpkfQxOtOg","error-wrapper":"error-wrapper--APZOzFT8iG4KmhiR",errorWrapper:"error-wrapper--APZOzFT8iG4KmhiR","error-content":"error-content--HGQMINTmDYtSuCQk",errorContent:"error-content--HGQMINTmDYtSuCQk","error-float":"error-float--AGTVSykxmVg7xiG7",errorFloat:"error-float--AGTVSykxmVg7xiG7","error-text":"error-text--rlrf1QQXnec3ibh5",errorText:"error-text--rlrf1QQXnec3ibh5","selected-option":"selected-option--fJxSpPWM8CQivRtG",selectedOption:"selected-option--fJxSpPWM8CQivRtG"},t.Z=l},178640:function(e,t,a){var r=a(160052),o=a.n(r),i=a(570717),l=a.n(i)()(o());l.push([e.id,".table--XrYAXP6n6BcteVHD{flex-grow:1;overflow:hidden;position:relative}.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .semi-table-wrapper{line-height:unset}.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .semi-table-scroll-position-left .semi-table-tbody>.semi-table-row>.semi-table-cell-fixed-left-last,.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .semi-table-scroll-position-left .semi-table-thead>.semi-table-row>.semi-table-cell-fixed-left-last,.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .semi-table-scroll-position-right .semi-table-tbody>.semi-table-row>.semi-table-cell-fixed-right-first,.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .semi-table-scroll-position-right .semi-table-thead>.semi-table-row>.semi-table-cell-fixed-right-first{box-shadow:none}.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .semi-table-row>.semi-table-cell-fixed-left-last{box-shadow:2px 2px 3px rgba(0,0,0,.08)}.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .semi-table-row>.semi-table-cell-fixed-right-first{box-shadow:-2px 2px 3px rgba(0,0,0,.08)}.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .semi-table-tbody>.semi-table-row{cursor:default}.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .semi-table-tbody>.semi-table-row>.semi-table-row-cell:last-child,.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .semi-table-thead>.semi-table-row>.semi-table-row-head:last-child{text-align:unset}.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .coz-table-list .semi-table-fixed-header table{height:unset}.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .semi-table-thead>.semi-table-row>.semi-table-row-head{height:28px;padding-bottom:0}.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .semi-table-thead .semi-table-row .react-resizable-handle{background:transparent}.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .semi-table-thead:hover .react-resizable:not(.semi-table-cell-fixed-left,.resizing,.not-resize-handle) .react-resizable-handle{border-left:1px solid var(--coz-stroke-plus);border-right:2px solid var(--coz-stroke-plus);width:7px}.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .semi-table-thead>.semi-table-row>.semi-table-row-head.resizing{border-right-color:var(--coz-stroke-hglt);border-right-width:1px}.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .semi-table-thead>.semi-table-row>.semi-table-row-head.semi-table-cell-fixed-left-last{border-right:0}.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .semi-table-thead>.semi-table-row>.semi-table-row-head.semi-table-cell-fixed-right-first{border-left:0}.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .semi-table-tbody .semi-table-row>.semi-table-row-cell{height:56px}.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .semi-table-tbody .semi-table-row>.semi-table-row-cell.resizing{border-right-color:var(--coz-stroke-hglt)}.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .semi-table-tbody .semi-table-row>.semi-table-cell-fixed-left-last{border-right:0}.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .semi-table-tbody .semi-table-row>.semi-table-cell-fixed-right-first{border-left:0}.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .semi-table-tbody .semi-table-row:not(:hover)>.semi-table-row-cell.semi-table-cell-fixed-left{border-bottom-left-radius:0;border-top-left-radius:0}.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .semi-table-tbody .semi-table-row:not(:hover)>.semi-table-row-cell.semi-table-cell-fixed-right{border-bottom-right-radius:0;border-top-right-radius:0}.table--XrYAXP6n6BcteVHD .table-wrapper--VbhgG4D4twsvu9Pf .semi-table-pagination-outer{height:48px;min-height:unset}.table-wrapper-project--pPlGDR_b6OYlC9BQ .coz-table-list .semi-table-tbody>.semi-table-row:not(:hover)>.semi-table-row-cell,.table-wrapper-project--pPlGDR_b6OYlC9BQ .coz-table-list .semi-table-thead>.semi-table-row>.semi-table-row-head,.table-wrapper-project--pPlGDR_b6OYlC9BQ .coz-table-list .semi-table-thead>.semi-table-row>.semi-table-row-head.semi-table-cell-fixed-left:before,.table-wrapper-project--pPlGDR_b6OYlC9BQ .coz-table-list .semi-table-thead>.semi-table-row>.semi-table-row-head.semi-table-cell-fixed-right:before{background-color:var(--coz-bg-max)}",""]),l.locals={table:"table--XrYAXP6n6BcteVHD","table-wrapper":"table-wrapper--VbhgG4D4twsvu9Pf",tableWrapper:"table-wrapper--VbhgG4D4twsvu9Pf","table-wrapper-project":"table-wrapper-project--pPlGDR_b6OYlC9BQ",tableWrapperProject:"table-wrapper-project--pPlGDR_b6OYlC9BQ"},t.Z=l},957570:function(e,t,a){var r=a(160052),o=a.n(r),i=a(570717),l=a.n(i)()(o());l.push([e.id,".table-structure-wrapper--tDGv88RGBokPwO4u{height:100%;overflow:auto}.table-structure-wrapper--tDGv88RGBokPwO4u .coz-table-spin{text-align:center}.table-structure-wrapper--tDGv88RGBokPwO4u .semi-table-container .semi-table-row .semi-table-row-cell,.table-structure-wrapper--tDGv88RGBokPwO4u .semi-table-container .semi-table-row .semi-table-row-head{padding:6px 8px}.table-structure-wrapper--tDGv88RGBokPwO4u .semi-table-container .semi-table-row .semi-table-row-head{border-bottom-width:1px}.table-structure-wrapper--tDGv88RGBokPwO4u .semi-table-container .semi-table-row .semi-table-row-cell{background:none;border-bottom:0;font-weight:500;height:56px}",""]),l.locals={"table-structure-wrapper":"table-structure-wrapper--tDGv88RGBokPwO4u",tableStructureWrapper:"table-structure-wrapper--tDGv88RGBokPwO4u"},t.Z=l},598809:function(e,t,a){var r=a(160052),o=a.n(r),i=a(570717),l=a.n(i)()(o());l.push([e.id,'.th-tip-name--hwY6DC7OSEUmZ_AI{display:flex;flex-direction:column}.th-tip-dot--X_8WHZIlhHA4bpGq{padding-left:16px;position:relative}.th-tip-dot--X_8WHZIlhHA4bpGq:before{background-color:#000;border-radius:50%;content:"";height:5px;left:0;position:absolute;top:7px;width:5px}.form-input-error--dP55C7sQiloG9dop .semi-input-wrapper{border-color:#f93920}.form-input-error--dP55C7sQiloG9dop .semi-input-wrapper:hover{border-color:var(--semi-color-border,rgba(29,28,35,.08))}.table-structure-form--XPNLolCn9BEjr19K{padding-bottom:4px}.table-structure-form--XPNLolCn9BEjr19K .semi-form-field-validate-status-icon{display:none}.table-structure-form--XPNLolCn9BEjr19K .semi-form-field-validate-status-icon+span{font-size:12px}.table-structure-form--XPNLolCn9BEjr19K .semi-col-12 .semi-form-field[x-field-id=prompt_disabled]{display:flex;justify-content:flex-end}.table-structure-form--XPNLolCn9BEjr19K .semi-col-12 .semi-form-field[x-field-id=prompt_disabled] .semi-form-field-main{align-items:center;display:flex;width:auto!important}.table-structure-form--XPNLolCn9BEjr19K .semi-switch-checked{background-color:rgba(var(--coze-brand-5),1)!important}.table-structure-form--XPNLolCn9BEjr19K .semi-switch-checked:hover{background-color:rgba(var(--coze-brand-6),1)!important}.max-row-banner--am7EdgLMud0NOVoi{margin-bottom:24px}.form-item-label-tooltip-icon--QY2KfCEtdgBd491U{color:#c6cacd;cursor:pointer}.table-setting-select--dnHazDoEUjYyovcb .semi-select:hover{border:1px solid var(--semi-color-border)!important}.table-structure-table--MG9cdF7jJY5hI_ud .semi-table-container{border:1px solid var(--Light-usage-border---color-border-1,rgba(29,28,35,.08));border-radius:8px;padding:0 8px}.table-structure-table--MG9cdF7jJY5hI_ud .semi-table-header .semi-table-row-head{background:none!important;padding-left:8px;padding-right:8px}.table-structure-table--MG9cdF7jJY5hI_ud .semi-table-body .semi-table-row{background:none!important}.table-structure-table--MG9cdF7jJY5hI_ud .semi-table-body .semi-table-row:hover>.semi-table-row-cell{background:none!important}.table-structure-table--MG9cdF7jJY5hI_ud .semi-table-row{cursor:default!important}.table-structure-table--MG9cdF7jJY5hI_ud .semi-table-row>.semi-table-row-cell{border-bottom:1px solid transparent!important;padding:12px 8px!important;padding-left:0}.table-structure-table--MG9cdF7jJY5hI_ud .semi-table-body{border-radius:8px;max-height:none!important;overflow:visible;padding:12px 0}.table-structure-table--MG9cdF7jJY5hI_ud .semi-table-row-cell:before{display:none}.table-structure-table--MG9cdF7jJY5hI_ud .semi-input-wrapper-disabled{background:none;border:none}.table-structure-table--MG9cdF7jJY5hI_ud .semi-input-wrapper-disabled .semi-input-disabled{color:var(--coz-fg-primary);font-weight:500;padding:0;-webkit-text-fill-color:var(--coz-fg-primary)}.table-structure-table--MG9cdF7jJY5hI_ud .semi-input-wrapper-disabled .semi-input-suffix{display:none}.table-structure-table--MG9cdF7jJY5hI_ud .semi-select-disabled{background:none;border:none;cursor:default;opacity:1}.table-structure-table--MG9cdF7jJY5hI_ud .semi-select-disabled:hover{background-color:transparent!important}.table-structure-table--MG9cdF7jJY5hI_ud .semi-select-disabled .semi-select-selection{cursor:default;margin:0}.table-structure-table--MG9cdF7jJY5hI_ud .semi-select-disabled .semi-select-selection .semi-select-selection-text{color:var(--coz-fg-primary);font-weight:500}.table-structure-table--MG9cdF7jJY5hI_ud .semi-select-disabled .semi-select-arrow{display:none}.table-structure-table-wrapper--XEeDhw25PqspguYD{height:auto}.table-empty-tips--ZoMUkqEPGQEYGFRs{color:#f93920;font-size:12px;font-weight:400;line-height:16px;padding:8px}.spin--f2LbMsX3UakC_ljm .semi-spin-wrapper div{color:rgba(29,28,35,.35);font-size:16px}.table-setting-option--QWDgYmoAyhII6sYY .semi-select-option-selected .semi-select-option-icon{color:#4d53e8}.table-name-form-field--y7HoMV8gdqgufq1h{padding-bottom:24px!important}.table-name-form-field--y7HoMV8gdqgufq1h .semi-input-wrapper-disabled{-webkit-text-fill-color:#1d1c23}.table-desc-form-field--nS3fufVBAkTzr5U7{padding-top:0!important}.prompt_disabled_popover--IEsO495oyIUfRfZ_ .semi-popover-icon-arrow{right:8px!important}.read_mode_popover--AHU8xgldsvktlhQV .semi-popover-icon-arrow{left:8px!important}.hidden-form-border--ahr4cZmGoBkBycwT .semi-table-container{border:none;border-radius:0;padding:0}',""]),l.locals={"th-tip-name":"th-tip-name--hwY6DC7OSEUmZ_AI",thTipName:"th-tip-name--hwY6DC7OSEUmZ_AI","th-tip-dot":"th-tip-dot--X_8WHZIlhHA4bpGq",thTipDot:"th-tip-dot--X_8WHZIlhHA4bpGq","form-input-error":"form-input-error--dP55C7sQiloG9dop",formInputError:"form-input-error--dP55C7sQiloG9dop","table-structure-form":"table-structure-form--XPNLolCn9BEjr19K",tableStructureForm:"table-structure-form--XPNLolCn9BEjr19K","max-row-banner":"max-row-banner--am7EdgLMud0NOVoi",maxRowBanner:"max-row-banner--am7EdgLMud0NOVoi","form-item-label-tooltip-icon":"form-item-label-tooltip-icon--QY2KfCEtdgBd491U",formItemLabelTooltipIcon:"form-item-label-tooltip-icon--QY2KfCEtdgBd491U","table-setting-select":"table-setting-select--dnHazDoEUjYyovcb",tableSettingSelect:"table-setting-select--dnHazDoEUjYyovcb","table-structure-table":"table-structure-table--MG9cdF7jJY5hI_ud",tableStructureTable:"table-structure-table--MG9cdF7jJY5hI_ud","table-structure-table-wrapper":"table-structure-table-wrapper--XEeDhw25PqspguYD",tableStructureTableWrapper:"table-structure-table-wrapper--XEeDhw25PqspguYD","table-empty-tips":"table-empty-tips--ZoMUkqEPGQEYGFRs",tableEmptyTips:"table-empty-tips--ZoMUkqEPGQEYGFRs",spin:"spin--f2LbMsX3UakC_ljm","table-setting-option":"table-setting-option--QWDgYmoAyhII6sYY",tableSettingOption:"table-setting-option--QWDgYmoAyhII6sYY","table-name-form-field":"table-name-form-field--y7HoMV8gdqgufq1h",tableNameFormField:"table-name-form-field--y7HoMV8gdqgufq1h","table-desc-form-field":"table-desc-form-field--nS3fufVBAkTzr5U7",tableDescFormField:"table-desc-form-field--nS3fufVBAkTzr5U7",prompt_disabled_popover:"prompt_disabled_popover--IEsO495oyIUfRfZ_",promptDisabledPopover:"prompt_disabled_popover--IEsO495oyIUfRfZ_",read_mode_popover:"read_mode_popover--AHU8xgldsvktlhQV",readModePopover:"read_mode_popover--AHU8xgldsvktlhQV","hidden-form-border":"hidden-form-border--ahr4cZmGoBkBycwT",hiddenFormBorder:"hidden-form-border--ahr4cZmGoBkBycwT"},t.Z=l},560973:function(e,t,a){var r=a(160052),o=a.n(r),i=a(570717),l=a.n(i)()(o());l.push([e.id,".container--xZ2XdSsySZoRlQhJ{flex:1 1;height:100%;width:100%}.container--xZ2XdSsySZoRlQhJ.scrollable--A6o_p6R3GCMergob{overflow:auto}.container--xZ2XdSsySZoRlQhJ>*{width:100%}.container--xZ2XdSsySZoRlQhJ .content--O94ZYwMsaPsZj3DT,.container--xZ2XdSsySZoRlQhJ .content--O94ZYwMsaPsZj3DT.centered--euwPEuxWEDEvViou{display:flex;flex-direction:column}.container--xZ2XdSsySZoRlQhJ .content--O94ZYwMsaPsZj3DT.centered--euwPEuxWEDEvViou{justify-content:center}.loading-more--RTRQ5bnBe1Is8ta6,.no-more--p22EHRoQJCoZGYNS{color:var(--light-usage-text-color-text-2,var(--light-usage-text-color-text-2,rgba(28,31,35,.6)));font-size:14px;font-weight:400;grid-column:1/-1;line-height:20px;padding:13px 0;position:relative;width:100%}.loading-more--RTRQ5bnBe1Is8ta6,.no-more--p22EHRoQJCoZGYNS,.spin--TbGOxrXLCB0ipESC{align-items:center;display:flex;justify-content:center}.spin--TbGOxrXLCB0ipESC{flex:1 1;flex-direction:column;height:100%!important;width:100%!important}.spin--TbGOxrXLCB0ipESC .semi-spin-children{display:flex;flex:1 1;flex-direction:column;height:100%;width:100%}",""]),l.locals={container:"container--xZ2XdSsySZoRlQhJ",scrollable:"scrollable--A6o_p6R3GCMergob",content:"content--O94ZYwMsaPsZj3DT",centered:"centered--euwPEuxWEDEvViou","loading-more":"loading-more--RTRQ5bnBe1Is8ta6",loadingMore:"loading-more--RTRQ5bnBe1Is8ta6","no-more":"no-more--p22EHRoQJCoZGYNS",noMore:"no-more--p22EHRoQJCoZGYNS",spin:"spin--TbGOxrXLCB0ipESC"},t.Z=l},478795:function(e,t,a){var r=a(160052),o=a.n(r),i=a(570717),l=a.n(i)()(o());l.push([e.id,".select--FVwuQq3Z_Qt9675r .semi-select:active,.select--FVwuQq3Z_Qt9675r .semi-select:hover{background-color:transparent!important}.select--FVwuQq3Z_Qt9675r .semi-select-focus,.select--FVwuQq3Z_Qt9675r .semi-select-open{border:none;outline:none}.select--FVwuQq3Z_Qt9675r .semi-select-selection .semi-select-selection-text{font-weight:600!important}.bottom-shadow--MguzmWjg6wsCn8oo{background:linear-gradient(180deg,hsla(0,0%,98%,0),#f9f9f9)}.label--CVBJUwmNrMw3CDPH{color:var(--Fg-COZ-fg-secondary,rgba(6,7,9,.5));font-size:14px;font-style:normal;font-weight:600;line-height:20px}.tips-wrapper--I0ltSawNsM6EDtm5{border-radius:12px}.tip-title--b33jIq93TUI0z_bi{color:var(--Fg-COZ-fg-plus,#fff);font-weight:500;margin-bottom:10px}.tip-desc--KyhJBiNo44wvRoCr,.tip-title--b33jIq93TUI0z_bi{font-size:12px;font-style:normal;line-height:16px}.tip-desc--KyhJBiNo44wvRoCr{color:hsla(0,0%,100%,.39);font-weight:400;margin:8px 0}.bot-bg--j9QDDzwKEDKoNwah{align-items:flex-start;align-self:stretch;background:var(--Mg-COZ-mg-primary,hsla(0,0%,100%,.06));border-radius:var(--default,8px);display:flex;flex-direction:column;gap:12px;padding:16px 12px}.bot-item--ZqAh_nvBcqJEa3yE{justify-content:start}.bot-img--JpdOMyuQY6IxIrSq,.bot-item--ZqAh_nvBcqJEa3yE{align-items:center;display:flex}.bot-img--JpdOMyuQY6IxIrSq{border-radius:50%;color:#fff;font-family:SF Pro Display;font-size:8px;font-style:normal;font-weight:500;height:24px!important;justify-content:center;line-height:7.254px;margin-right:8px;padding:8px;width:24px!important}.bot-img--JpdOMyuQY6IxIrSq.img-user--PtRbi3fnGoIIKeIg{background-color:var(--Fg-COZ-fg-color-blue,#0084ff)}.bot-img--JpdOMyuQY6IxIrSq.img-bot--gjtawgUWB3AFalUM{background-color:var(--Fg-COZ-fg-color-cyan,#00b9b5)}.bot-content--yBXTcpnX80UDssBz{border-radius:var(--default,8px);color:var(--Fg-COZ-fg-primary,hsla(0,0%,100%,.79));font-size:10px;font-style:normal;font-weight:400;line-height:14px;padding:8px 12px;width:100%}.bot-content--yBXTcpnX80UDssBz.content-user--uAgK9UtdQTAnwEIk{background:var(--Mg-COZ-mg-hglt-plus-dim,rgba(94,94,255,.37))}.bot-content--yBXTcpnX80UDssBz.content-bot--vj4Z7qnMXIwz5sJp{background:var(--Mg-COZ-mg-plus,hsla(0,0%,100%,.09))}.loading-more--GpJo34ZJP_wQbc1F,.no-more--xMWoHSlaUjYCziIP{align-items:center;color:var(--light-usage-text-color-text-2,var(--light-usage-text-color-text-2,rgba(28,31,35,.6)));display:flex;font-size:14px;font-weight:400;grid-column:1/-1;justify-content:center;line-height:20px;padding:13px 0;position:relative;width:100%}.database-add--AbCLw0yHcUbdRck5{color:var(--coz-fg-primary)!important}.database-add--AbCLw0yHcUbdRck5,.database-added--hGkhXW13SNMI1ySA{background-color:var(--coz-mg-primary)!important;font-size:12px;font-style:normal;font-weight:500;line-height:16.5px;max-height:30px;min-height:30px;min-width:48px}.database-added--hGkhXW13SNMI1ySA{color:var(--coz-fg-dim)!important}.database-added--hGkhXW13SNMI1ySA.added-mousein--UiM36bNkH9QNr5lj{color:var(--light-color-red-red-5,#ff441e)!important}.list--RVohd2nlEBgBlx1Z .semi-spin-children{height:100%}.database-add-disabled--WiyqjJUbp14euclq{background-color:var(--coz-mg-primary)!important;color:var(--coz-fg-dim)!important}",""]),l.locals={select:"select--FVwuQq3Z_Qt9675r","bottom-shadow":"bottom-shadow--MguzmWjg6wsCn8oo",bottomShadow:"bottom-shadow--MguzmWjg6wsCn8oo",label:"label--CVBJUwmNrMw3CDPH","tips-wrapper":"tips-wrapper--I0ltSawNsM6EDtm5",tipsWrapper:"tips-wrapper--I0ltSawNsM6EDtm5","tip-title":"tip-title--b33jIq93TUI0z_bi",tipTitle:"tip-title--b33jIq93TUI0z_bi","tip-desc":"tip-desc--KyhJBiNo44wvRoCr",tipDesc:"tip-desc--KyhJBiNo44wvRoCr","bot-bg":"bot-bg--j9QDDzwKEDKoNwah",botBg:"bot-bg--j9QDDzwKEDKoNwah","bot-item":"bot-item--ZqAh_nvBcqJEa3yE",botItem:"bot-item--ZqAh_nvBcqJEa3yE","bot-img":"bot-img--JpdOMyuQY6IxIrSq",botImg:"bot-img--JpdOMyuQY6IxIrSq","img-user":"img-user--PtRbi3fnGoIIKeIg",imgUser:"img-user--PtRbi3fnGoIIKeIg","img-bot":"img-bot--gjtawgUWB3AFalUM",imgBot:"img-bot--gjtawgUWB3AFalUM","bot-content":"bot-content--yBXTcpnX80UDssBz",botContent:"bot-content--yBXTcpnX80UDssBz","content-user":"content-user--uAgK9UtdQTAnwEIk",contentUser:"content-user--uAgK9UtdQTAnwEIk","content-bot":"content-bot--vj4Z7qnMXIwz5sJp",contentBot:"content-bot--vj4Z7qnMXIwz5sJp","loading-more":"loading-more--GpJo34ZJP_wQbc1F",loadingMore:"loading-more--GpJo34ZJP_wQbc1F","no-more":"no-more--xMWoHSlaUjYCziIP",noMore:"no-more--xMWoHSlaUjYCziIP","database-add":"database-add--AbCLw0yHcUbdRck5",databaseAdd:"database-add--AbCLw0yHcUbdRck5","database-added":"database-added--hGkhXW13SNMI1ySA",databaseAdded:"database-added--hGkhXW13SNMI1ySA","added-mousein":"added-mousein--UiM36bNkH9QNr5lj",addedMousein:"added-mousein--UiM36bNkH9QNr5lj",list:"list--RVohd2nlEBgBlx1Z","database-add-disabled":"database-add-disabled--WiyqjJUbp14euclq",databaseAddDisabled:"database-add-disabled--WiyqjJUbp14euclq"},t.Z=l},963840:function(e,t,a){var r=a(160052),o=a.n(r),i=a(570717),l=a.n(i)()(o());l.push([e.id,".select--OH9syBba3Y87zO7x .semi-select:active,.select--OH9syBba3Y87zO7x .semi-select:hover{background-color:transparent!important}.select--OH9syBba3Y87zO7x .semi-select-focus,.select--OH9syBba3Y87zO7x .semi-select-open{border:none;outline:none}.select--OH9syBba3Y87zO7x .semi-select-selection .semi-select-selection-text{font-weight:600!important}.bottom-shadow--FXccjayfcD7hxvP6{background:linear-gradient(180deg,hsla(0,0%,98%,0),#f9f9f9)}.label--tbmPSUhJSoKm5oaz{color:var(--Fg-COZ-fg-secondary,rgba(6,7,9,.5));font-size:14px;font-style:normal;font-weight:600;line-height:20px}.tips-wrapper--Tw849vQd2k5VA96t{border-radius:12px}.tip-title--sZB0QJIO4uqBKNxL{color:var(--Fg-COZ-fg-plus,#fff);font-weight:500;margin-bottom:10px}.tip-desc--DciFevgTmO4bAiVE,.tip-title--sZB0QJIO4uqBKNxL{font-size:12px;font-style:normal;line-height:16px}.tip-desc--DciFevgTmO4bAiVE{color:hsla(0,0%,100%,.39);font-weight:400;margin:8px 0}.bot-bg--U4dCs9zaaUg9PyIY{align-items:flex-start;align-self:stretch;background:var(--Mg-COZ-mg-primary,hsla(0,0%,100%,.06));border-radius:var(--default,8px);display:flex;flex-direction:column;gap:12px;padding:16px 12px}.bot-item--m9GHvZNO4CA6hKYH{justify-content:start}.bot-img--PyvforoBG4Ij1KBe,.bot-item--m9GHvZNO4CA6hKYH{align-items:center;display:flex}.bot-img--PyvforoBG4Ij1KBe{border-radius:50%;color:#fff;font-family:SF Pro Display;font-size:8px;font-style:normal;font-weight:500;height:24px!important;justify-content:center;line-height:7.254px;margin-right:8px;padding:8px;width:24px!important}.bot-img--PyvforoBG4Ij1KBe.img-user--FrRfAxzVtuUs2JeI{background-color:var(--Fg-COZ-fg-color-blue,#0084ff)}.bot-img--PyvforoBG4Ij1KBe.img-bot--Ha7EkvsJAQEkiHJs{background-color:var(--Fg-COZ-fg-color-cyan,#00b9b5)}.bot-content--h9GdKPziKvkuU2Yf{border-radius:var(--default,8px);color:var(--Fg-COZ-fg-primary,hsla(0,0%,100%,.79));font-size:10px;font-style:normal;font-weight:400;line-height:14px;padding:8px 12px;width:100%}.bot-content--h9GdKPziKvkuU2Yf.content-user--lpc8uG_ZQZQYJ1Wa{background:var(--Mg-COZ-mg-hglt-plus-dim,rgba(94,94,255,.37))}.bot-content--h9GdKPziKvkuU2Yf.content-bot--I46oGwiiJZAmz54R{background:var(--Mg-COZ-mg-plus,hsla(0,0%,100%,.09))}.loading-more--ZUsRWYOvjMbUhiZW,.no-more--MhQkq3wOXS8RZ_Vm{align-items:center;color:var(--light-usage-text-color-text-2,var(--light-usage-text-color-text-2,rgba(28,31,35,.6)));display:flex;font-size:14px;font-weight:400;grid-column:1/-1;justify-content:center;line-height:20px;padding:13px 0;position:relative;width:100%}.database-add--v7tOI_m1qXAy3xZu{color:var(--coz-fg-primary)!important}.database-add--v7tOI_m1qXAy3xZu,.database-added--E3qovTTD0YQvo_nf{background-color:var(--coz-mg-primary)!important;font-size:12px;font-style:normal;font-weight:500;line-height:16.5px;max-height:30px;min-height:30px;min-width:48px}.database-added--E3qovTTD0YQvo_nf{color:var(--coz-fg-dim)!important}.database-added--E3qovTTD0YQvo_nf.added-mousein--sRwuzQHZBeMBFZU7{color:var(--light-color-red-red-5,#ff441e)!important}.list--vL1Is684R20pxr27 .semi-spin-children{height:100%}.scroll-mask--Axq3stcnZU181P9k{-webkit-mask:linear-gradient(180deg,#fff 94%,hsla(0,0%,100%,0));mask:linear-gradient(180deg,#fff 94%,hsla(0,0%,100%,0))}",""]),l.locals={select:"select--OH9syBba3Y87zO7x","bottom-shadow":"bottom-shadow--FXccjayfcD7hxvP6",bottomShadow:"bottom-shadow--FXccjayfcD7hxvP6",label:"label--tbmPSUhJSoKm5oaz","tips-wrapper":"tips-wrapper--Tw849vQd2k5VA96t",tipsWrapper:"tips-wrapper--Tw849vQd2k5VA96t","tip-title":"tip-title--sZB0QJIO4uqBKNxL",tipTitle:"tip-title--sZB0QJIO4uqBKNxL","tip-desc":"tip-desc--DciFevgTmO4bAiVE",tipDesc:"tip-desc--DciFevgTmO4bAiVE","bot-bg":"bot-bg--U4dCs9zaaUg9PyIY",botBg:"bot-bg--U4dCs9zaaUg9PyIY","bot-item":"bot-item--m9GHvZNO4CA6hKYH",botItem:"bot-item--m9GHvZNO4CA6hKYH","bot-img":"bot-img--PyvforoBG4Ij1KBe",botImg:"bot-img--PyvforoBG4Ij1KBe","img-user":"img-user--FrRfAxzVtuUs2JeI",imgUser:"img-user--FrRfAxzVtuUs2JeI","img-bot":"img-bot--Ha7EkvsJAQEkiHJs",imgBot:"img-bot--Ha7EkvsJAQEkiHJs","bot-content":"bot-content--h9GdKPziKvkuU2Yf",botContent:"bot-content--h9GdKPziKvkuU2Yf","content-user":"content-user--lpc8uG_ZQZQYJ1Wa",contentUser:"content-user--lpc8uG_ZQZQYJ1Wa","content-bot":"content-bot--I46oGwiiJZAmz54R",contentBot:"content-bot--I46oGwiiJZAmz54R","loading-more":"loading-more--ZUsRWYOvjMbUhiZW",loadingMore:"loading-more--ZUsRWYOvjMbUhiZW","no-more":"no-more--MhQkq3wOXS8RZ_Vm",noMore:"no-more--MhQkq3wOXS8RZ_Vm","database-add":"database-add--v7tOI_m1qXAy3xZu",databaseAdd:"database-add--v7tOI_m1qXAy3xZu","database-added":"database-added--E3qovTTD0YQvo_nf",databaseAdded:"database-added--E3qovTTD0YQvo_nf","added-mousein":"added-mousein--sRwuzQHZBeMBFZU7",addedMousein:"added-mousein--sRwuzQHZBeMBFZU7",list:"list--vL1Is684R20pxr27","scroll-mask":"scroll-mask--Axq3stcnZU181P9k",scrollMask:"scroll-mask--Axq3stcnZU181P9k"},t.Z=l}}]);
//# sourceMappingURL=https://sourcemap-redirect.coze.cn/obj/coze-sourcemap/ol-sourcemap/bot/1.0.2.2232/58479.0de8f6a2.js.map