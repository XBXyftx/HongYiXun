(self.webpackChunkapp_botstudio_main=self.webpackChunkapp_botstudio_main||[]).push([["89797"],{559310:function(e){if("undefined"!=typeof Element&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},417277:function(e,t,i){var n=i(559310);function r(e,t,i,n,r){var a=o.apply(this,arguments);return e.addEventListener(i,a,r),{destroy:function(){e.removeEventListener(i,a,r)}}}function o(e,t,i,r){return function(i){i.delegateTarget=n(i.target,t),i.delegateTarget&&r.call(e,i)}}e.exports=function(e,t,i,n,o){return"function"==typeof e.addEventListener?r.apply(null,arguments):"function"==typeof i?r.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return r(e,t,i,n,o)}))}},505978:function(e){var t,i;t=0,i=function(){return function e(t,i,n){var r,o,a=window,s="application/octet-stream",l=n||s,c=t,u=!i&&!n&&c,h=document.createElement("a"),d=function(e){return String(e)},p=a.Blob||a.MozBlob||a.WebKitBlob||d,g=i||"download";if(p=p.call?p.bind(a):Blob,"true"===String(this)&&(l=(c=[c,l])[0],c=c[1]),u&&u.length<2048&&(g=u.split("/").pop().split("?")[0],h.href=u,-1!==h.href.indexOf(u))){var f=new XMLHttpRequest;return f.open("GET",u,!0),f.responseType="blob",f.onload=function(t){e(t.target.response,g,s)},setTimeout(function(){f.send()},0),f}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424)||p===d)return navigator.msSaveBlob?navigator.msSaveBlob(x(c),g):k(c);l=(c=x(c)).type||s}else if(/([\x80-\xff])/.test(c)){for(var y=0,v=new Uint8Array(c.length),m=v.length;y<m;++y)v[y]=c.charCodeAt(y);c=new p([v],{type:l})}function x(e){for(var t=e.split(/[:;,]/),i=t[1],n=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),r=n.length,o=0,a=new Uint8Array(r);o<r;++o)a[o]=n.charCodeAt(o);return new p([a],{type:i})}function k(e,t){if("download"in h)return h.href=e,h.setAttribute("download",g),h.className="download-js-link",h.innerHTML="downloading...",h.style.display="none",document.body.appendChild(h),setTimeout(function(){h.click(),document.body.removeChild(h),!0===t&&setTimeout(function(){a.URL.revokeObjectURL(h.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),!window.open(e)&&confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var i=document.createElement("iframe");document.body.appendChild(i),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),i.src=e,setTimeout(function(){document.body.removeChild(i)},333)}if(r=c instanceof p?c:new p([c],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(r,g);if(a.URL)k(a.URL.createObjectURL(r),!0);else{if("string"==typeof r||r.constructor===d)try{return k("data:"+l+";base64,"+a.btoa(r))}catch(e){return k("data:"+l+","+encodeURIComponent(r))}(o=new FileReader).onload=function(e){k(this.result)},o.readAsDataURL(r)}return!0}},"function"==typeof define&&define.amd?define([],i):e.exports=i()},393178:function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach(function(t){c(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x(n.key),n)}}function l(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t,i){return(t=x(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function u(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}i.d(t,{Ac:function(){return o},IP:function(){return h},J2:function(){return g},Lc:function(){return p},PA:function(){return a},U2:function(){return y},WY:function(){return f},XW:function(){return u},Zj:function(){return r},_x:function(){return c},qH:function(){return l},u:function(){return v}});function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return p(e)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var i,n=h(e);return i=t?Reflect.construct(n,arguments,h(this).constructor):n.apply(this,arguments),g(this,i)}}function y(){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(arguments.length<3?e:i):r.value}}).apply(this,arguments)}function v(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return m(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}function x(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}},674180:function(e,t,i){"use strict";i.r(t),i.d(t,{ABORT:function(){return P},AFTER_DEFINITION_CHANGE:function(){return Y},AUTOPLAY_PREVENTED:function(){return I},AUTOPLAY_STARTED:function(){return A},BEFORE_DEFINITION_CHANGE:function(){return G},BUFFER_CHANGE:function(){return T},CANPLAY:function(){return d},CANPLAY_THROUGH:function(){return p},COMPLETE:function(){return D},CSS_FULLSCREEN_CHANGE:function(){return B},DEFINITION_CHANGE:function(){return j},DESTROY:function(){return O},DOWNLOAD_SPEED_CHANGE:function(){return M},DURATION_CHANGE:function(){return g},EMPTIED:function(){return b},ENDED:function(){return o},ENTER_PLAYER:function(){return H},ERROR:function(){return s},FPS_STUCK:function(){return el},FULLSCREEN_CHANGE:function(){return U},LEAVE_PLAYER:function(){return F},LOADED_DATA:function(){return y},LOADED_METADATA:function(){return v},LOADING:function(){return Z},LOAD_START:function(){return k},MINI_STATE_CHANGE:function(){return W},PAUSE:function(){return a},PIP_CHANGE:function(){return X},PLAY:function(){return n},PLAYER_BLUR:function(){return w},PLAYER_FOCUS:function(){return E},PLAYING:function(){return r},PLAYNEXT:function(){return Q},PROGRESS:function(){return x},RATE_CHANGE:function(){return m},READY:function(){return S},REPLAY:function(){return R},RESET:function(){return ei},RETRY:function(){return z},ROTATE:function(){return q},SCREEN_SHOT:function(){return J},SEEKED:function(){return c},SEEKING:function(){return l},SEI_PARSED:function(){return V},SHORTCUT:function(){return $},SOURCE_ERROR:function(){return en},SOURCE_SUCCESS:function(){return er},STALLED:function(){return _},STATS_EVENTS:function(){return es},SUSPEND:function(){return C},SWITCH_SUBTITLE:function(){return eo},TIME_UPDATE:function(){return u},URL_CHANGE:function(){return N},URL_NULL:function(){return L},USER_ACTION:function(){return et},VIDEO_EVENTS:function(){return ea},VIDEO_RESIZE:function(){return K},VOLUME_CHANGE:function(){return f},WAITING:function(){return h},XGLOG:function(){return ee}});var n="play",r="playing",o="ended",a="pause",s="error",l="seeking",c="seeked",u="timeupdate",h="waiting",d="canplay",p="canplaythrough",g="durationchange",f="volumechange",y="loadeddata",v="loadedmetadata",m="ratechange",x="progress",k="loadstart",b="emptied",_="stalled",C="suspend",P="abort",T="bufferedChange",E="focus",w="blur",S="ready",L="urlNull",A="autoplay_started",I="autoplay_was_prevented",D="complete",R="replay",O="destroy",N="urlchange",M="download_speed_change",F="leaveplayer",H="enterplayer",Z="loading",U="fullscreen_change",B="cssFullscreen_change",W="mini_state_change",j="definition_change",G="before_definition_change",Y="after_definition_change",V="SEI_PARSED",z="retry",K="video_resize",X="pip_change",q="rotate",J="screenShot",Q="playnext",$="shortcut",ee="xglog",et="user_action",ei="reset",en="source_error",er="source_success",eo="switch_subtitle",ea=["play","playing","ended","pause","error","seeking","seeked","timeupdate","waiting","canplay","canplaythrough","durationchange","volumechange","loadeddata","loadedmetadata","ratechange","progress","loadstart","emptied","stalled","suspend","abort","lowdecode"],es={STATS_INFO:"stats_info",STATS_DOWNLOAD:"stats_download",STATS_RESET:"stats_reset"},el="fps_stuck"},819955:function(e,t,i){"use strict";i.d(t,{Z:()=>tV});var n=i("393178"),r=i("159039"),o=i.n(r),a=i("522763"),s={android:/(Android)\s([\d.]+)/,ios:/(Version)\/([\d.]+)/},l=["avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","avc1.42E01E","mp4v.20.8","mp4v.20.8, mp4a.40.2","mp4v.20.240, mp4a.40.2"],c={get device(){return c.os.isPc?"pc":"mobile"},get browser(){if("undefined"==typeof navigator)return"";var u=navigator.userAgent.toLowerCase(),h={ie:/rv:([\d.]+)\) like gecko/,firefox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(h).filter(function(e){return h[e].test(u)}))[0]},get os(){if("undefined"==typeof navigator)return{};var d=navigator.userAgent,p=/(?:Windows Phone)/.test(d),g=/(?:SymbianOS)/.test(d)||p,f=/(?:Android)/.test(d),y=/(?:Firefox)/.test(d),v=/(?:iPad|PlayBook)/.test(d)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,m=v||f&&!/(?:Mobile)/.test(d)||y&&/(?:Tablet)/.test(d),x=/(?:iPhone)/.test(d)&&!m;return{isTablet:m,isPhone:x,isIpad:v,isIos:x||v,isAndroid:f,isPc:!x&&!f&&!g&&!m,isSymbian:g,isWindowsPhone:p,isFireFox:y}},get osVersion(){if("undefined"==typeof navigator)return 0;var k=navigator.userAgent,b="",_=(b=/(?:iPhone)|(?:iPad|PlayBook)/.test(k)?s.ios:s.android)?b.exec(k):[];if(_&&_.length>=3){var C=_[2].split(".");return C.length>0?parseInt(C[0]):0}return 0},get isWeixin(){if("undefined"==typeof navigator)return!1;if(/(micromessenger)\/([\d.]+)/.exec(navigator.userAgent.toLocaleLowerCase()))return!0;return!1},isSupportMP4:function(){var e={isSupport:!1,mime:""};if("undefined"==typeof document)return e;if(this.supportResult)return this.supportResult;var t=document.createElement("video");return"function"==typeof t.canPlayType&&l.map(function(i){"probably"===t.canPlayType('video/mp4; codecs="'.concat(i,'"'))&&(e.isSupport=!0,e.mime+="||".concat(i))}),this.supportResult=e,t=null,e},isMSESupport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'video/mp4; codecs="avc1.42E01E,mp4a.40.2"';if("undefined"==typeof MediaSource||!MediaSource)return!1;try{return MediaSource.isTypeSupported(e)}catch(t){return this._logger.error(e,t),!1}},isHevcSupported:function(){return"undefined"!=typeof MediaSource&&!!MediaSource.isTypeSupported&&(MediaSource.isTypeSupported('video/mp4;codecs="hev1.1.6.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.2.4.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.3.E.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.4.10.L120.90"'))},probeConfigSupported:function(e){var t={supported:!1,smooth:!1,powerEfficient:!1};if(!e||"undefined"==typeof navigator)return Promise.resolve(t);if(navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo)return navigator.mediaCapabilities.decodingInfo(e);var i=e.video||{},n=e.audio||{};try{var r=MediaSource.isTypeSupported(i.contentType),o=MediaSource.isTypeSupported(n.contentType);return Promise.resolve({supported:r&&o,smooth:!1,powerEfficient:!1})}catch(e){return Promise.resolve(t)}}},P="3.0.20",T={1:"media",2:"media",3:"media",4:"media",5:"media",6:"media"},E={1:5101,2:5102,3:5103,4:5104,5:5105,6:5106},w=(0,n.qH)(function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{errorType:"",errorCode:0,errorMessage:"",originError:"",ext:{},mediaError:null};(0,n.PA)(this,e);var r=t&&t.i18n?t.i18n.ERROR_TYPES:null;if(t.media){var o=i.mediaError?i.mediaError:t.media.error||{},s=t.duration,l=t.currentTime,c=t.ended,u=t.src,h=t.currentSrc,d=t.media,p=d.readyState,g=d.networkState,f=i.errorCode||o.code;E[f]&&(f=E[f]);var y={playerVersion:P,currentTime:l,duration:s,ended:c,readyState:p,networkState:g,src:u||h,errorType:i.errorType,errorCode:f,message:i.errorMessage||o.message,mediaError:o,originError:i.originError?i.originError.stack:"",host:a.ZP.getHostFromUrl(u||h)};return i.ext&&Object.keys(i.ext).map(function(e){y[e]=i.ext[e]}),y}if(arguments.length>1){for(var v={playerVersion:P,domain:document.domain},m=["errorType","currentTime","duration","networkState","readyState","src","currentSrc","ended","errd","errorCode","mediaError"],x=0;x<arguments.length;x++)v[m[x]]=arguments[x];return v.ex=r?(r[arguments[0]]||{}).msg:"",v}}),S=i("674180");function L(e,t){if(!!this&&!!this.emit)"error"===e?this.errorHandler(e,t.error):this.emit(e,t)}var A=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(e){(0,n.PA)(this,i),(r=t.call(this,e))._hasStart=!1,r._currentTime=0,r._duration=0,r._internalOp={},r._lastMuted=!1,r.vtype="MP4",r._rate=-1,r.mediaConfig=Object.assign({},{controls:!1,autoplay:e.autoplay,playsinline:e.playsinline,"x5-playsinline":e.playsinline,"webkit-playsinline":e.playsinline,"x5-video-player-fullscreen":e["x5-video-player-fullscreen"]||e.x5VideoPlayerFullscreen,"x5-video-orientation":e["x5-video-orientation"]||e.x5VideoOrientation,airplay:e.airplay,"webkit-airplay":e.airplay,tabindex:0|e.tabindex,mediaType:e.mediaType||"video","data-index":-1},e.videoConfig,e.videoAttributes);var r,o=e["x5-video-player-type"]||e.x5VideoPlayerType;return c.isWeixin&&c.os.isAndroid&&o&&(r.mediaConfig["x5-video-player-type"]=o,delete r.mediaConfig.playsinline,delete r.mediaConfig["webkit-playsinline"],delete r.mediaConfig["x5-playsinline"]),e.loop&&(r.mediaConfig.loop="loop"),e.autoplayMuted&&!Object.prototype.hasOwnProperty.call(r.mediaConfig,"muted")&&(r.mediaConfig.muted=!0),r.media=a.ZP.createDom(r.mediaConfig.mediaType,"",r.mediaConfig,""),e.defaultPlaybackRate&&(r.media.defaultPlaybackRate=r.media.playbackRate=e.defaultPlaybackRate),"Number"===a.ZP.typeOf(e.volume)&&(r.volume=e.volume),e.autoplayMuted&&(r.media.muted=!0,r._lastMuted=!0),e.autoplay&&(r.media.autoplay=!0),r._interval={},r.mediaEventMiddleware={},r.attachVideoEvents(),r}return(0,n.qH)(i,[{key:"setEventsMiddleware",value:function(e){var t=this;Object.keys(e).map(function(i){t.mediaEventMiddleware[i]=e[i]})}},{key:"removeEventsMiddleware",value:function(e){var t=this;Object.keys(e).map(function(e){delete t.mediaEventMiddleware[e]})}},{key:"attachVideoEvents",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.media;!this._evHandlers&&(this._evHandlers=S.VIDEO_EVENTS.map(function(t){var i,r,o="on".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));return"function"==typeof e[o]&&e.on(t,e[o]),(0,n._x)({},t,(i=t,r=e,function(e,t){var n={player:r,eventName:i,originalEvent:e,detail:e.detail||{},timeStamp:e.timeStamp,currentTime:r.currentTime,duration:r.duration,paused:r.paused,ended:r.ended,isInternalOp:!!r._internalOp[e.type],muted:r.muted,volume:r.volume,host:a.ZP.getHostFromUrl(r.currentSrc),vtype:r.vtype};if(r.removeInnerOP(e.type),"timeupdate"===i&&(r._currentTime=r.media&&r.media.currentTime),"ratechange"===i){var o=r.media?r.media.playbackRate:0;if(o&&r._rate===o)return;r._rate=r.media&&r.media.playbackRate}if("durationchange"===i&&(r._duration=r.media.duration),"volumechange"===i&&(n.isMutedChange=r._lastMuted!==r.muted,r._lastMuted=r.muted),"error"===i&&(n.error=t||r.video.error),r.mediaEventMiddleware[i]){var s=L.bind(r,i,n);try{r.mediaEventMiddleware[i].call(r,n,s)}catch(e){throw L.call(r,i,n),e}}else L.call(r,i,n)}))})),this._evHandlers.forEach(function(e){var i=Object.keys(e)[0];t.addEventListener(i,e[i],!1)})}},{key:"detachVideoEvents",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.media;this._evHandlers.forEach(function(e){var i=Object.keys(e)[0];t.removeEventListener(i,e[i],!1)}),this._evHandlers.forEach(function(t){var i=Object.keys(t)[0],n="on".concat(i.charAt(0).toUpperCase()).concat(i.slice(1));"function"==typeof e[n]&&e.off(i,e[n])}),this._evHandlers=null}},{key:"_attachSourceEvents",value:function(e,t){var i=this;e.removeAttribute("src"),e.load(),t.forEach(function(e,t){i.media.appendChild(a.ZP.createDom("source","",{src:"".concat(e.src),type:"".concat(e.type||""),"data-index":t+1}))});var n=e.children;if(!!n){this._videoSourceCount=n.length,this._videoSourceIndex=n.length,this._vLoadeddata=function(e){i.emit(S.SOURCE_SUCCESS,{src:e.target.currentSrc,host:a.ZP.getHostFromUrl(e.target.currentSrc)})};for(var r=null,o=0;o<this._evHandlers.length;o++)if("error"===Object.keys(this._evHandlers[o])[0]){r=this._evHandlers[o];break}this._sourceError||(this._sourceError=function(e){var t=parseInt(e.target.getAttribute("data-index"),10);if(i._videoSourceIndex--,0===i._videoSourceIndex||t>=i._videoSourceCount){var n={code:4,message:"sources_load_error"};r?r.error(e,n):i.errorHandler("error",n)}var o=T["4"];i.emit(S.SOURCE_ERROR,new w(i,{errorType:o,errorCode:4,errorMessage:"sources_load_error",mediaError:{code:4,message:"sources_load_error"},src:e.target.src}))});for(var s=0;s<n.length;s++)n[s].addEventListener("error",this._sourceError);e.addEventListener("loadeddata",this._vLoadeddata)}}},{key:"_detachSourceEvents",value:function(e){var t=e.children;if(!!t&&0!==t.length&&!!this._sourceError){for(var i=0;i<t.length;i++)t[i].removeEventListener("error",this._sourceError);for(;t.length>0;)e.removeChild(t[0]);this._vLoadeddata&&e.removeEventListener("loadeddata",this._vLoadeddata)}}},{key:"errorHandler",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.media&&(this.media.error||t)){var i=this.media.error||t,n=i.code?T[i.code]:"other",r=i.message;!this.media.currentSrc&&(i={code:6,message:r="empty_src"}),this.emit(e,new w(this,{errorType:n,errorCode:i.code,errorMessage:i.message||"",mediaError:i}))}}},{key:"destroy",value:function(){for(var e in this.media&&(this.media.pause&&(this.media.pause(),this.media.muted=!0),this.media.removeAttribute("src"),this.media.load()),this._currentTime=0,this._duration=0,this.mediaConfig=null,this._interval)Object.prototype.hasOwnProperty.call(this._interval,e)&&(clearInterval(this._interval[e]),this._interval[e]=null);this.detachVideoEvents(),this.media=null,this.mediaEventMiddleware={},this.removeAllListeners()}},{key:"video",get:function(){return this.media},set:function(e){this.media=e}},{key:"play",value:function(){return this.media?this.media.play():null}},{key:"pause",value:function(){this.media&&this.media.pause()}},{key:"load",value:function(){this.media&&this.media.load()}},{key:"canPlayType",value:function(e){return!!this.media&&this.media.canPlayType(e)}},{key:"getBufferedRange",value:function(e){var t=[0,0];if(!this.media)return t;!e&&(e=this.media.buffered);var i=this.media.currentTime;if(e)for(var n=0,r=e.length;n<r&&(t[0]=e.start(n),t[1]=e.end(n),!(t[0]<=i)||!(i<=t[1]));n++);return t[0]-i<=0&&i-t[1]<=0?t:[0,0]}},{key:"autoplay",get:function(){return!!this.media&&this.media.autoplay},set:function(e){this.media&&(this.media.autoplay=e)}},{key:"buffered",get:function(){return this.media?this.media.buffered:null}},{key:"buffered2",get:function(){return this.media&&this.media.buffered?a.ZP.getBuffered2(this.media.buffered):null}},{key:"bufferedPoint",get:function(){var e={start:0,end:0};if(!this.media)return e;var t=this.media.buffered;if(!t||0===t.length)return e;for(var i=0;i<t.length;i++)if((t.start(i)<=this.currentTime||.1>t.start(i))&&t.end(i)>=this.currentTime)return{start:t.start(i),end:t.end(i)};return e}},{key:"crossOrigin",get:function(){return this.media?this.media.crossOrigin:""},set:function(e){this.media&&(this.media.crossOrigin=e)}},{key:"currentSrc",get:function(){return this.media?this.media.currentSrc:""},set:function(e){this.media&&(this.media.currentSrc=e)}},{key:"currentTime",get:function(){return this.media?void 0!==this.media.currentTime?this.media.currentTime:this._currentTime:0},set:function(e){this.media&&(this.media.currentTime=e)}},{key:"defaultMuted",get:function(){return!!this.media&&this.media.defaultMuted},set:function(e){this.media&&(this.media.defaultMuted=e)}},{key:"duration",get:function(){return this._duration}},{key:"ended",get:function(){return!!this.media&&this.media.ended}},{key:"error",get:function(){return this.media.error}},{key:"errorNote",get:function(){return this.media.error?["MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"][this.media.error.code-1]:""}},{key:"loop",get:function(){return!!this.media&&this.media.loop},set:function(e){this.media&&(this.media.loop=e)}},{key:"muted",get:function(){return!!this.media&&this.media.muted},set:function(e){if(!!this.media&&this.media.muted!==e)this._lastMuted=this.media.muted,this.media.muted=e}},{key:"networkState",get:function(){return this.media.networkState}},{key:"paused",get:function(){return!this.media||this.media.paused}},{key:"playbackRate",get:function(){return this.media?this.media.playbackRate:0},set:function(e){if(!!this.media&&e!==1/0)this.media.defaultPlaybackRate=e,this.media.playbackRate=e}},{key:"played",get:function(){return this.media?this.media.played:null}},{key:"preload",get:function(){return!!this.media&&this.media.preload},set:function(e){this.media&&(this.media.preload=e)}},{key:"readyState",get:function(){return this.media.readyState}},{key:"seekable",get:function(){return!!this.media&&this.media.seekable}},{key:"seeking",get:function(){return!!this.media&&this.media.seeking}},{key:"src",get:function(){return this.media?this.media.src:""},set:function(e){if(!!this.media){if(this.emit(S.URL_CHANGE,e),this.emit(S.WAITING),this._currentTime=0,this._duration=0,a.ZP.isMSE(this.media)){this.onWaiting();return}this._detachSourceEvents(this.media),"Array"===a.ZP.typeOf(e)?this._attachSourceEvents(this.media,e):e?this.media.src=e:this.media.removeAttribute("src"),this.load()}}},{key:"volume",get:function(){return this.media?this.media.volume:0},set:function(e){if(e!==1/0&&!!this.media)this.media.volume=e}},{key:"aspectRatio",get:function(){return this.media?this.media.videoWidth/this.media.videoHeight:0}},{key:"addInnerOP",value:function(e){this._internalOp[e]=!0}},{key:"removeInnerOP",value:function(e){delete this._internalOp[e]}},{key:"emit",value:function(e,t){for(var r,o=arguments.length,a=Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];(r=(0,n.U2)((0,n.IP)(i.prototype),"emit",this)).call.apply(r,[this,e,t].concat(a))}},{key:"on",value:function(e,t){for(var r,o=arguments.length,a=Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];(r=(0,n.U2)((0,n.IP)(i.prototype),"on",this)).call.apply(r,[this,e,t].concat(a))}},{key:"once",value:function(e,t){for(var r,o=arguments.length,a=Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];(r=(0,n.U2)((0,n.IP)(i.prototype),"once",this)).call.apply(r,[this,e,t].concat(a))}},{key:"off",value:function(e,t){for(var r,o=arguments.length,a=Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];(r=(0,n.U2)((0,n.IP)(i.prototype),"off",this)).call.apply(r,[this,e,t].concat(a))}},{key:"offAll",value:function(){(0,n.U2)((0,n.IP)(i.prototype),"removeAllListeners",this).call(this)}}]),i}(o()),I=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"xgplayer",version:1,db:null,ojstore:{name:"xg-m4a",keypath:"vid"}};(0,n.PA)(this,e),this.indexedDB=window.indexedDB||window.webkitindexedDB,this.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange,this.myDB=t}return(0,n.qH)(e,[{key:"openDB",value:function(e){var t=this,i=this,n=this.myDB.version||1,r=i.indexedDB.open(i.myDB.name,n);r.onerror=function(e){},r.onsuccess=function(n){t.myDB.db=n.target.result,e.call(i)},r.onupgradeneeded=function(e){var t=e.target.result;e.target.transaction,!t.objectStoreNames.contains(i.myDB.ojstore.name)&&t.createObjectStore(i.myDB.ojstore.name,{keyPath:i.myDB.ojstore.keypath})}}},{key:"deletedb",value:function(){this.indexedDB.deleteDatabase(this.myDB.name)}},{key:"closeDB",value:function(){this.myDB.db.close()}},{key:"addData",value:function(e,t){for(var i,n=this.myDB.db.transaction(e,"readwrite").objectStore(e),r=0;r<t.length;r++)(i=n.add(t[r])).onerror=function(){},i.onsuccess=function(){}}},{key:"putData",value:function(e,t){for(var i,n=this.myDB.db.transaction(e,"readwrite").objectStore(e),r=0;r<t.length;r++)(i=n.put(t[r])).onerror=function(){},i.onsuccess=function(){}}},{key:"getDataByKey",value:function(e,t,i){var n=this,r=this.myDB.db.transaction(e,"readwrite").objectStore(e).get(t);r.onerror=function(){i.call(n,null)},r.onsuccess=function(e){var t=e.target.result;i.call(n,t)}}},{key:"deleteData",value:function(e,t){this.myDB.db.transaction(e,"readwrite").objectStore(e).delete(t)}},{key:"clearData",value:function(e){this.myDB.db.transaction(e,"readwrite").objectStore(e).clear()}}]),e}(),D=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],R=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],O=["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],N="data-xgplayerid",M=i("61581"),F=i("174118"),H=function(){function e(){var t=this;if((0,n.PA)(this,e),(0,n._x)(this,"__trigger",function(e){var i=new Date().getTime();t.timeStamp=i;for(var n=0;n<e.length;n++)t.__runHandler(e[n].target)}),this.__handlers=[],this.timeStamp=0,this.observer=null,!!window.ResizeObserver)try{this.observer=new window.ResizeObserver((0,a.P2)(this.__trigger,100,{trailing:!0})),this.timeStamp=new Date().getTime()}catch(e){console.error(e)}}return(0,n.qH)(e,[{key:"addObserver",value:function(e,t){if(!!this.observer){this.observer.observe(e);for(var i=e.getAttribute(N),n=this.__handlers,r=-1,o=0;o<n.length;o++)n[o]&&e===n[o].target&&(r=o);r>-1?this.__handlers[r].handler=t:this.__handlers.push({target:e,handler:t,playerId:i})}}},{key:"unObserver",value:function(e){var t,i=-1;this.__handlers.map(function(t,n){e===t.target&&(i=n)});try{null===(t=this.observer)||void 0===t||t.unobserve(e)}catch(e){}i>-1&&this.__handlers.splice(i,1)}},{key:"destroyObserver",value:function(){var e;null===(e=this.observer)||void 0===e||e.disconnect(),this.observer=null,this.__handlers=null}},{key:"__runHandler",value:function(e){for(var t=this.__handlers,i=0;i<t.length;i++)if(t[i]&&e===t[i].target){try{t[i].handler(e)}catch(e){console.error(e)}return!0}return!1}}]),e}(),Z=null,U={pluginGroup:{},init:function(e){var t,i,n=e._pluginInfoId;!n&&(n=new Date().getTime(),e._pluginInfoId=n),e.config.closeResizeObserver||(t=e.root,i=function(){e.resize()},Z||(Z=new H),Z.addObserver(t,i)),this.pluginGroup[n]={_originalOptions:e.config||{},_plugins:{}}},formatPluginInfo:function(e,t){var i=null,n=null;return e.plugin&&"function"==typeof e.plugin?(i=e.plugin,n=e.options):(i=e,n={}),t&&(n.config=t||{}),{PLUFGIN:i,options:n}},checkPluginIfExits:function(e,t){for(var i=0;i<t.length;i++)if(e.toLowerCase()===t[i].pluginName.toLowerCase())return!0;return!1},getRootByConfig:function(e,t){for(var i=Object.keys(t),n=null,r=0;r<i.length;r++)if(e.toLowerCase()===i[r].toLowerCase()){n=t[i[r]];break}return"Object"===a.ZP.typeOf(n)?{root:n.root,position:n.position}:{}},lazyRegister:function(e,t){var i=this,n=t.timeout||1500;return Promise.race([t.loader().then(function(t){var n;n=t&&t.__esModule?t.default:t,i.register(e,n,t.options)}),new Promise(function(e,t){setTimeout(function(){t(Error("timeout"))},n)})])},register:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||!t||"function"!=typeof t||void 0===t.prototype)return;var n=e._pluginInfoId;if(!!n&&!!this.pluginGroup[n]){!this.pluginGroup[n]._plugins&&(this.pluginGroup[n]._plugins={});var r=this.pluginGroup[n]._plugins,o=this.pluginGroup[n]._originalOptions;i.player=e;var s=i.pluginName||t.pluginName;if(!s)throw Error("The property pluginName is necessary");if(t.isSupported&&!t.isSupported(e.config.mediaType,e.config.codecType)){console.warn("not supported plugin [".concat(s,"]"));return}!i.config&&(i.config={});for(var l=Object.keys(o),c=0;c<l.length;c++)if(s.toLowerCase()===l[c].toLowerCase()){var u=o[l[c]];"Object"===a.ZP.typeOf(u)?i.config=Object.assign({},i.config,o[l[c]]):"Boolean"===a.ZP.typeOf(u)&&(i.config.disable=!u);break}t.defaultConfig&&Object.keys(t.defaultConfig).forEach(function(e){void 0===i.config[e]&&(i.config[e]=t.defaultConfig[e])}),i.root?"string"==typeof i.root&&(i.root=e[i.root]):i.root=e.root,i.index=i.config.index||0;try{r[s.toLowerCase()]&&(this.unRegister(n,s.toLowerCase()),console.warn("the is one plugin with same pluginName [".concat(s,"] exist, destroy the old instance")));var h=new t(i);return r[s.toLowerCase()]=h,r[s.toLowerCase()].func=t,h&&"function"==typeof h.afterCreate&&h.afterCreate(),h}catch(e){throw console.error(e),e}}},unRegister:function(e,t){e._pluginInfoId&&(e=e._pluginInfoId),t=t.toLowerCase();try{var i=this.pluginGroup[e]._plugins[t];i&&(i.pluginName&&i.__destroy(),delete this.pluginGroup[e]._plugins[t])}catch(i){console.error("[unRegister:".concat(t,"] cgid:[").concat(e,"] error"),i)}},deletePlugin:function(e,t){var i=e._pluginInfoId;i&&this.pluginGroup[i]&&this.pluginGroup[i]._plugins&&delete this.pluginGroup[i]._plugins[t]},getPlugins:function(e){var t=e._pluginInfoId;return t&&this.pluginGroup[t]?this.pluginGroup[t]._plugins:{}},findPlugin:function(e,t){var i=e._pluginInfoId;if(!i||!this.pluginGroup[i])return null;var n=t.toLowerCase();return this.pluginGroup[i]._plugins[n]},beforeInit:function(e){var t=this;function i(e){return e&&e.then?e:new Promise(function(e){e()})}return new Promise(function(n){var r;if(!!t.pluginGroup)return(r=e._loadingPlugins&&e._loadingPlugins.length?Promise.all(e._loadingPlugins):Promise.resolve()).then(function(){var r=e._pluginInfoId;if(!t.pluginGroup[r]){n();return}var o=t.pluginGroup[r]._plugins,a=[];Object.keys(o).forEach(function(e){if(o[e]&&o[e].beforePlayerInit)try{var t=o[e].beforePlayerInit();a.push(i(t))}catch(e){throw a.push(i(null)),e}}),Promise.all([].concat(a)).then(function(){n()}).catch(function(e){console.error(e),n()})})})},afterInit:function(e){var t=e._pluginInfoId;if(!!t&&!!this.pluginGroup[t]){var i=this.pluginGroup[t]._plugins;Object.keys(i).forEach(function(e){i[e]&&i[e].afterPlayerInit&&i[e].afterPlayerInit()})}},setLang:function(e,t){var i=t._pluginInfoId;if(!!i&&!!this.pluginGroup[i]){var n=this.pluginGroup[i]._plugins;Object.keys(n).forEach(function(t){if(n[t].updateLang)n[t].updateLang(e);else try{n[t].lang=e}catch(e){console.warn("".concat(t," setLang"))}})}},reRender:function(e){var t=this,i=e._pluginInfoId;if(!!i&&!!this.pluginGroup[i]){var n=[],r=this.pluginGroup[i]._plugins;Object.keys(r).forEach(function(e){"controls"!==e&&r[e]&&(n.push({plugin:r[e].func,options:r[e].__args}),t.unRegister(i,e))}),n.forEach(function(i){t.register(e,i.plugin,i.options)})}},onPluginsReady:function(e){var t=e._pluginInfoId;if(!!t&&!!this.pluginGroup[t]){var i=this.pluginGroup[t]._plugins||{};Object.keys(i).forEach(function(e){i[e].onPluginsReady&&"function"==typeof i[e].onPluginsReady&&i[e].onPluginsReady()})}},destroy:function(e){var t,i,n,r=e._pluginInfoId;if(!!this.pluginGroup[r]){t=e.root,null===(n=Z)||void 0===n||n.unObserver(t,void 0);for(var o=this.pluginGroup[r]._plugins,a=0,s=Object.keys(o);a<s.length;a++){var l=s[a];this.unRegister(r,l)}delete this.pluginGroup[r],delete e._pluginInfoId}}},B={DEFAULT:"xgplayer",DEFAULT_SKIN:"xgplayer-skin-default",ENTER:"xgplayer-is-enter",PAUSED:"xgplayer-pause",PLAYING:"xgplayer-playing",ENDED:"xgplayer-ended",CANPLAY:"xgplayer-canplay",LOADING:"xgplayer-isloading",ERROR:"xgplayer-is-error",REPLAY:"xgplayer-replay",NO_START:"xgplayer-nostart",ACTIVE:"xgplayer-active",INACTIVE:"xgplayer-inactive",FULLSCREEN:"xgplayer-is-fullscreen",CSS_FULLSCREEN:"xgplayer-is-cssfullscreen",ROTATE_FULLSCREEN:"xgplayer-rotate-fullscreen",PARENT_ROTATE_FULLSCREEN:"xgplayer-rotate-parent",PARENT_FULLSCREEN:"xgplayer-fullscreen-parent",INNER_FULLSCREEN:"xgplayer-fullscreen-inner",NO_CONTROLS:"no-controls",FLEX_CONTROLS:"flex-controls",CONTROLS_FOLLOW:"controls-follow",CONTROLS_AUTOHIDE:"controls-autohide",TOP_BAR_AUTOHIDE:"top-bar-autohide",NOT_ALLOW_AUTOPLAY:"not-allow-autoplay",SEEKING:"seeking",PC:"xgplayer-pc",MOBILE:"xgplayer-mobile",MINI:"xgplayer-mini"};function W(){return{id:"",el:null,url:"",domEventType:"default",nullUrlStart:!1,width:600,height:337.5,fluid:!1,fitVideoSize:"fixed",videoFillMode:"auto",volume:.6,autoplay:!1,autoplayMuted:!1,loop:!1,isLive:!1,zoom:1,videoInit:!0,poster:"",isMobileSimulateMode:!1,defaultPlaybackRate:1,execBeforePluginsCall:null,allowSeekAfterEnded:!0,enableContextmenu:!0,closeVideoClick:!1,closeVideoDblclick:!1,closePlayerBlur:!1,closeDelayBlur:!1,leavePlayerTime:3e3,closePlayVideoFocus:!1,closePauseVideoFocus:!1,closeFocusVideoFocus:!0,closeControlsBlur:!0,topBarAutoHide:!0,videoAttributes:{},startTime:0,seekedStatus:"play",miniprogress:!1,disableSwipeHandler:function(){},enableSwipeHandler:function(){},preProcessUrl:null,ignores:[],whitelist:[],inactive:3e3,lang:(0,a.VQ)(),controls:!0,marginControls:!1,fullscreenTarget:null,screenShot:!1,rotate:!1,pip:!1,download:!1,mini:!1,cssFullscreen:!0,keyShortcut:!0,presets:[],plugins:[],playbackRate:1,definition:{list:[]},playsinline:!0,customDuration:0,timeOffset:0,icons:{},i18n:[],tabindex:0,thumbnail:null,videoConfig:{},isHideTips:!1,minWaitDelay:200,commonStyle:{progressColor:"",playedColor:"",cachedColor:"",sliderBtnStyle:{},volumeColor:""}}}var j=function(e,t){var i,r,o,a=o=t.preset&&t.options?new t.preset(t.options,e.config):new t({},e.config),s=a.plugins,l=a.ignores,c=a.icons,u=void 0===c?{}:c,h=a.i18n,d=void 0===h?[]:h;!e.config.plugins&&(e.config.plugins=[]),!e.config.ignores&&(e.config.ignores=[]),(i=e.config.plugins).push.apply(i,(0,n.u)(void 0===s?[]:s)),(r=e.config.ignores).push.apply(r,(0,n.u)(void 0===l?[]:l)),Object.keys(u).map(function(t){!e.config.icons[t]&&(e.config.icons[t]=u[t])});var p=e.config.i18n||[];d.push.apply(d,(0,n.u)(p)),e.config.i18n=d},G=i("894263"),Y=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){var e;(0,n.PA)(this,i);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,n._x)((0,n.Lc)(e),"onMouseEnter",function(t){var i=(0,n.Lc)(e),r=i.player;i.playerConfig.closeControlsBlur&&r.focus({autoHide:!1})}),(0,n._x)((0,n.Lc)(e),"onMouseLeave",function(t){(0,n.Lc)(e).player.focus()}),e}return(0,n.qH)(i,[{key:"beforeCreate",value:function(e){!e.config.mode&&"mobile"===c.device&&(e.config.mode="flex"),e.player.config.marginControls&&(e.config.autoHide=!1)}},{key:"afterCreate",value:function(){var e=this,t=this.config,i=t.disable,n=t.height,r=t.mode;if(!i){"flex"===r&&this.player.addClass(B.FLEX_CONTROLS);var o={height:"".concat(n,"px")};Object.keys(o).map(function(t){e.root.style[t]=o[t]}),this.left=this.find("xg-left-grid"),this.center=this.find("xg-center-grid"),this.right=this.find("xg-right-grid"),this.innerRoot=this.find("xg-inner-controls"),this.on(S.MINI_STATE_CHANGE,function(t){t?a.ZP.addClass(e.root,"mini-controls"):a.ZP.removeClass(e.root,"mini-controls")});var s=this.playerConfig.isMobileSimulateMode;"mobile"!==c.device&&"mobile"!==s&&(this.bind("mouseenter",this.onMouseEnter),this.bind("mouseleave",this.onMouseLeave))}}},{key:"focus",value:function(){this.player.focus({autoHide:!1})}},{key:"focusAwhile",value:function(){this.player.focus({autoHide:!0})}},{key:"blur",value:function(){this.player.blur({ignorePaused:!0})}},{key:"recoverAutoHide",value:function(){this.config.autoHide&&a.ZP.addClass(this.root,B.CONTROLS_AUTOHIDE)}},{key:"pauseAutoHide",value:function(){a.ZP.removeClass(this.root,B.CONTROLS_AUTOHIDE)}},{key:"show",value:function(e){this.root.style.display="",this.player.focus()}},{key:"hide",value:function(){this.root.style.display="none"}},{key:"mode",get:function(){return this.config.mode}},{key:"registerPlugin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(!!this.root){var o=e.defaultConfig||{};if(!t.root){switch(t.position?t.position:t.config&&t.config.position?t.config.position:o.position){case M.kd.CONTROLS_LEFT:t.root=this.left;break;case M.kd.CONTROLS_RIGHT:t.root=this.right;break;case M.kd.CONTROLS_CENTER:t.root=this.center;break;case M.kd.CONTROLS:t.root=this.root;break;default:t.root=this.left}return(0,n.U2)((0,n.IP)(i.prototype),"registerPlugin",this).call(this,e,t,r)}}}},{key:"destroy",value:function(){"mobile"!==c.device&&(this.unbind("mouseenter",this.onMouseEnter),this.unbind("mouseleave",this.onMouseLeave))}},{key:"render",value:function(){var e=this.config,t=e.mode,i=e.autoHide,r=e.initShow;if(!e.disable){var o=a.ZP.classNames({"xgplayer-controls":!0},{"flex-controls":"flex"===t},{"bottom-controls":"bottom"===t},(0,n._x)({},B.CONTROLS_AUTOHIDE,i),{"xgplayer-controls-initshow":r||!i});return'<xg-controls class="'.concat(o,'" unselectable="on">\n    <xg-inner-controls class="xg-inner-controls xg-pos">\n      <xg-left-grid class="xg-left-grid">\n      </xg-left-grid>\n      <xg-center-grid class="xg-center-grid"></xg-center-grid>\n      <xg-right-grid class="xg-right-grid">\n      </xg-right-grid>\n    </xg-inner-controls>\n    </xg-controls>')}}}],[{key:"pluginName",get:function(){return"controls"}},{key:"defaultConfig",get:function(){return{disable:!1,autoHide:!0,mode:"",initShow:!1}}}]),i}(M.ZP),V=i("192735"),z={lang:{},langKeys:[],textKeys:[]};function K(e,t){return Object.keys(t).forEach(function(i){var r,o=a.ZP.typeOf(t[i]),s=a.ZP.typeOf(e[i]);"Array"===o?("Array"!==s&&(e[i]=[]),(r=e[i]).push.apply(r,(0,n.u)(t[i]))):"Object"===o?("Object"!==s&&(e[i]={}),K(e[i],t[i])):e[i]=t[i]}),e}function X(){Object.keys(z.lang.en).map(function(e){z.textKeys[e]=e})}function q(e,t){var i=e.LANG;if(!t&&(t=z),!!t.lang){var n=e.TEXT||{};"zh"===i&&(i="zh-cn"),t.lang[i]?K(t.lang[i],n):(t.langKeys.push(i),t.lang[i]=n),X()}}q({LANG:"en",TEXT:{ERROR_TYPES:{network:{code:1,msg:"video download error"},mse:{code:2,msg:"stream append error"},parse:{code:3,msg:"parsing error"},format:{code:4,msg:"wrong format"},decoder:{code:5,msg:"decoding error"},runtime:{code:6,msg:"grammatical errors"},timeout:{code:7,msg:"play timeout"},other:{code:8,msg:"other errors"}},HAVE_NOTHING:"There is no information on whether audio/video is ready",HAVE_METADATA:"Audio/video metadata is ready ",HAVE_CURRENT_DATA:"Data about the current play location is available, but there is not enough data to play the next frame/millisecond",HAVE_FUTURE_DATA:"Current and at least one frame of data is available",HAVE_ENOUGH_DATA:"The available data is sufficient to start playing",NETWORK_EMPTY:"Audio/video has not been initialized",NETWORK_IDLE:"Audio/video is active and has been selected for resources, but no network is used",NETWORK_LOADING:"The browser is downloading the data",NETWORK_NO_SOURCE:"No audio/video source was found",MEDIA_ERR_ABORTED:"The fetch process is aborted by the user",MEDIA_ERR_NETWORK:"An error occurred while downloading",MEDIA_ERR_DECODE:"An error occurred while decoding",MEDIA_ERR_SRC_NOT_SUPPORTED:"Audio/video is not supported",REPLAY:"Replay",ERROR:"Network is offline",PLAY_TIPS:"Play",PAUSE_TIPS:"Pause",PLAYNEXT_TIPS:"Play next",DOWNLOAD_TIPS:"Download",ROTATE_TIPS:"Rotate",RELOAD_TIPS:"Reload",FULLSCREEN_TIPS:"Fullscreen",EXITFULLSCREEN_TIPS:"Exit fullscreen",CSSFULLSCREEN_TIPS:"Cssfullscreen",EXITCSSFULLSCREEN_TIPS:"Exit cssfullscreen",TEXTTRACK:"Caption",PIP:"PIP",SCREENSHOT:"Screenshot",LIVE:"LIVE",OFF:"Off",OPEN:"Open",MINI_DRAG:"Click and hold to drag",MINISCREEN:"Miniscreen",REFRESH_TIPS:"Please Try",REFRESH:"Refresh",FORWARD:"forward",LIVE_TIP:"Live"}});var J={get textKeys(){return z.textKeys},get langKeys(){return z.langKeys},get lang(){var Q={};return z.langKeys.map(function(e){Q[e]=z.lang[e]}),z.lang["zh-cn"]&&(Q.zh=z.lang["zh-cn"]||{}),Q},extend:function(e,t){var i=[];if(!t&&(t=z),!!t.lang){i="Array"!==a.ZP.typeOf(e)?Object.keys(e).map(function(t){return{LANG:"zh"===t?"zh-cn":t,TEXT:e[t]}}):e;var n=t.lang;i.map(function(e){"zh"===e.LANG&&(e.LANG="zh-cn"),n[e.LANG]?K(n[e.LANG]||{},e.TEXT||{}):q(e,t)}),X()}},use:q,init:function(e){var t,i={lang:{},langKeys:[],textKeys:{},pId:e};return K(i.lang,z.lang),(t=i.langKeys).push.apply(t,(0,n.u)(z.langKeys)),K(i.textKeys,z.textKeys),i}},$={INITIAL:1,READY:2,ATTACHING:3,ATTACHED:4,NOTALLOW:5,RUNNING:6,ENDED:7},ee=["ERROR","INITIAL","READY","ATTACHING","ATTACHED","NOTALLOW","RUNNING","ENDED","DESTROYED"],et={},ei=null,en=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){return(0,n.PA)(this,i),t.apply(this,arguments)}return(0,n.qH)(i,[{key:"add",value:function(e){if(!!e)et[e.playerId]=e,1===Object.keys(et).length&&this.setActive(e.playerId,!0)}},{key:"remove",value:function(e){if(!!e)e.isUserActive,delete et[e.playerId]}},{key:"_iterate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var i in et)if(Object.prototype.hasOwnProperty.call(et,i)){var n=et[i];if(t){if(e(n))break}else e(n)}}},{key:"forEach",value:function(e){this._iterate(e)}},{key:"find",value:function(e){var t=null;return this._iterate(function(i){var n=e(i);return n&&(t=i),n},!0),t}},{key:"findAll",value:function(e){var t=[];return this._iterate(function(i){e(i)&&t.push(i)}),t}},{key:"setActive",value:function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!!et[e])return t?this.forEach(function(t){e===t.playerId?(t.isUserActive=!0,t.isInstNext=!1):t.isUserActive=!1}):et[e].isUserActive=t,e}},{key:"getActiveId",value:function(){for(var e=Object.keys(et),t=0;t<e.length;t++){var i=et[e[t]];if(i&&i.isUserActive)return e[t]}return null}},{key:"setNext",value:function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!!et[e])return t?this.forEach(function(t){e===t.playerId?(t.isUserActive=!1,t.isInstNext=!0):t.isInstNext=!1}):et[e].isInstNext=t,e}}],[{key:"getInstance",value:function(){return ei||(ei=new i),ei}}]),i}(r.EventEmitter),er=["play","pause","replay","retry"],eo=0,ea=0,es=null,el=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(e){(0,n.PA)(this,i);var r,o=a.ZP.deepMerge(W(),e);r=t.call(this,o),(0,n._x)((0,n.Lc)(r),"canPlayFunc",function(){if(!!r.config){var e=r.config,t=e.autoplay,i=e.defaultPlaybackRate;V.Z.logInfo("player","canPlayFunc, startTime",r.__startTime),r._seekToStartTime(),r.playbackRate=i,(t||r._useAutoplay)&&r.mediaPlay(),r.off(S.CANPLAY,r.canPlayFunc),r.removeClass(B.ENTER)}}),(0,n._x)((0,n.Lc)(r),"onFullscreenChange",function(e,t){var i=function(){a.ZP.setTimeout((0,n.Lc)(r),function(){r.resize()},100)},o=a.ZP.getFullScreenEl();r._fullActionFrom?r._fullActionFrom="":r.emit(S.USER_ACTION,{eventType:"system",action:"switch_fullscreen",pluginName:"player",currentTime:r.currentTime,duration:r.duration,props:[{prop:"fullscreen",from:!0,to:!1}]});var s=(0,a.F7)(o,r.playerId,N);if(t||o&&(o===r._fullscreenEl||s))i(),r.config.closeFocusVideoFocus||r.media.focus(),r.fullscreen=!0,r.changeFullStyle(r.root,o,B.FULLSCREEN),r.emit(S.FULLSCREEN_CHANGE,!0,r._fullScreenOffset),r.cssfullscreen&&r.exitCssFullscreen();else if(r.fullscreen){i();var l=(0,n.Lc)(r),c=l._fullScreenOffset;if(l.config.needFullscreenScroll?(window.scrollTo(c.left,c.top),a.ZP.setTimeout((0,n.Lc)(r),function(){r.fullscreen=!1,r._fullScreenOffset=null},100)):(r.config.closeFocusVideoFocus||r.media.focus(),r.fullscreen=!1,r._fullScreenOffset=null),r.cssfullscreen)r.removeClass(B.FULLSCREEN);else{var u=r._fullscreenEl;!u&&(r.root.contains(e.target)||e.target===r.root)&&(u=e.target),r.recoverFullStyle(r.root,u,B.FULLSCREEN)}r._fullscreenEl=null,r.emit(S.FULLSCREEN_CHANGE,!1)}}),(0,n._x)((0,n.Lc)(r),"_onWebkitbeginfullscreen",function(e){r._fullscreenEl=r.media,r.onFullscreenChange(e,!0)}),(0,n._x)((0,n.Lc)(r),"_onWebkitendfullscreen",function(e){r.onFullscreenChange(e,!1)}),(0,G.ZP)((0,n.Lc)(r),er),r.config=o,r._pluginInfoId=a.ZP.generateSessionId(),(0,V.w)((0,n.Lc)(r));var s=r.constructor.defaultPreset;if(r.config.presets.length){var l=r.config.presets.indexOf("default");l>=0&&s&&(r.config.presets[l]=s)}else s&&r.config.presets.push(s);if(r.userTimer=null,r.waitTimer=null,r.handleSource=!0,r._state=$.INITIAL,r.isAd=!1,r.isError=!1,r._hasStart=!1,r.isSeeking=!1,r.isCanplay=!1,r._useAutoplay=!1,r.__startTime=-1,r.rotateDeg=0,r.isActive=!1,r.fullscreen=!1,r.cssfullscreen=!1,r.isRotateFullscreen=!1,r._fullscreenEl=null,r.timeSegments=[],r._cssfullscreenEl=null,r.curDefinition=null,r._orgCss="",r._fullScreenOffset=null,r._videoHeight=0,r._videoWidth=0,r.videoPos={pi:1,scale:0,rotate:-1,x:0,y:0,h:-1,w:-1,vy:0,vx:0},r.sizeInfo={width:0,height:0,left:0,top:0},r._accPlayed={t:0,acc:0,loopAcc:0},r._offsetInfo={currentTime:-1,duration:0},r.innerContainer=null,r.controls=null,r.topBar=null,r.root=null,r.__i18n=J.init(r._pluginInfoId),c.os.isAndroid&&c.osVersion>0&&c.osVersion<6&&(r.config.autoplay=!1),r.database=new I,r.isUserActive=!1,r._onceSeekCanplay=null,r._isPauseBeforeSeek=0,r.innerStates={isActiveLocked:!1},r.instManager=es,!r._initDOM())return console.error(Error("can't find the dom which id is ".concat(r.config.id," or this.config.el does not exist"))),(0,n.J2)(r);var u=r.config,h=u.definition,d=void 0===h?{}:h;if(!u.url&&d.list&&d.list.length>0){var p=d.list.find(function(e){return e.definition&&e.definition===d.defaultDefinition});!p&&(d.defaultDefinition=d.list[0].definition,p=d.list[0]),r.config.url=p.url,r.curDefinition=p}return r._bindEvents(),r._registerPresets(),r._registerPlugins(),U.onPluginsReady((0,n.Lc)(r)),r.getInitDefinition(),r.setState($.READY),a.ZP.setTimeout((0,n.Lc)(r),function(){r.emit(S.READY)},0),r.onReady&&r.onReady(),(r.config.videoInit||r.config.autoplay)&&(!r.hasStart||r.state<$.ATTACHED)&&r.start(),r}return(0,n.qH)(i,[{key:"_initDOM",value:function(){var e,t=this;if(this.root=this.config.id?document.getElementById(this.config.id):null,!this.root){var i=this.config.el;if(!i||1!==i.nodeType)return this.emit(S.ERROR,new w("use",this.config.vid,{line:32,handle:"Constructor",msg:"container id can't be empty"})),console.error("this.confg.id or this.config.el can't be empty"),!1;this.root=i}var n=function(e){for(var t=Object.keys(et),i=0;i<t.length;i++){var n=et[t[i]];if(n.root===e)return n}return null}(this.root);n&&(V.Z.logWarn("The is an Player instance already exists in this.root, destroy it and reinitialize"),n.destroy()),this.root.setAttribute(N,this.playerId),null===(e=es)||void 0===e||e.add(this),U.init(this),this._initBaseDoms();var r=this.constructor.XgVideoProxy;if(r&&this.mediaConfig.mediaType===r.mediaType){var o=this.innerContainer||this.root;this.detachVideoEvents(this.media);var a=new r(o,this.config,this.mediaConfig);this.attachVideoEvents(a),this.media=a}if(this.media.setAttribute(N,this.playerId),this.config.controls){var s=this.config.controls.root||null,l=U.register(this,Y,{root:s});this.controls=l}var u="mobile"===this.config.isMobileSimulateMode?"mobile":c.device;if(this.addClass("".concat(B.DEFAULT," ").concat(B.INACTIVE," xgplayer-").concat(u," ").concat(this.config.controls?"":B.NO_CONTROLS)),this.config.autoplay?this.addClass(B.ENTER):this.addClass(B.NO_START),this.config.fluid){var h=this.config,d=h.width,p=h.height;("number"!=typeof d||"number"!=typeof p)&&(d=600,p=337.5);var g={width:"100%",height:"0","max-width":"100%","padding-top":"".concat(100*p/d,"%")};Object.keys(g).forEach(function(e){t.root.style[e]=g[e]})}else["width","height"].forEach(function(e){t.config[e]&&("number"!=typeof t.config[e]?t.root.style[e]=t.config[e]:t.root.style[e]="".concat(t.config[e],"px"))});var f=this.root.getBoundingClientRect(),y=f.width,v=f.height,m=f.left,x=f.top;return this.sizeInfo.width=y,this.sizeInfo.height=v,this.sizeInfo.left=m,this.sizeInfo.top=x,!0}},{key:"_initBaseDoms",value:function(){this.topBar=null,this.leftBar=null,this.rightBar=null,this.config.marginControls&&(this.innerContainer=a.ZP.createDom("xg-video-container","",{"data-index":-1},"xg-video-container"),this.root.appendChild(this.innerContainer))}},{key:"_bindEvents",value:function(){var e=this;["focus","blur"].forEach(function(t){e.on(t,e["on"+t.charAt(0).toUpperCase()+t.slice(1)])}),D.forEach(function(t){document&&document.addEventListener(t,e.onFullscreenChange)}),c.os.isIos&&(this.media.addEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.addEventListener("webkitendfullscreen",this._onWebkitendfullscreen)),this.once(S.LOADED_DATA,this.resize),this.playFunc=function(){!e.config.closeFocusVideoFocus&&e.media.focus()},this.once(S.PLAY,this.playFunc)}},{key:"_unbindEvents",value:function(){var e=this;this.root.removeEventListener("mousemove",this.mousemoveFunc),D.forEach(function(t){document.removeEventListener(t,e.onFullscreenChange)}),this.playFunc&&this.off(S.PLAY,this.playFunc),this.off(S.CANPLAY,this.canPlayFunc),this.media.removeEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.removeEventListener("webkitendfullscreen",this._onWebkitendfullscreen)}},{key:"_clearUserTimer",value:function(){if(!!this.userTimer)a.ZP.clearTimeout(this,this.userTimer),this.userTimer=null}},{key:"_startInit",value:function(e){var t=this;if(!!this.media&&(!!e&&""!==e&&("Array"!==a.ZP.typeOf(e)||0!==e.length)||(e="",this.emit(S.URL_NULL),V.Z.logWarn("config.url is null, please get url and run player._startInit(url)"),!this.config.nullUrlStart))){this.handleSource&&(this._detachSourceEvents(this.media),"Array"===a.ZP.typeOf(e)&&e.length>0?this._attachSourceEvents(this.media,e):this.media.src&&this.media.src===e?!e&&this.media.removeAttribute("src"):this.media.src=e),"Number"===a.ZP.typeOf(this.config.volume)&&(this.volume=this.config.volume);var i=this.innerContainer?this.innerContainer:this.root;this.media instanceof window.Element&&!i.contains(this.media)&&i.insertBefore(this.media,i.firstChild);var n=this.media.readyState;V.Z.logInfo("_startInit readyState",n),this.config.autoplay&&(a.ZP.isMSE(this.media)||this.load(),(c.os.isIpad||c.os.isPhone)&&this.mediaPlay());var r=this.config.startTime;this.__startTime=r>0?r:-1,this.config.startTime=0,n>=2&&this.duration>0?this.canPlayFunc():this.on(S.CANPLAY,this.canPlayFunc),(!this.hasStart||this.state<$.ATTACHED)&&U.afterInit(this),this.hasStart=!0,this.setState($.ATTACHED),a.ZP.setTimeout(this,function(){t.emit(S.COMPLETE)},0)}}},{key:"_registerPlugins",value:function(){var e=this,t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];this._loadingPlugins=[];var i=this.config.ignores||[],n=this.config.plugins||[],r=this.config.i18n||[];t&&J.extend(r,this.__i18n);var o=i.join("||").toLowerCase().split("||"),a=this.plugins;n.forEach(function(i){try{var n=i.plugin?i.plugin.pluginName:i.pluginName;if(n&&o.indexOf(n.toLowerCase())>-1)return null;if(!t&&a[n.toLowerCase()])return;if(i.lazy&&i.loader){var r=U.lazyRegister(e,i);i.forceBeforeInit&&(r.then(function(){e._loadingPlugins.splice(e._loadingPlugins.indexOf(r),1)}).catch(function(t){V.Z.logError("_registerPlugins:loadingPlugin",t),e._loadingPlugins.splice(e._loadingPlugins.indexOf(r),1)}),e._loadingPlugins.push(r));return}return e.registerPlugin(i)}catch(e){V.Z.logError("_registerPlugins:",e)}})}},{key:"_registerPresets",value:function(){var e=this;this.config.presets.forEach(function(t){j(e,t)})}},{key:"_getRootByPosition",value:function(e){var t=null;switch(e){case M.kd.ROOT_RIGHT:!this.rightBar&&(this.rightBar=a.ZP.createPositionBar("xg-right-bar",this.root)),t=this.rightBar;break;case M.kd.ROOT_LEFT:!this.leftBar&&(this.leftBar=a.ZP.createPositionBar("xg-left-bar",this.root)),t=this.leftBar;break;case M.kd.ROOT_TOP:!this.topBar&&(this.topBar=a.ZP.createPositionBar("xg-top-bar",this.root),this.config.topBarAutoHide&&a.ZP.addClass(this.topBar,B.TOP_BAR_AUTOHIDE)),t=this.topBar;break;default:t=this.innerContainer||this.root}return t}},{key:"registerPlugin",value:function(e,t){var i,n=U.formatPluginInfo(e,t),r=n.PLUFGIN,o=n.options,a=this.config.plugins;U.checkPluginIfExits(r.pluginName,a)||a.push(r);var s=U.getRootByConfig(r.pluginName,this.config);s.root&&(o.root=s.root),s.position&&(o.position=s.position);var l=o.position?o.position:o.config&&o.config.position||r.defaultConfig&&r.defaultConfig.position;return!o.root&&"string"==typeof l&&l.indexOf("controls")>-1?null===(i=this.controls)||void 0===i?void 0:i.registerPlugin(r,o,r.pluginName):(!o.root&&(o.root=this._getRootByPosition(l)),U.register(this,r,o))}},{key:"deregister",value:function(e){"string"==typeof e?U.unRegister(this,e):e instanceof F.ZP&&U.unRegister(this,e.pluginName)}},{key:"unRegisterPlugin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.deregister(e),t&&this.removePluginFromConfig(e)}},{key:"removePluginFromConfig",value:function(e){var t;if("string"==typeof e?t=e:e instanceof F.ZP&&(t=e.pluginName),!!t){for(var i=this.config.plugins.length-1;i>-1;i--)if(this.config.plugins[i].pluginName.toLowerCase()===t.toLowerCase()){this.config.plugins.splice(i,1);break}}}},{key:"plugins",get:function(){return U.getPlugins(this)}},{key:"getPlugin",value:function(e){var t=U.findPlugin(this,e);return t&&t.pluginName?t:null}},{key:"addClass",value:function(e){if(!!this.root)!a.ZP.hasClass(this.root,e)&&a.ZP.addClass(this.root,e)}},{key:"removeClass",value:function(e){if(!!this.root)a.ZP.removeClass(this.root,e)}},{key:"hasClass",value:function(e){if(!!this.root)return a.ZP.hasClass(this.root,e)}},{key:"setAttribute",value:function(e,t){if(!!this.root)this.root.setAttribute(e,t)}},{key:"removeAttribute",value:function(e,t){if(!!this.root)this.root.removeAttribute(e,t)}},{key:"start",value:function(e){var t=this;if(!(this.state>$.ATTACHING))return!e&&!this.config.url&&this.getInitDefinition(),this.hasStart=!0,this.setState($.ATTACHING),this._registerPlugins(!1),U.beforeInit(this).then(function(){if(!!t.config){!e&&(e=t.url||t.config.url);var i=t._preProcessUrl(e);return t._startInit(i.url)}}).catch(function(e){throw e.fileName="player",e.lineNumber="236",V.Z.logError("start:beforeInit:",e),e})}},{key:"switchURL",value:function(e,t){var i=this,n=e;"Object"===a.ZP.typeOf(e)&&(n=e.url),n=this._preProcessUrl(n).url;var r=this.currentTime;this.__startTime=r;var o=this.paused&&!this.isError;return this.src=n,new Promise(function(e,t){var r=function(e){i.off("timeupdate",a),i.off("canplay",a),t(e)},a=function(){i._seekToStartTime(),o&&i.pause(),i.off("error",r),e(!0)};if(i.once("error",r),!n){i.errorHandler("error",{code:6,message:"empty_src"});return}c.os.isAndroid?i.once("timeupdate",a):i.once("canplay",a),i.play()})}},{key:"videoPlay",value:function(){this.mediaPlay()}},{key:"mediaPlay",value:function(){var e=this;if(!this.hasStart&&this.state<$.ATTACHED){this.removeClass(B.NO_START),this.addClass(B.ENTER),this.start(),this._useAutoplay=!0;return}this.state<$.RUNNING&&(this.removeClass(B.NO_START),this.isCanplay||this.addClass(B.ENTER));var t=(0,n.U2)((0,n.IP)(i.prototype),"play",this).call(this);return void 0!==t&&t&&t.then?t.then(function(){e.removeClass(B.NOT_ALLOW_AUTOPLAY),e.addClass(B.PLAYING),e.state<$.RUNNING&&(V.Z.logInfo(">>>>playPromise.then"),e.setState($.RUNNING),e.emit(S.AUTOPLAY_STARTED))}).catch(function(t){if(V.Z.logWarn(">>>>playPromise.catch",t.name),e.media&&e.media.error){e.onError(),e.removeClass(B.ENTER);return}"NotAllowedError"===t.name&&(e._errorTimer=a.ZP.setTimeout(e,function(){e._errorTimer=null,e.emit(S.AUTOPLAY_PREVENTED),e.addClass(B.NOT_ALLOW_AUTOPLAY),e.removeClass(B.ENTER),e.pause(),e.setState($.NOTALLOW)},0))}):(V.Z.logWarn("video.play not return promise"),this.state<$.RUNNING&&(this.setState($.RUNNING),this.removeClass(B.NOT_ALLOW_AUTOPLAY),this.removeClass(B.NO_START),this.removeClass(B.ENTER),this.addClass(B.PLAYING),this.emit(S.AUTOPLAY_STARTED))),t}},{key:"mediaPause",value:function(){(0,n.U2)((0,n.IP)(i.prototype),"pause",this).call(this)}},{key:"videoPause",value:function(){(0,n.U2)((0,n.IP)(i.prototype),"pause",this).call(this)}},{key:"play",value:function(){var e=this;return this.removeClass(B.PAUSED),(0,G.rl)(this,"play",function(){return e.mediaPlay()})}},{key:"pause",value:function(){var e=this;(0,G.rl)(this,"pause",function(){(0,n.U2)((0,n.IP)(i.prototype),"pause",e).call(e)})}},{key:"seek",value:function(e,t){var i=this;if(!(!this.media||Number.isNaN(Number(e)))&&!!this.hasStart){var n=this.config,r=n.isSeekedPlay,o=n.seekedStatus,a=t||(r?"play":o);e=e<0?0:e>this.duration?parseInt(this.duration,10):e,this._isPauseBeforeSeek||(this._isPauseBeforeSeek=this.paused?2:1),this._onceSeekCanplay&&this.off(S.SEEKED,this._onceSeekCanplay),this._onceSeekCanplay=function(){switch(i.removeClass(B.ENTER),i.isSeeking=!1,a){case"play":i.play();break;case"pause":i.pause();break;default:i._isPauseBeforeSeek>1||i.paused?i.pause():i.play()}i._isPauseBeforeSeek=0,i._onceSeekCanplay=null},this.once(S.SEEKED,this._onceSeekCanplay),this.state<$.RUNNING?(this.removeClass(B.NO_START),this.currentTime=e,this.play()):this.currentTime=e}}},{key:"getInitDefinition",value:function(){var e=this,t=this.config,i=t.definition;!t.url&&i&&i.list&&i.list.length>0&&i.defaultDefinition&&i.list.map(function(t){t.definition===i.defaultDefinition&&(e.config.url=t.url,e.curDefinition=t)})}},{key:"changeDefinition",value:function(e,t){var i=this,r=this.config.definition;if(Array.isArray(null==r?void 0:r.list)&&r.list.forEach(function(t){(null==e?void 0:e.definition)===t.definition&&(i.curDefinition=t)}),null!=e&&e.bitrate&&"number"!=typeof e.bitrate&&(e.bitrate=parseInt(e.bitrate,10)||0),this.emit(S.DEFINITION_CHANGE,{from:t,to:e}),!this.hasStart){this.config.url=e.url;return}var o=this.switchURL(e.url,(0,n.Zj)({seamless:!1!==r.seamless&&"undefined"!=typeof MediaSource&&"function"==typeof MediaSource.isTypeSupported},e));o&&o.then?o.then(function(){i.emit(S.AFTER_DEFINITION_CHANGE,{from:t,to:e})}):this.emit(S.AFTER_DEFINITION_CHANGE,{from:t,to:e})}},{key:"reload",value:function(){this.load(),this.reloadFunc=function(){this.play()},this.once(S.LOADED_DATA,this.reloadFunc)}},{key:"resetState",value:function(){var e=this,t=B.NOT_ALLOW_AUTOPLAY,i=B.PLAYING,n=B.NO_START,r=B.PAUSED,o=B.REPLAY,a=B.ENTER,s=B.ENDED,l=B.ERROR,c=B.LOADING;this.hasStart=!1,this.isError=!1,this._useAutoplay=!1,this.mediaPause(),this._accPlayed.acc=0,this._accPlayed.t=0,this._accPlayed.loopAcc=0,[t,i,n,r,o,a,s,l,c].forEach(function(t){e.removeClass(t)}),this.addClass(B.NO_START),this.emit(S.RESET)}},{key:"reset",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0;if(this.resetState(),!!this.plugins){if(t.map(function(t){e.deregister(t)}),i){var n=W();Object.keys(this.config).keys(function(t){"undefined"!==e.config[t]&&("plugins"===t||"presets"===t||"el"===t||"id"===t)&&(e.config[t]=n[t])})}}}},{key:"destroy",value:function(){var e,t=this,r=this.innerContainer,o=this.root,s=this.media;if(!!o&&!!s){if(this.hasStart=!1,this._useAutoplay=!1,o.removeAttribute(N),this.updateAcc("destroy"),this._unbindEvents(),this._detachSourceEvents(this.media),a.ZP.clearAllTimers(this),this.emit(S.DESTROY),null===(e=es)||void 0===e||e.remove(this),U.destroy(this),(0,G.Qs)(this),(0,n.U2)((0,n.IP)(i.prototype),"destroy",this).call(this),this.fullscreen&&this._fullscreenEl===this.root&&this.exitFullscreen(),r){for(var l=r.children,c=0;c<l.length;c++)r.removeChild(l[c])}!r&&s instanceof window.Node&&o.contains(s)&&o.removeChild(s),["topBar","leftBar","rightBar","innerContainer"].map(function(e){t[e]&&o.removeChild(t[e]),t[e]=null});var u=o.className.split(" ");u.length>0?o.className=u.filter(function(e){return 0>e.indexOf("xgplayer")}).join(" "):o.className="",this.removeAttribute("data-xgfill"),["isSeeking","isCanplay","isActive","cssfullscreen","fullscreen"].forEach(function(e){t[e]=!1})}}},{key:"replay",value:function(){var e=this;this.removeClass(B.ENDED),this.currentTime=0,this.isSeeking=!1,(0,G.rl)(this,"replay",function(){e.once(S.SEEKED,function(){var t=e.mediaPlay();t&&t.catch&&t.catch(function(e){console.log(e)})}),e.emit(S.REPLAY),e.onPlay()})}},{key:"retry",value:function(){var e=this;this.removeClass(B.ERROR),this.addClass(B.LOADING),(0,G.rl)(this,"retry",function(){var t=e.currentTime,i=e.config.url,n=a.ZP.isMSE(e.media)?{url:i}:e._preProcessUrl(i);e.src=n.url,e.config.isLive||(e.currentTime=t),e.once(S.CANPLAY,function(){e.mediaPlay()})})}},{key:"changeFullStyle",value:function(e,t,i,n){if(!!e)!n&&(n=B.PARENT_FULLSCREEN),!this._orgCss&&(this._orgCss=a.ZP.filterStyleFromText(e)),a.ZP.addClass(e,i),t&&t!==e&&!this._orgPCss&&(this._orgPCss=a.ZP.filterStyleFromText(t),a.ZP.addClass(t,n),t.setAttribute(N,this.playerId))}},{key:"recoverFullStyle",value:function(e,t,i,n){!n&&(n=B.PARENT_FULLSCREEN),this._orgCss&&(a.ZP.setStyleFromCsstext(e,this._orgCss),this._orgCss=""),a.ZP.removeClass(e,i),t&&t!==e&&this._orgPCss&&(a.ZP.setStyleFromCsstext(t,this._orgPCss),this._orgPCss="",a.ZP.removeClass(t,n),t.removeAttribute(N))}},{key:"getFullscreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.fullscreenTarget,t=this.root,i=this.media;if(("video"===e||"media"===e)&&(e=this[e]),!e&&(e=t),this._fullScreenOffset={top:a.ZP.scrollTop(),left:a.ZP.scrollLeft()},this._fullscreenEl=e,this._fullActionFrom="get",a.ZP.getFullScreenEl()===this._fullscreenEl)return this.onFullscreenChange(),Promise.resolve();try{for(var n=0;n<R.length;n++){var r=R[n];if(e[r]){var o="webkitRequestFullscreen"===r?e.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT):e[r]();if(o&&o.then)return o;return Promise.resolve()}}if(i.fullscreenEnabled||i.webkitSupportsFullscreen)return i.webkitEnterFullscreen(),Promise.resolve();return Promise.reject(Error("call getFullscreen fail"))}catch(e){return Promise.reject(Error("call getFullscreen fail"))}}},{key:"exitFullscreen",value:function(e){if(this.isRotateFullscreen&&this.exitRotateFullscreen(),!!this._fullscreenEl||!!a.ZP.getFullScreenEl()){this.root;var t=this.media;this._fullActionFrom="exit";try{for(var i=0;i<O.length;i++){var n=O[i];if(document[n]){var r=document[n]();if(r&&r.then)return r;return Promise.resolve()}}if(t&&t.webkitSupportsFullscreen)return t.webkitExitFullScreen(),Promise.resolve();return Promise.reject(Error("call exitFullscreen fail"))}catch(e){return Promise.reject(Error("call exitFullscreen fail"))}}}},{key:"getCssFullscreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.fullscreenTarget;this.isRotateFullscreen?this.exitRotateFullscreen():this.fullscreen&&this.exitFullscreen();var t=e?"".concat(B.INNER_FULLSCREEN," ").concat(B.CSS_FULLSCREEN):B.CSS_FULLSCREEN;this.changeFullStyle(this.root,e,t);var i=this.config.fullscreen,n=void 0===i?{}:i;(!0===n.useCssFullscreen||"function"==typeof n.useCssFullscreen&&n.useCssFullscreen())&&(this.fullscreen=!0,this.emit(S.FULLSCREEN_CHANGE,!0)),this._cssfullscreenEl=e,this.cssfullscreen=!0,this.emit(S.CSS_FULLSCREEN_CHANGE,!0)}},{key:"exitCssFullscreen",value:function(){var e=this._cssfullscreenEl?"".concat(B.INNER_FULLSCREEN," ").concat(B.CSS_FULLSCREEN):B.CSS_FULLSCREEN;if(this.fullscreen){var t=this.config.fullscreen,i=void 0===t?{}:t;!0===i.useCssFullscreen||"function"==typeof i.useCssFullscreen&&i.useCssFullscreen()?(this.recoverFullStyle(this.root,this._cssfullscreenEl,e),this.fullscreen=!1,this.emit(S.FULLSCREEN_CHANGE,!1)):this.removeClass(e)}else this.recoverFullStyle(this.root,this._cssfullscreenEl,e);this._cssfullscreenEl=null,this.cssfullscreen=!1,this.emit(S.CSS_FULLSCREEN_CHANGE,!1)}},{key:"getRotateFullscreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.fullscreenTarget;this.cssfullscreen&&this.exitCssFullscreen(e);var t=e?"".concat(B.INNER_FULLSCREEN," ").concat(B.ROTATE_FULLSCREEN):B.ROTATE_FULLSCREEN;this._fullscreenEl=e||this.root,this.changeFullStyle(this.root,e,t,B.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!0,this.fullscreen=!0,this.setRotateDeg(90),this._rootStyle=this.root.getAttribute("style"),this.root.style.width="".concat(window.innerHeight,"px"),this.emit(S.FULLSCREEN_CHANGE,!0)}},{key:"exitRotateFullscreen",value:function(e){var t=this._fullscreenEl!==this.root?"".concat(B.INNER_FULLSCREEN," ").concat(B.ROTATE_FULLSCREEN):B.ROTATE_FULLSCREEN;this.recoverFullStyle(this.root,this._fullscreenEl,t,B.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!1,this.fullscreen=!1,this.setRotateDeg(0),this.emit(S.FULLSCREEN_CHANGE,!1),this._rootStyle&&(this.root.style.style=this._rootStyle,this._rootStyle=!1)}},{key:"setRotateDeg",value:function(e){90===window.orientation||-90===window.orientation?this.rotateDeg=0:this.rotateDeg=e}},{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{autoHide:!this.config.closeDelayBlur,delay:this.config.inactive};if(this.isActive){this.onFocus(e);return}this.emit(S.PLAYER_FOCUS,(0,n.Zj)({paused:this.paused,ended:this.ended},e))}},{key:"blur",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ignorePaused:!1};if(!this.isActive){this.onBlur(e);return}this._clearUserTimer(),this.emit(S.PLAYER_BLUR,(0,n.Zj)({paused:this.paused,ended:this.ended},e))}},{key:"onFocus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{autoHide:!0,delay:3e3},i=this.innerStates;if(this.isActive=!0,this.removeClass(B.INACTIVE),this._clearUserTimer(),void 0!==t.isLock&&(i.isActiveLocked=t.isLock),!1===t.autoHide||!0===t.isLock||i.isActiveLocked){this._clearUserTimer();return}var n=t&&t.delay?t.delay:this.config.inactive;this.userTimer=a.ZP.setTimeout(this,function(){e.userTimer=null,e.blur()},n)}},{key:"onBlur",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ignorePaused;if(!this.innerStates.isActiveLocked){var i=this.config.closePauseVideoFocus;this.isActive=!1,(void 0!==t&&t||i||!this.paused&&!this.ended)&&this.addClass(B.INACTIVE)}}},{key:"onEmptied",value:function(){this.updateAcc("emptied")}},{key:"onCanplay",value:function(){this.removeClass(B.ENTER),this.removeClass(B.ERROR),this.removeClass(B.LOADING),this.isCanplay=!0,this.waitTimer&&a.ZP.clearTimeout(this,this.waitTimer)}},{key:"onLoadeddata",value:function(){var e=this;this.isError=!1,this.isSeeking=!1,this.__startTime>0&&(this.duration>0?this._seekToStartTime():this.once(S.DURATION_CHANGE,function(){e._seekToStartTime()}))}},{key:"onLoadstart",value:function(){this.removeClass(B.ERROR),this.isCanplay=!1}},{key:"onPlay",value:function(){this.state===$.ENDED&&this.setState($.RUNNING),this.removeClass(B.PAUSED),this.ended&&this.removeClass(B.ENDED),this.config.closePlayVideoFocus||this.focus()}},{key:"onPause",value:function(){this.addClass(B.PAUSED),this.updateAcc("pause"),!this.config.closePauseVideoFocus&&(this._clearUserTimer(),this.focus())}},{key:"onEnded",value:function(){this.updateAcc("ended"),this.addClass(B.ENDED),this.setState($.ENDED)}},{key:"onError",value:function(){this.isError=!0,this.updateAcc("error"),this.removeClass(B.NOT_ALLOW_AUTOPLAY),this.removeClass(B.NO_START),this.removeClass(B.ENTER),this.removeClass(B.LOADING),this.addClass(B.ERROR)}},{key:"onSeeking",value:function(){!this.isSeeking&&this.updateAcc("seeking"),this.isSeeking=!0,this.addClass(B.SEEKING)}},{key:"onSeeked",value:function(){this.isSeeking=!1,this.waitTimer&&a.ZP.clearTimeout(this,this.waitTimer),this.removeClass(B.LOADING),this.removeClass(B.SEEKING)}},{key:"onWaiting",value:function(){var e=this;this.waitTimer&&a.ZP.clearTimeout(this,this.waitTimer),this.updateAcc("waiting"),this.waitTimer=a.ZP.setTimeout(this,function(){e.addClass(B.LOADING),e.emit(S.LOADING),a.ZP.clearTimeout(e,e.waitTimer),e.waitTimer=null},this.config.minWaitDelay)}},{key:"onPlaying",value:function(){var e=this;this.isError=!1;var t=B.NO_START,i=B.PAUSED,n=B.ENDED,r=B.ERROR,o=B.REPLAY,a=B.LOADING;[t,i,n,r,o,a].forEach(function(t){e.removeClass(t)}),!this._accPlayed.t&&!this.paused&&!this.ended&&(this._accPlayed.t=new Date().getTime())}},{key:"onTimeupdate",value:function(){!this._videoHeight&&this.media.videoHeight&&this.resize(),(this.waitTimer||this.hasClass(B.LOADING))&&this.media.readyState>2&&(this.removeClass(B.LOADING),a.ZP.clearTimeout(this,this.waitTimer),this.waitTimer=null),!this.paused&&this.state===$.NOTALLOW&&this.duration&&(this.setState($.RUNNING),this.emit(S.AUTOPLAY_STARTED)),!this._accPlayed.t&&!this.paused&&!this.ended&&(this._accPlayed.t=new Date().getTime())}},{key:"onVolumechange",value:function(){"Number"===a.ZP.typeOf(this.config.volume)&&(this.config.volume=this.volume)}},{key:"onRatechange",value:function(){this.config.defaultPlaybackRate=this.playbackRate}},{key:"emitUserAction",value:function(e,t,i){if(!!this.media&&!!t&&!!e){var r="String"===a.ZP.typeOf(e)?e:e.type||"";i.props&&"Array"!==a.ZP.typeOf(i.props)&&(i.props=[i.props]),this.emit(S.USER_ACTION,(0,n.Zj)({eventType:r,action:t,currentTime:this.currentTime,duration:this.duration,ended:this.ended,event:e},i))}}},{key:"updateAcc",value:function(e){if(this._accPlayed.t){var t=new Date().getTime()-this._accPlayed.t;this._accPlayed.acc+=t,this._accPlayed.t=0,("ended"===e||this.ended)&&(this._accPlayed.loopAcc=this._accPlayed.acc)}}},{key:"checkBuffer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{startDiff:0,endDiff:0},i=t||{},n=i.startDiff,r=void 0===n?0:n,o=i.endDiff,a=void 0===o?0:o,s=this.media.buffered;if(!s||0===s.length||!this.duration)return!0;for(var l=e||this.media.currentTime||.2,c=s.length,u=0;u<c;u++)if(s.start(u)+r<=l&&s.end(u)-a>l)return!0;return!1}},{key:"resizePosition",value:function(){var e=this.videoPos,t=e.vy,i=e.vx,n=e.h,r=e.w,o=this.videoPos.rotate;if(o<0&&n<0&&r<0)return;var s=this.videoPos._pi;if(!s&&this.media.videoHeight&&(s=this.media.videoWidth/this.media.videoHeight*100),!!s){this.videoPos.pi=s;var l={rotate:o=o<0?0:o},c=0,u=0,h=1,d=Math.abs(o/90),p=this.root,g=this.innerContainer,f=p.offsetWidth,y=g?g.offsetHeight:p.offsetHeight,v=y,m=f;if(d%2==0)h=n>0?100/n:r>0?100/r:1,l.scale=h,c=t>0?(100-n)/2-t:0,l.y=2===d?0-c:c,u=i>0?(100-r)/2-i:0,l.x=2===d?0-u:u,this.media.style.width="".concat(m,"px"),this.media.style.height="".concat(v,"px");else if(d%2==1){m=y,v=f;var x=y-f;u=-x/2/m*100,l.x=3===d?u+t/2:u-t/2,c=x/2/v*100,l.y=3===d?c+i/2:c-i/2,l.scale=h,this.media.style.width="".concat(m,"px"),this.media.style.height="".concat(v,"px")}var k=a.ZP.getTransformStyle(l,this.media.style.transform||this.media.style.webkitTransform);this.media.style.transform=k,this.media.style.webkitTransform=k}}},{key:"position",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{h:0,y:0,x:0,w:0};if(!!this.media&&!!e&&!!e.h){var t=this.videoPos;t.h=100*e.h||0,t.w=100*e.w||0,t.vx=100*e.x||0,t.vy=100*e.y||0,this.resizePosition()}}},{key:"setConfig",value:function(e){var t=this;if(!!e)Object.keys(e).map(function(i){if("plugins"!==i){t.config[i]=e[i];var n=t.plugins[i.toLowerCase()];n&&"Function"===a.ZP.typeOf(n.setConfig)&&n.setConfig(e[i])}})}},{key:"playNext",value:function(e){var t=this;this.resetState(),this.setConfig(e),this._currentTime=0,this._duration=0,(0,G.rl)(this,"playnext",function(){t.start(),t.emit(S.PLAYNEXT,e)})}},{key:"resize",value:function(){var e=this;if(!this.media)return;var t=this.root.getBoundingClientRect();this.sizeInfo.width=t.width,this.sizeInfo.height=t.height,this.sizeInfo.left=t.left,this.sizeInfo.top=t.top;var i=this.media,n=i.videoWidth,r=i.videoHeight,o=this.config,a=o.fitVideoSize,s=o.videoFillMode;if(("fill"===s||"cover"===s||"contain"===s)&&this.setAttribute("data-xgfill",s),!!r&&!!n){this._videoHeight=r,this._videoWidth=n;var l=this.controls&&this.innerContainer?this.controls.root.getBoundingClientRect().height:0,c=t.width,u=t.height-l,h=parseInt(n/r*1e3,10),d=parseInt(c/u*1e3,10),p=c,g=u,f={};"auto"===a&&d>h||"fixWidth"===a?(g=c/h*1e3,this.config.fluid?f.paddingTop="".concat(100*g/p,"%"):f.height="".concat(g+l,"px")):("auto"===a&&d<h||"fixHeight"===a)&&(p=h*u/1e3,f.width="".concat(p,"px")),!this.fullscreen&&!this.cssfullscreen&&Object.keys(f).forEach(function(t){e.root.style[t]=f[t]}),("fillHeight"===s&&d<h||"fillWidth"===s&&d>h)&&this.setAttribute("data-xgfill","cover");var y={videoScale:h,vWidth:p,vHeight:g,cWidth:p,cHeight:g+l};this.resizePosition(),this.emit(S.VIDEO_RESIZE,y)}}},{key:"updateObjectPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.media.updateObjectPosition){this.media.updateObjectPosition(e,t);return}this.media.style.objectPosition="".concat(100*e,"% ").concat(100*t,"%")}},{key:"setState",value:function(e){V.Z.logInfo("setState","state from:".concat(ee[this.state]," to:").concat(ee[e])),this._state=e}},{key:"_preProcessUrl",value:function(e,t){var i=this.config,n=i.preProcessUrl,r=Object.assign({},i.preProcessUrlOptions,t);return a.ZP.isBlob(e)||"function"!=typeof n?{url:e}:n(e,r)}},{key:"_seekToStartTime",value:function(){this.__startTime>0&&this.duration>0&&(this.currentTime=this.__startTime>this.duration?this.duration:this.__startTime,this.__startTime=-1)}},{key:"state",get:function(){return this._state}},{key:"isFullscreen",get:function(){return this.fullscreen}},{key:"isCssfullScreen",get:function(){return this.cssfullscreen}},{key:"hasStart",get:function(){return this._hasStart},set:function(e){"boolean"==typeof e&&(this._hasStart=e,!1===e&&this.setState($.READY),this.emit("hasstart"))}},{key:"isPlaying",get:function(){return this._state===$.RUNNING||this._state===$.ENDED},set:function(e){e?this.setState($.RUNNING):this._state>=$.RUNNING&&this.setState($.ATTACHED)}},{key:"definitionList",get:function(){return this.config&&this.config.definition&&this.config.definition.list||[]},set:function(e){var t=this,i=this.config.definition,n=null,r=null;i.list=e,this.emit("resourceReady",e),e.forEach(function(e){var o;(null===(o=t.curDefinition)||void 0===o?void 0:o.definition)===e.definition&&(n=e),i.defaultDefinition===e.definition&&(r=e)}),!r&&e.length>0&&(r=e[0]),n?this.changeDefinition(n):r&&this.changeDefinition(r)}},{key:"videoFrameInfo",get:function(){var e={total:0,dropped:0,corrupted:0,droppedRate:0,droppedDuration:0};if(!this.media||!this.media.getVideoPlaybackQuality)return e;var t=this.media.getVideoPlaybackQuality();return e.dropped=t.droppedVideoFrames||0,e.total=t.totalVideoFrames||0,e.corrupted=t.corruptedVideoFrames||0,e.total>0&&(e.droppedRate=e.dropped/e.total*100,e.droppedDuration=parseInt(this.cumulateTime/e.total*e.dropped,0)),e}},{key:"lang",get:function(){return this.config.lang},set:function(e){if(0===J.langKeys.filter(function(t){return t===e}).length&&"zh"!==e){console.error("Sorry, set lang fail, because the language [".concat(e,"] is not supported now, list of all supported languages is [").concat(J.langKeys.join(),"] "));return}this.config.lang=e,U.setLang(e,this)}},{key:"i18n",get:function(){var e=this.config.lang;return"zh"===e&&(e="zh-cn"),this.__i18n.lang[e]||this.__i18n.lang.en}},{key:"i18nKeys",get:function(){return this.__i18n.textKeys||{}}},{key:"version",get:function(){return P}},{key:"playerId",get:function(){return this._pluginInfoId}},{key:"url",get:function(){return this.__url||this.config.url},set:function(e){this.__url=e}},{key:"poster",get:function(){return this.plugins.poster?this.plugins.poster.config.poster:this.config.poster},set:function(e){this.plugins.poster&&this.plugins.poster.update(e)}},{key:"readyState",get:function(){return(0,n.U2)((0,n.IP)(i.prototype),"readyState",this)}},{key:"error",get:function(){var e=(0,n.U2)((0,n.IP)(i.prototype),"error",this);return this.i18n[e]||e}},{key:"networkState",get:function(){return(0,n.U2)((0,n.IP)(i.prototype),"networkState",this)}},{key:"fullscreenChanging",get:function(){return null!==this._fullScreenOffset}},{key:"cumulateTime",get:function(){var e=this._accPlayed,t=e.acc,i=e.t;return i?new Date().getTime()-i+t:t}},{key:"zoom",get:function(){return this.config.zoom},set:function(e){this.config.zoom=e}},{key:"videoRotateDeg",get:function(){return this.videoPos.rotate},set:function(e){if((e=a.ZP.convertDeg(e))%90==0&&e!==this.videoPos.rotate)this.videoPos.rotate=e,this.resizePosition()}},{key:"avgSpeed",get:function(){return ea},set:function(e){ea=e}},{key:"realTimeSpeed",get:function(){return eo},set:function(e){eo=e}},{key:"offsetCurrentTime",get:function(){return this._offsetInfo.currentTime||0},set:function(e){this._offsetInfo.currentTime=e}},{key:"offsetDuration",get:function(){return this._offsetInfo.duration||0},set:function(e){this._offsetInfo.duration=e||0}},{key:"hook",value:function(e,t){return G.z3.call.apply(G.z3,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(e,t){return G.xn.call.apply(G.xn,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(e,t){return G.v8.call.apply(G.v8,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"usePluginHooks",value:function(e,t,i){for(var n=arguments.length,r=Array(n>3?n-3:0),o=3;o<n;o++)r[o-3]=arguments[o];return G.bR.call.apply(G.bR,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removePluginHooks",value:function(e,t,i){for(var n=arguments.length,r=Array(n>3?n-3:0),o=3;o<n;o++)r[o-3]=arguments[o];return G.g2.call.apply(G.g2,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"setUserActive",value:function(e,t){var i;"boolean"==typeof t&&t!==this.muted&&(this.addInnerOP("volumechange"),a.ZP.typeOf(t)===Boolean&&(this.muted=t)),null===(i=es)||void 0===i||i.setActive(this.playerId,e)}}],[{key:"debugger",get:function(){return V.Z.config.debug},set:function(e){V.Z.config.debug=e}},{key:"instManager",get:function(){return es},set:function(e){es=e}},{key:"getCurrentUserActivePlayerId",value:function(){var e;return null===(e=es)||void 0===e?void 0:e.getActiveId()}},{key:"setCurrentUserActive",value:function(e,t){var i;null===(i=es)||void 0===i||i.setActive(e,t)}},{key:"isHevcSupported",value:function(){return c.isHevcSupported()}},{key:"probeConfigSupported",value:function(e){return c.probeConfigSupported(e)}},{key:"install",value:function(e,t){!i.plugins&&(i.plugins={}),!i.plugins[e]&&(i.plugins[e]=t)}},{key:"use",value:function(e,t){!i.plugins&&(i.plugins={}),i.plugins[e]=t}}]),i}(A);function ec(){return new Date().getTime()}(0,n._x)(el,"defaultPreset",null),(0,n._x)(el,"XgVideoProxy",null),el.instManager=en.getInstance();var eu={LOAD_START:"loadstart",LOADED_DATA:"loadeddata",FIRST_FRAME:"firstFrame",WAIT_START:"waitingStart",WAIT_END:"waitingEnd",SEEK_START:"seekStart",SEEK_END:"seekEnd"},eh=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){var e;(0,n.PA)(this,i);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,n._x)((0,n.Lc)(e),"_onTimeupdate",function(){e._state.isTimeUpdate=!0,e._state.autoplayStart&&(V.Z.logInfo("[xgLogger]".concat(e.player.playerId," _onTimeupdate")),e._sendFF("onTimeupdate"))}),(0,n._x)((0,n.Lc)(e),"_onAutoplayStart",function(){V.Z.logInfo("[xgLogger]".concat(e.player.playerId," _onAutoplayStart")),e._state.autoplayStart=!0,e.vt&&e._sendFF("onAutoplayStart")}),(0,n._x)((0,n.Lc)(e),"_onReset",function(){e._state={autoplayStart:!1,isFFLoading:!1,isTimeUpdate:!1,isFFSend:!1,isLs:!1},e.vt=0,e.pt=0,e.fvt=0,e.newPointTime=ec(),e.loadedCostTime=0,e.startCostTime=0,e._isSeeking=!1,e.seekingStart=0,e.waitingStart=0,e.fixedWaitingStart=0,e._isWaiting=!1,e._waitTimer&&a.ZP.clearTimeout((0,n.Lc)(e),e._waitTimer),e._waittTimer&&a.ZP.clearTimeout((0,n.Lc)(e),e._waittTimer),e._waitTimer=null,e._waittTimer=null,e._waitType=0}),(0,n._x)((0,n.Lc)(e),"_onSeeking",function(){if(!e.seekingStart)e.suspendWaitingStatus("seek"),e.seekingStart=ec(),e.emitLog(eu.SEEK_START,{start:ec()})}),(0,n._x)((0,n.Lc)(e),"_onSeeked",function(){e.suspendSeekingStatus("seeked")}),(0,n._x)((0,n.Lc)(e),"_onWaitingLoadStart",function(){if(!e._isWaiting&&!e.vt)e._isWaiting=!0,e.waitingStart=ec(),e.fixedWaitingStart=ec(),e._waitType=1,e.emitLog(eu.WAIT_START,{fixedStart:e.fixedWaitingStart,start:e.waitingStart,type:1,endType:"loadstart"})}),(0,n._x)((0,n.Lc)(e),"_onWaiting",function(){if(!e._isWaiting&&!!e.vt)e._isWaiting=!0,e.vt?e.seekingStart?e._waitType=2:e._waitType=0:e._waitType=1,e.fixedWaitingStart=ec(),e._waitTimer=a.ZP.setTimeout((0,n.Lc)(e),function(){e._isWaiting&&(e.waitingStart=ec(),a.ZP.clearTimeout((0,n.Lc)(e),e._waitTimer),e._waitTimer=null,e._startWaitTimeout(),e.emitLog(eu.WAIT_START,{fixedStart:e.fixedWaitingStart,start:e.waitingStart,type:e._waitType,endType:2===e._waitType?"seek":"playing"}))},200)}),(0,n._x)((0,n.Lc)(e),"_onError",function(){e.suspendSeekingStatus("error"),e.suspendWaitingStatus("error")}),(0,n._x)((0,n.Lc)(e),"_onPlaying",function(){e._isWaiting&&e.suspendWaitingStatus("playing")}),e}return(0,n.qH)(i,[{key:"afterCreate",value:function(){var e=this;this._onReset(),this._waitType="firstFrame",this._initOnceEvents(),this.newPointTime=ec(),this.loadedCostTime=0,this.startCostTime=0,this.on(S.LOAD_START,function(){var t=e._state,i=t.autoplayStart,n=t.isFFSend;if(e.startCostTime=ec()-e.newPointTime,V.Z.logInfo("[xgLogger]".concat(e.player.playerId," LOAD_START"),"autoplayStart:".concat(i," isFFSend:").concat(n," startCostTime:").concat(e.startCostTime," newPointTime").concat(e.newPointTime)),!n)t.isLs||e.emitLog(eu.LOAD_START,{}),t.isLs=!0,t.isTimeUpdate=!1,t.isFFLoading=!0,e.pt=ec(),e.vt=0,e.fvt=0,e._initOnceEvents(),e._onWaitingLoadStart()}),this.on(S.LOADED_DATA,function(){e.vt=ec(),e.fvt=e.vt-e.pt,e.loadedCostTime=e.vt-e.newPointTime;var t=e._state,i=t.isTimeUpdate,n=t.isFFSend,r=t.autoplayStart;V.Z.logInfo("[xgLogger]".concat(e.player.playerId," LOADED_DATA"),"fvt:".concat(e.fvt," isTimeUpdate:").concat(e._state.isTimeUpdate," loadedCostTime:").concat(e.loadedCostTime)),(i||r)&&e._sendFF("loadedData"),!n&&e.emitLog(eu.LOADED_DATA,{}),e.suspendWaitingStatus("loadeddata")}),this.on(S.SEEKING,this._onSeeking),this.on(S.SEEKED,this._onSeeked),this.on(S.DESTROY,function(){e.endState("destroy")}),this.on(S.URL_CHANGE,function(){e.endState("urlChange"),V.Z.logInfo("[xgLogger]".concat(e.player.playerId," URL_CHANGE")),e._state.isFFSend&&e._onReset()}),this.on([S.PLAYING,S.CANPLAY],this._onPlaying),this.on(S.WAITING,this._onWaiting),this.on(S.ERROR,this._onError),this.on(S.RESET,function(){V.Z.logInfo("[xgLogger]".concat(e.player.playerId," RESET")),e.endState("reset"),e._initOnceEvents(),e._onReset()})}},{key:"_initOnceEvents",value:function(){this.off(S.AUTOPLAY_STARTED,this._onAutoplayStart),this.off(S.TIME_UPDATE,this._onTimeupdate),this.once(S.AUTOPLAY_STARTED,this._onAutoplayStart),this.once(S.TIME_UPDATE,this._onTimeupdate)}},{key:"_sendFF",value:function(e){this.s=ec();var t=this._state,i=t.isFFLoading,n=t.isFFSend;V.Z.logInfo("[xgLogger]".concat(this.player.playerId," _sendFF"),"".concat(e," fvt:").concat(this.fvt," isFFLoading:").concat(i," !isFFSend:").concat(!n)),this.vt>0&&i&&!n&&(V.Z.logInfo("[xgLogger]".concat(this.player.playerId," emitLog_firstFrame"),e),this._state.isFFLoading=!1,this._state.isFFSend=!0,this.emitLog(eu.FIRST_FRAME,{fvt:this.fvt,costTime:this.fvt,vt:this.vt,startCostTime:this.startCostTime,loadedCostTime:this.loadedCostTime}))}},{key:"_startWaitTimeout",value:function(){var e=this;this._waittTimer&&a.ZP.clearTimeout(this,this._waittTimer),this._waittTimer=a.ZP.setTimeout(this,function(){e.suspendWaitingStatus("timeout"),a.ZP.clearTimeout(e,e._waittTimer),e._waittTimer=null},this.config.waitTimeout)}},{key:"endState",value:function(e){this.suspendWaitingStatus(e),this.suspendSeekingStatus(e)}},{key:"suspendSeekingStatus",value:function(e){if(!!this.seekingStart){var t=ec(),i=t-this.seekingStart;this.seekingStart=0,this.emitLog(eu.SEEK_END,{end:t,costTime:i,endType:e})}}},{key:"suspendWaitingStatus",value:function(e){if(this._waitTimer&&(a.ZP.clearTimeout(this,this._waitTimer),this._waitTimer=null),this._waittTimer&&(a.ZP.clearTimeout(this,this._waittTimer),this._waittTimer=null),this._isWaiting=!1,!!this.waitingStart){var t=ec(),i=t-this.waitingStart,n=t-this.fixedWaitingStart,r=this.config.waitTimeout;this._isWaiting=!1,this.waitingStart=0,this.fixedWaitingStart=0,this.emitLog(eu.WAIT_END,{fixedCostTime:n>r?r:n,costTime:i>r?r:i,type:"loadeddata"===e?1:this._waitType,endType:2===this._waitType?"seek":e})}}},{key:"emitLog",value:function(e,t){var i=this.player;this.emit(S.XGLOG,(0,n.Zj)({t:ec(),host:a.ZP.getHostFromUrl(i.currentSrc),vtype:i.vtype,eventType:e,currentTime:this.player.currentTime,readyState:i.video.readyState,networkState:i.video.networkState},t))}}],[{key:"pluginName",get:function(){return"xgLogger"}},{key:"defaultConfig",get:function(){return{waitTimeout:1e4}}}]),i}(M.ZP);function ed(){return new DOMParser().parseFromString('<svg class="xgplayer-replay-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 78 78" width="78" height="78">\n  <path fill="#fff" transform="translate(20, 20)" d="M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z"></path>\n</svg>\n',"image/svg+xml").firstChild}var ep=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){return(0,n.PA)(this,i),t.apply(this,arguments)}return(0,n.qH)(i,[{key:"registerIcons",value:function(){return{replay:ed}}},{key:"afterCreate",value:function(){var e=this;M.ZP.insert(this.icons.replay,this.root,0),this.__handleReplay=this.hook("replayClick",function(){e.player.replay()},{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this.bind(".xgplayer-replay",["click","touchend"],this.__handleReplay),this.on(S.ENDED,function(){if(!e.playerConfig.loop&&a.ZP.addClass(e.player.root,"replay"),!e.config.disable){e.show();var t=e.root.querySelector("path");if(t){var i=window.getComputedStyle(t).getPropertyValue("transform");if("string"==typeof i&&i.indexOf("none")>-1)return null;t.setAttribute("transform",i)}}}),this.on(S.PLAY,function(){e.hide()})}},{key:"handleReplay",value:function(e){e.preventDefault(),e.stopPropagation(),this.player.replay(),a.ZP.removeClass(this.player.root,"replay")}},{key:"show",value:function(e){if(!this.config.disable)this.root.style.display="flex"}},{key:"enable",value:function(){this.config.disable=!1}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){this.unbind(".xgplayer-replay",["click","touchend"],this.__handleReplay)}},{key:"render",value:function(){return'<xg-replay class="xgplayer-replay">\n      <xg-replay-txt class="xgplayer-replay-txt" lang-key="'.concat(this.i18nKeys.REPLAY,'">').concat(this.i18n.REPLAY,"</xg-replay-txt>\n    </xg-replay>")}}],[{key:"pluginName",get:function(){return"replay"}},{key:"defaultConfig",get:function(){return{disable:!1}}}]),i}(M.ZP),eg=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){return(0,n.PA)(this,i),t.apply(this,arguments)}return(0,n.qH)(i,[{key:"isEndedShow",get:function(){return this.config.isEndedShow},set:function(e){this.config.isEndedShow=e}},{key:"hide",value:function(){a.ZP.addClass(this.root,"hide")}},{key:"show",value:function(e){a.ZP.removeClass(this.root,"hide")}},{key:"beforeCreate",value:function(e){"string"==typeof e.player.config.poster&&(e.config.poster=e.player.config.poster)}},{key:"afterCreate",value:function(){var e=this;this.on(S.ENDED,function(){e.isEndedShow&&a.ZP.removeClass(e.root,"hide")}),this.config.hideCanplay?(this.once(S.TIME_UPDATE,function(){e.onTimeUpdate()}),this.on(S.URL_CHANGE,function(){a.ZP.removeClass(e.root,"hide"),a.ZP.addClass(e.root,"xg-showplay"),e.once(S.TIME_UPDATE,function(){e.onTimeUpdate()})})):this.on(S.PLAY,function(){a.ZP.addClass(e.root,"hide")})}},{key:"setConfig",value:function(e){var t=this;Object.keys(e).forEach(function(i){t.config[i]=e[i]});var i=this.config.poster;this.update(i)}},{key:"onTimeUpdate",value:function(){var e=this;this.player.currentTime?a.ZP.removeClass(this.root,"xg-showplay"):this.once(S.TIME_UPDATE,function(){e.onTimeUpdate()})}},{key:"update",value:function(e){if(!!e)this.config.poster=e,this.root.style.backgroundImage="url(".concat(e,")")}},{key:"getBgSize",value:function(e){var t="";switch(e){case"cover":t="cover";break;case"contain":t="contain";break;case"fixHeight":t="auto 100%";break;default:t=""}return t?"background-size: ".concat(t,";"):""}},{key:"render",value:function(){var e=this.config,t=e.poster,i=e.hideCanplay,n=e.fillMode,r=e.notHidden,o=this.getBgSize(n),a=t?"background-image:url(".concat(t,");").concat(o):o;return'<xg-poster class="xgplayer-poster '.concat(r?"xg-not-hidden":i?"xg-showplay":"",'" style="').concat(a,'">\n    </xg-poster>')}}],[{key:"pluginName",get:function(){return"poster"}},{key:"defaultConfig",get:function(){return{isEndedShow:!0,hideCanplay:!1,notHidden:!1,poster:"",fillMode:"fixWidth"}}}]),i}(M.ZP);function ef(){return new DOMParser().parseFromString('<svg class="play" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z"></path>\n</svg>\n',"image/svg+xml").firstChild}function ey(){return new DOMParser().parseFromString('<svg class="pause" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z"></path>\n</svg>\n',"image/svg+xml").firstChild}var ev={};function em(e){if(e){window.clearTimeout(e);return}Object.keys(ev).map(function(e){window.clearTimeout(ev[e].id),delete ev[e]})}var ex=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(e){var r;return(0,n.PA)(this,i),r=t.call(this,e),(0,n._x)((0,n.Lc)(r),"onPlayerReset",function(){r.autoPlayStart=!1;var e="auto"===r.config.mode?"auto-hide":"hide";r.setAttr("data-state","play"),a.ZP.removeClass(r.root,e),r.show()}),(0,n._x)((0,n.Lc)(r),"onAutoplayStart",function(){if(!r.autoPlayStart){var e="auto"===r.config.mode?"auto-hide":"hide";a.ZP.addClass(r.root,e),r.autoPlayStart=!0,r.toggleTo("play")}}),r.autoPlayStart=!1,r}return(0,n.qH)(i,[{key:"afterCreate",value:function(){var e=this.playerConfig;this.initIcons(),this.listenEvents(),this.bindClickEvents(),!e.autoplay&&this.show()}},{key:"listenEvents",value:function(){var e=this,t=this.player,i=this.playerConfig;this.once(S.READY,function(){i&&(i.lang&&"en"===i.lang?a.ZP.addClass(t.root,"lang-is-en"):"jp"===i.lang&&a.ZP.addClass(t.root,"lang-is-jp"))}),this.on(S.AUTOPLAY_STARTED,this.onAutoplayStart),this.on(S.AUTOPLAY_PREVENTED,function(){var t="auto"===e.config.mode?"auto-hide":"hide";e.setAttr("data-state","play"),a.ZP.removeClass(e.root,t),e.show()}),this.on(S.PLAY,function(){e.toggleTo("play")}),this.on(S.PAUSE,function(){e.toggleTo("pause")}),this.on(S.RESET,function(){e.onPlayerReset()})}},{key:"bindClickEvents",value:function(){var e=this;this.clickHandler=this.hook("startClick",this.switchPausePlay,{pre:function(t){t.cancelable&&t.preventDefault(),t.stopPropagation();var i=e.player.paused;e.emitUserAction(t,"switch_play_pause",{props:"paused",from:i,to:!i})}}),this.bind(["click","touchend"],this.clickHandler)}},{key:"registerIcons",value:function(){return{startPlay:{icon:ef,class:"xg-icon-play"},startPause:{icon:ey,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild("xg-start-inner",e.startPlay),this.appendChild("xg-start-inner",e.startPause)}},{key:"hide",value:function(){a.ZP.addClass(this.root,"hide")}},{key:"show",value:function(e){a.ZP.removeClass(this.root,"hide")}},{key:"focusHide",value:function(){a.ZP.addClass(this.root,"focus-hide")}},{key:"recover",value:function(){a.ZP.removeClass(this.root,"focus-hide")}},{key:"switchStatus",value:function(e){e?this.setAttr("data-state",this.player.paused?"pause":"play"):this.setAttr("data-state",this.player.paused?"play":"pause")}},{key:"animate",value:function(e){var t=this;this._animateId=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{start:null,end:null};return ev[e]&&window.clearTimeout(ev[e].id),ev[e]={},i.start&&i.start(),ev[e].id=window.setTimeout(function(){i.end&&i.end(),window.clearTimeout(ev[e].id),delete ev[e]},t),ev[e].id}("pauseplay",400,{start:function(){a.ZP.addClass(t.root,"interact"),t.show(),t.switchStatus(!0)},end:function(){a.ZP.removeClass(t.root,"interact"),e||t.hide(),t._animateId=null}})}},{key:"endAnimate",value:function(){a.ZP.removeClass(this.root,"interact"),em(this._animateId),this._animateId=null}},{key:"switchPausePlay",value:function(e){var t=this.player;if(e.cancelable&&e.preventDefault(),e.stopPropagation(),!(t.state<$.READY))this.player.paused||t.state!==$.RUNNING?t.play():t.pause()}},{key:"onPlayPause",value:function(e){this.toggleTo(e)}},{key:"toggleTo",value:function(e){var t=this.config,i=this.player;if(!!i&&!(i.state<$.RUNNING)&&!!this.autoPlayStart){if("show"===t.mode){this.switchStatus(),this.show();return}if("auto"===t.mode){this.switchStatus();return}if(t.isShowPause&&i.paused&&!i.ended||t.isShowEnd&&i.ended){this.switchStatus(),this.show(),this.endAnimate();return}if(t.disableAnimate){this.switchStatus(),this.hide();return}if("play"===e)this.autoPlayStart?this.animate():this.hide();else{if(!this.autoPlayStart||i.ended)return;this.animate()}}}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.clickHandler),em(this._animateId)}},{key:"render",value:function(){var e=this.playerConfig.autoplay?"auto"===this.config.mode?"auto-hide":"hide":"";return'\n    <xg-start class="xgplayer-start '.concat(e,'">\n    <xg-start-inner></xg-start-inner>\n    </xg-start>')}}],[{key:"pluginName",get:function(){return"start"}},{key:"defaultConfig",get:function(){return{isShowPause:!1,isShowEnd:!1,disableAnimate:!1,mode:"hide"}}}]),i}(M.ZP),ek=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){return(0,n.PA)(this,i),t.apply(this,arguments)}return(0,n.qH)(i,[{key:"render",value:function(){var e=this.config.innerHtml,t=a.ZP.createDom("xg-enter","",{},"xgplayer-enter");if(e&&e instanceof window.HTMLElement)t.appendChild(e);else if(e&&"string"==typeof e)t.innerHTML=e;else{for(var i="",n=1;n<=12;n++)i+='<div class="xgplayer-enter-bar'.concat(n,'"></div>');t.innerHTML='<div class="xgplayer-enter-spinner">'.concat(i,"</div>")}return t}}],[{key:"pluginName",get:function(){return"enter"}},{key:"defaultConfig",get:function(){return{innerHtml:"",logo:""}}}]),i}(M.ZP);function eb(e,t,i){try{return' <div class="xg-tips '.concat(i?"hide":" ",'" lang-key="').concat(e.i18nKeys[t],'">\n    ').concat(e.i18n[t],"\n    </div>")}catch(e){return'<div class="xg-tips hide"></div>'}}var e_=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){return(0,n.PA)(this,i),t.apply(this,arguments)}return(0,n.qH)(i,[{key:"afterCreate",value:function(){this.getMini=this.getMini.bind(this),this.exitMini=this.exitMini.bind(this),this.bind("click",this.getMini)}},{key:"getMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"exitMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.getMini)}},{key:"render",value:function(){var e="MINISCREEN";return'\n      <xg-icon class="xgplayer-miniicon">\n      <div class="xgplayer-icon btn-text"><span class="icon-text" lang-key="'.concat(this.i18nKeys[e],'">').concat(this.i18n[e],"</span></div>\n      </xg-icon>")}}],[{key:"pluginName",get:function(){return"miniscreenIcon"}},{key:"defaultConfig",get:function(){return{position:M.kd.CONTROLS_RIGHT,index:10}}}]),i}(M.ZP);function eC(e){var t=parseFloat(e);return -1===e.indexOf("%")&&!Number.isNaN(t)&&t}var eP=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],eT=eP.length;function eE(e){if("string"==typeof e&&(e=document.querySelector(e)),!!e&&"object"===(0,n.Ac)(e)&&!!e.nodeType){var t,i=(t=e,window.getComputedStyle(t));if("none"===i.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<eT;t++)e[eP[t]]=0;return e}();var r={};r.width=e.offsetWidth,r.height=e.offsetHeight;for(var o=r.isBorderBox="border-box"===i.boxSizing,a=0;a<eT;a++){var s=eP[a],l=parseFloat(i[s]);r[s]=Number.isNaN(l)?0:l}var c=r.paddingLeft+r.paddingRight,u=r.paddingTop+r.paddingBottom,h=r.marginLeft+r.marginRight,d=r.marginTop+r.marginBottom,p=r.borderLeftWidth+r.borderRightWidth,g=r.borderTopWidth+r.borderBottomWidth,f=eC(i.width);!1!==f&&(r.width=f+(o?0:c+p));var y=eC(i.height);return!1!==y&&(r.height=y+(o?0:u+g)),r.innerWidth=r.width-(c+p),r.innerHeight=r.height-(u+g),r.outerWidth=r.width+h,r.outerHeight=r.height+d,r}}function ew(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(n.identifier===t)return n}}var eS={START:"dragStart",MOVE:"dragMove",ENDED:"dragEnded"},eL={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]},eA=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return((0,n.PA)(this,i),(r=t.call(this)).isEnabled=!0,r.isDragging=!1,r.isDown=!1,r.position={},r.downPoint={},r.dragPoint={x:0,y:0},r.startPos={x:0,y:0},r._root=e instanceof Element?e:document.querySelector(e),r._handlerDom=o.handle instanceof Element?o.handle:document.querySelector(o.handle),r._root&&r._handlerDom)?(r._bindStartEvent(),r):(0,n.J2)(r)}return(0,n.qH)(i,[{key:"_bindStartEvent",value:function(){var e=this;"ontouchstart"in window?this._startKey="touchstart":this._startKey="mousedown",this["on".concat(this._startKey)]=this["on".concat(this._startKey)].bind(this),this._handlerDom.addEventListener(this._startKey,this["on".concat(this._startKey)]),eL[this._startKey].map(function(t){e["on".concat(t)]=e["on".concat(t)].bind(e)})}},{key:"_unbindStartEvent",value:function(){this._handlerDom.removeEventListener(this._startKey,this["on".concat(this._startKey)])}},{key:"_bindPostStartEvents",value:function(e){var t=this;if(!!e){var i=eL[this._startKey];i.map(function(e){window.addEventListener(e,t["on".concat(e)])}),this._boundPointerEvents=i}}},{key:"_unbindPostStartEvents",value:function(){var e=this;if(!!this._boundPointerEvents)this._boundPointerEvents.map(function(t){window.removeEventListener(t,e["on".concat(t)])}),delete this._boundPointerEvents}},{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1,this.isDragging&&this.onUp()}},{key:"onDocUp",value:function(e){this.onUp()}},{key:"animate",value:function(){var e=this;if(!!this.isDragging)this.positionDrag(),window.requestAnimationFrame(function(){e.animate()})}},{key:"positionDrag",value:function(){var e="translate3d(".concat(this.dragPoint.x,"px, ").concat(this.dragPoint.y,"px, 0)");this._root.style.transform=e,this._root.style.webKitTransform=e}},{key:"setLeftTop",value:function(){this._root.style.left=this.position.x+"px",this._root.style.top=this.position.y+"px"}},{key:"onmousedown",value:function(e){this.dragStart(e,e)}},{key:"onmousemove",value:function(e){this.dragMove(e,e)}},{key:"onmouseup",value:function(e){this.dragEnd(e,e)}},{key:"ontouchstart",value:function(e){var t=e.changedTouches[0];this.dragStart(e,t),this.touchIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,e.preventDefault()}},{key:"ontouchmove",value:function(e){var t=ew(e.changedTouches,this.touchIdentifier);t&&this.dragMove(e,t)}},{key:"ontouchend",value:function(e){var t=ew(e.changedTouches,this.touchIdentifier);t&&this.dragEnd(e,t),e.preventDefault()}},{key:"ontouchcancel",value:function(e){var t=ew(e.changedTouches,this.touchIdentifier);t&&this.dragCancel(e,t)}},{key:"dragStart",value:function(e,t){if(!!this._root&&!this.isDown&&!!this.isEnabled){this.downPoint=t,this.dragPoint.x=0,this.dragPoint.y=0,this._getPosition();var i=eE(this._root);this.startPos.x=this.position.x,this.startPos.y=this.position.y,this.startPos.maxY=window.innerHeight-i.height,this.startPos.maxX=window.innerWidth-i.width,this.setLeftTop(),this.isDown=!0,this._bindPostStartEvents(e)}}},{key:"dragRealStart",value:function(e,t){this.isDragging=!0,this.animate(),this.emit(eS.START,this.startPos)}},{key:"dragEnd",value:function(e,t){if(!!this._root)this._unbindPostStartEvents(),this.isDragging&&(this._root.style.transform="",this.setLeftTop(),this.emit(eS.ENDED)),this.presetInfo()}},{key:"_dragPointerMove",value:function(e,t){var i={x:t.pageX-this.downPoint.pageX,y:t.pageY-this.downPoint.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this.dragRealStart(e,t),i}},{key:"dragMove",value:function(e,t){if(e=e||window.event,!!this.isDown){var i=this.startPos,n=i.x,r=i.y,o=this._dragPointerMove(e,t),a=o.x,s=o.y;a=this.checkContain("x",a,n),s=this.checkContain("y",s,r),this.position.x=n+a,this.position.y=r+s,this.dragPoint.x=a,this.dragPoint.y=s,this.emit(eS.MOVE,this.position)}}},{key:"dragCancel",value:function(e,t){this.dragEnd(e,t)}},{key:"presetInfo",value:function(){this.isDragging=!1,this.startPos={x:0,y:0},this.dragPoint={x:0,y:0},this.isDown=!1}},{key:"destroy",value:function(){this._unbindStartEvent(),this._unbindPostStartEvents(),this.isDragging&&this.dragEnd(),this.removeAllListeners(),this._handlerDom=null}},{key:"hasDragStarted",value:function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3}},{key:"checkContain",value:function(e,t,i){return t+i<0?0-i:"x"===e&&t+i>this.startPos.maxX?this.startPos.maxX-i:"y"===e&&t+i>this.startPos.maxY?this.startPos.maxY-i:t}},{key:"_getPosition",value:function(){var e=window.getComputedStyle(this._root),t=this._getPositionCoord(e.left,"width"),i=this._getPositionCoord(e.top,"height");this.position.x=Number.isNaN(t)?0:t,this.position.y=Number.isNaN(i)?0:i,this._addTransformPosition(e)}},{key:"_addTransformPosition",value:function(e){var t=e.transform;if(0===t.indexOf("matrix")){var i=t.split(","),n=0===t.indexOf("matrix3d")?12:4,r=parseInt(i[n],10),o=parseInt(i[n+1],10);this.position.x+=r,this.position.y+=o}}},{key:"_getPositionCoord",value:function(e,t){if(-1!==e.indexOf("%")){var i=eE(this._root.parentNode);return i?parseFloat(e)/100*i[t]:0}return parseInt(e,10)}}]),i}(o()),eI=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(e){(0,n.PA)(this,i),r=t.call(this,e),(0,n._x)((0,n.Lc)(r),"onCancelClick",function(e){r.exitMini(),r.isClose=!0}),(0,n._x)((0,n.Lc)(r),"onCenterClick",function(e){var t=(0,n.Lc)(r).player;t.paused?t.play():t.pause()}),(0,n._x)((0,n.Lc)(r),"onScroll",function(e){if(!(!window.scrollY&&0!==window.scrollY||50>Math.abs(window.scrollY-r.pos.scrollY))){var t=parseInt(a.ZP.getCss(r.player.root,"height"));t+=r.config.scrollTop,r.pos.scrollY=window.scrollY,window.scrollY>t+5?r.isMini||r.isClose||r.getMini():window.scrollY<=t&&(r.isMini&&r.exitMini(),r.isClose=!1)}}),r.isMini=!1,r.isClose=!1;var r,o=(0,n.Lc)(r).config;return r.pos={left:o.left<0?window.innerWidth-o.width-20:o.left,top:o.top<0?window.innerHeight-o.height-20:o.top,height:r.config.height,width:r.config.width,scrollY:window.scrollY||0},r.lastStyle=null,r}return(0,n.qH)(i,[{key:"beforeCreate",value:function(e){"boolean"==typeof e.player.config.mini&&(e.config.isShowIcon=e.player.config.mini)}},{key:"afterCreate",value:function(){var e=this;this.initIcons(),this.on(S.PAUSE,function(){e.setAttr("data-state","pause")}),this.on(S.PLAY,function(){e.setAttr("data-state","play")})}},{key:"onPluginsReady",value:function(){var e=this,t=this.player;if(!this.config.disable){this.config.isShowIcon&&t.controls.registerPlugin(e_,{config:{onClick:function(){e.getMini()}}},e_.pluginName);var i=a.ZP.checkTouchSupport()?"touchend":"click";this.bind(".mini-cancel-btn",i,this.onCancelClick),this.bind(".play-icon",i,this.onCenterClick),!this.config.disableDrag&&(this._draggabilly=new eA(this.player.root,{handle:this.root})),this.config.isScrollSwitch&&window.addEventListener("scroll",this.onScroll)}}},{key:"registerIcons",value:function(){return{play:{icon:ef,class:"xg-icon-play"},pause:{icon:ey,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".play-icon",e.play),this.appendChild(".play-icon",e.pause)}},{key:"getMini",value:function(){var e=this;if(!this.isMini){var t=this.player,i=this.playerConfig,n=this.config.target||this.player.root;this.lastStyle={},a.ZP.addClass(t.root,"xgplayer-mini"),["width","height","top","left"].map(function(t){e.lastStyle[t]=n.style[t],n.style[t]="".concat(e.pos[t],"px")}),i.fluid&&(n.style["padding-top"]=""),this.emit(S.MINI_STATE_CHANGE,!0),t.isMini=this.isMini=!0}}},{key:"exitMini",value:function(){var e=this;if(!this.isMini)return!1;var t=this.player,i=this.playerConfig,n=this.config.target||this.player.root;a.ZP.removeClass(t.root,"xgplayer-mini"),this.lastStyle&&Object.keys(this.lastStyle).map(function(t){n.style[t]=e.lastStyle[t]}),this.lastStyle=null,i.fluid&&(t.root.style.width="100%",t.root.style.height="0",t.root.style["padding-top"]="".concat(100*i.height/i.width,"%")),this.emit(S.MINI_STATE_CHANGE,!1),this.isMini=t.isMini=!1}},{key:"destroy",value:function(){window.removeEventListener("scroll",this.onScroll);var e=a.ZP.checkTouchSupport()?"touchend":"click";this.unbind(".mini-cancel-btn",e,this.onCancelClick),this.unbind(".play-icon",e,this.onCenterClick),this._draggabilly&&this._draggabilly.destroy(),this._draggabilly=null,this.exitMini()}},{key:"render",value:function(){if(!this.config.disable)return'\n      <xg-mini-layer class="xg-mini-layer">\n      <xg-mini-header class="xgplayer-mini-header">\n      '.concat(eb(this,"MINI_DRAG",this.playerConfig.isHideTips),'\n      </xg-mini-header>\n      <div class="mini-cancel-btn">\n        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">\n          <path fill="#fff" fill-rule="evenodd" d="M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z"></path>\n        </svg>\n      </div>\n      <div class="play-icon">\n      </div>\n      </xg-mini-layer>')}}],[{key:"pluginName",get:function(){return"miniscreen"}},{key:"defaultConfig",get:function(){return{index:10,disable:!1,width:320,height:180,left:-1,top:-1,isShowIcon:!1,isScrollSwitch:!1,scrollTop:0,disableDrag:!1}}}]),i}(M.ZP);i("417277");var eD={mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},eR=["videoClick","videoDbClick"],eO=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){var e;(0,n.PA)(this,i);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,n._x)((0,n.Lc)(e),"onMouseMove",function(t){var i=(0,n.Lc)(e),r=i.player,o=i.playerConfig;!r.isActive&&(r.focus({autoHide:!o.closeDelayBlur}),o.closeFocusVideoFocus||r.media.focus())}),(0,n._x)((0,n.Lc)(e),"onMouseEnter",function(t){var i=(0,n.Lc)(e),r=i.playerConfig,o=i.player;r.closeFocusVideoFocus||o.media.focus(),r.closeDelayBlur?o.focus({autoHide:!1}):o.focus(),e.emit(S.ENTER_PLAYER)}),(0,n._x)((0,n.Lc)(e),"onMouseLeave",function(t){var i=e.playerConfig,n=i.closePlayerBlur,r=i.leavePlayerTime,o=i.closeDelayBlur;!n&&!o&&(r?e.player.focus({autoHide:!0,delay:r}):e.player.blur({ignorePaused:!0})),e.emit(S.LEAVE_PLAYER)}),(0,n._x)((0,n.Lc)(e),"onVideoClick",function(t){var i=(0,n.Lc)(e),r=i.player,o=i.playerConfig;if(!t.target||!o.closeVideoClick)(t.target===r.root||t.target===r.media||t.target===r.innerContainer||t.target===r.media.__canvas)&&(t.preventDefault(),!o.closeVideoStopPropagation&&t.stopPropagation(),e._clickCount++,e.clickTimer&&(clearTimeout(e.clickTimer),e.clickTimer=null),e.clickTimer=setTimeout(function(){if(!!e._clickCount)e._clickCount--,(0,G.rl)((0,n.Lc)(e),eR[0],function(t,i){e.switchPlayPause(i.e)},{e:t,paused:r.paused}),clearTimeout(e.clickTimer),e.clickTimer=null},300))}),(0,n._x)((0,n.Lc)(e),"onVideoDblClick",function(t){var i=(0,n.Lc)(e),r=i.player,o=i.playerConfig;if(!o.closeVideoDblclick&&!!t.target&&(t.target===r.media||t.target===r.media.__canvas)){if(!o.closeVideoClick&&e._clickCount<2){e._clickCount=0;return}e._clickCount=0,e.clickTimer&&(clearTimeout(e.clickTimer),e.clickTimer=null),t.preventDefault(),t.stopPropagation(),(0,G.rl)((0,n.Lc)(e),eR[1],function(t,i){e.emitUserAction(i.e,"switch_fullscreen",{props:"fullscreen",from:r.fullscreen,to:!r.fullscreen}),r.fullscreen?r.exitFullscreen():r.getFullscreen()},{e:t,fullscreen:r.fullscreen})}}),e}return(0,n.qH)(i,[{key:"afterCreate",value:function(){var e=this;if(this._clickCount=0,eR.map(function(t){e.__hooks[t]=null}),"mobile"!==this.playerConfig.isMobileSimulateMode&&("mobile"!==c.device||!!c.os.isIpad))this.initEvents()}},{key:"initEvents",value:function(){var e=this,t=this.player,i=t.media,n=t.root,r=this.playerConfig.enableContextmenu;n&&n.addEventListener("click",this.onVideoClick,!1),n&&n.addEventListener("dblclick",this.onVideoDblClick,!1),Object.keys(eD).map(function(t){n.addEventListener(t,e[eD[t]],!1)}),!r&&i&&i.addEventListener("contextmenu",this.onContextmenu,!1)}},{key:"switchPlayPause",value:function(e){var t=this.player;this.emitUserAction(e,"switch_play_pause",{props:"paused",from:t.paused,to:!t.paused}),t.ended?t.duration!==1/0&&t.duration>0&&t.replay():t.paused?t.play():t.pause()}},{key:"onContextmenu",value:function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.stopPropagation?e.stopPropagation():(e.returnValue=!1,e.cancelBubble=!0)}},{key:"destroy",value:function(){var e=this,t=this.player,i=t.video,n=t.root;this.clickTimer&&clearTimeout(this.clickTimer),n.removeEventListener("click",this.onVideoClick,!1),n.removeEventListener("dblclick",this.onVideoDblClick,!1),i.removeEventListener("contextmenu",this.onContextmenu,!1),Object.keys(eD).map(function(t){n.removeEventListener(t,e[eD[t]],!1)})}}],[{key:"pluginName",get:function(){return"pc"}},{key:"defaultConfig",get:function(){return{}}}]),i}(F.ZP),eN={PRESS:"press",PRESS_END:"pressend",DOUBlE_CLICK:"doubleclick",CLICK:"click",TOUCH_MOVE:"touchmove",TOUCH_START:"touchstart",TOUCH_END:"touchend"},eM={start:"touchstart",end:"touchend",move:"touchmove",cancel:"touchcancel"},eF={start:"mousedown",end:"mouseup",move:"mousemove",cancel:"mouseleave"};function eH(e){return e&&e.length>0?e[e.length-1]:null}var eZ=function(){function e(t){var i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{eventType:"touch"};(0,n.PA)(this,e),(0,n._x)(this,"onTouchStart",function(e){var t=i._pos,n=i.root,r=eH(e.touches);t.x=r?parseInt(r.pageX,10):e.pageX,t.y=r?parseInt(r.pageX,10):e.pageX,t.start=!0,i.__setPress(e),n.addEventListener(i.events.end,i.onTouchEnd),n.addEventListener(i.events.cancel,i.onTouchCancel),n.addEventListener(i.events.move,i.onTouchMove),i.trigger(eN.TOUCH_START,e)}),(0,n._x)(this,"onTouchCancel",function(e){i.onTouchEnd(e)}),(0,n._x)(this,"onTouchEnd",function(e){var t=i._pos,n=i.root;i.__clearPress(),n.removeEventListener(i.events.cancel,i.onTouchCancel),n.removeEventListener(i.events.end,i.onTouchEnd),n.removeEventListener(i.events.move,i.onTouchMove),e.moving=t.moving,e.press=t.press,t.press&&i.trigger(eN.PRESS_END,e),i.trigger(eN.TOUCH_END,e),t.press||t.moving||i.__setDb(e),t.press=!1,t.start=!1,t.moving=!1}),(0,n._x)(this,"onTouchMove",function(e){var t=i._pos,n=i.config,r=eH(e.touches),o=r?parseInt(r.pageX,10):e.pageX,a=r?parseInt(r.pageY,10):e.pageX,s=o-t.x;if(!(Math.abs(a-t.y)<n.miniStep&&Math.abs(s)<n.miniStep))i.__clearPress(),t.press&&i.trigger(eN.PRESS_END,e),t.press=!1,t.moving=!0,i.trigger(eN.TOUCH_MOVE,e)}),this._pos={moving:!1,start:!1,x:0,y:0},this.config={pressDelay:600,dbClickDelay:200,disablePress:!1,disableDbClick:!1,miniStep:2,needPreventDefault:!0},Object.keys(r).map(function(e){i.config[e]=r[e]}),this.root=t,this.events="mouse"===r.eventType?eF:eM,this.pressIntrvalId=null,this.dbIntrvalId=null,this.__handlers={},this._initEvent()}return(0,n.qH)(e,[{key:"_initEvent",value:function(){this.root.addEventListener(this.events.start,this.onTouchStart)}},{key:"__setPress",value:function(e){var t=this,i=this.config;this.pressIntrvalId&&this.__clearPress(),this.pressIntrvalId=setTimeout(function(){t.trigger(eN.PRESS,e),t._pos.press=!0,t.__clearPress()},i.pressDelay)}},{key:"__clearPress",value:function(){window.clearTimeout(this.pressIntrvalId),this.pressIntrvalId=null}},{key:"__setDb",value:function(e){var t=this,i=this.config;if(this.dbIntrvalId){this.__clearDb(),this.trigger(eN.DOUBlE_CLICK,e);return}this.dbIntrvalId=setTimeout(function(){t.__clearDb(),!t._pos.start&&!t._pos.press&&!t._pos.moving&&t.trigger(eN.CLICK,e)},i.dbClickDelay)}},{key:"__clearDb",value:function(){clearTimeout(this.dbIntrvalId),this.dbIntrvalId=null}},{key:"on",value:function(e,t){!this.__handlers[e]&&(this.__handlers[e]=[]),this.__handlers[e].push(t)}},{key:"off",value:function(e,t){if(!!this.__handlers[e]){for(var i=this.__handlers[e],n=-1,r=0;r<i.length;r++)if(i[r]===t){n=r;break}n>=0&&this.__handlers[e].splice(n,1)}}},{key:"trigger",value:function(e,t){if(!!this.__handlers[e])this.__handlers[e].map(function(i){try{i(t)}catch(t){console.error("trigger>>:".concat(e),t)}})}},{key:"destroy",value:function(){var e=this,t={touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"};Object.keys(t).forEach(function(i){e.root.removeEventListener(i,e[t[i]])})}}]),e}();function eU(){return new DOMParser().parseFromString('<svg width="20" height="9" viewBox="0 0 8 9" fill="none" xmlns="http://www.w3.org/2000/svg"\n  xmlns:xlink="http://www.w3.org/1999/xlink">\n  <path opacity="0.54"\n    d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z"\n    fill="white" />\n  <path transform="translate(5 0)" d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z" fill="white"/>\n</svg>',"image/svg+xml").firstChild}var eB={AUTO:"auto",SEEKING:"seeking",PLAYBACK:"playbackrate"},eW=["videoClick","videoDbClick"],ej=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(e){var r;return(0,n.PA)(this,i),r=t.call(this,e),(0,n._x)((0,n.Lc)(r),"onTouchStart",function(e){var t=(0,n.Lc)(r),i=t.player,o=t.config,s=t.pos,l=t.playerConfig,c=r.getTouche(e);if(c&&!o.disableGesture&&r.duration>0&&!i.ended){s.isStart=!0,r.timer&&clearTimeout(r.timer),a.ZP.checkIsFunction(l.disableSwipeHandler)&&l.disableSwipeHandler(),r.find(".xg-dur").innerHTML=a.ZP.format(r.duration);var u=r.root.getBoundingClientRect();90===i.rotateDeg?(s.top=u.left,s.left=u.top,s.width=u.height,s.height=u.width):(s.top=u.top,s.left=u.left,s.width=u.width,s.height=u.height);var h=parseInt(c.pageX-s.left,10),d=parseInt(c.pageY-s.top,10);s.x=90===i.rotateDeg?d:h,s.y=90===i.rotateDeg?h:d,s.scopeL=o.scopeL*s.width,s.scopeR=(1-o.scopeR)*s.width,s.scopeM1=s.width*(1-o.scopeM)/2,s.scopeM2=s.width-s.scopeM1}}),(0,n._x)((0,n.Lc)(r),"onTouchMove",function(e){var t=r.getTouche(e),i=(0,n.Lc)(r),o=i.pos,a=i.config,s=i.player;if(!!t&&!a.disableGesture&&!!r.duration&&!!o.isStart){var l=a.miniMoveStep,c=a.hideControlsActive,u=parseInt(t.pageX-o.left,10),h=parseInt(t.pageY-o.top,10),d=90===s.rotateDeg?h:u,p=90===s.rotateDeg?u:h;if(Math.abs(d-o.x)>l||Math.abs(p-o.y)>l){var g=d-o.x,f=p-o.y,y=o.scope;if(-1===y&&(0===(y=r.checkScope(d,p,g,f,o))&&(c?s.blur():s.focus({autoHide:!1}),o.time||(o.time=parseInt(1e3*s.currentTime,10)+1e3*r.timeOffset)),o.scope=y),-1===y||y>0&&!a.gestureY||0===y&&!a.gestureX)return;r.executeMove(g,f,y,o.width,o.height),o.x=d,o.y=p}}}),(0,n._x)((0,n.Lc)(r),"onTouchEnd",function(e){var t=(0,n.Lc)(r),i=t.player,o=t.pos,s=t.playerConfig;if(setTimeout(function(){i.getPlugin("progress")&&i.getPlugin("progress").resetSeekState()},10),!!o.isStart){o.scope>-1&&e.cancelable&&e.preventDefault();var l=r.config,c=l.disableGesture,u=l.gestureX;!c&&u?r.endLastMove(o.scope):o.time=0,o.scope=-1,r.resetPos(),a.ZP.checkIsFunction(s.enableSwipeHandler)&&s.enableSwipeHandler(),r.changeAction(eB.AUTO)}}),(0,n._x)((0,n.Lc)(r),"onRootTouchMove",function(e){if(!r.config.disableGesture&&!!r.config.gestureX)r.checkIsRootTarget(e)&&(e.stopPropagation(),r.pos.isStart?r.onTouchMove(e):r.onTouchStart(e))}),(0,n._x)((0,n.Lc)(r),"onRootTouchEnd",function(e){r.pos.scope>-1&&r.onTouchEnd(e)}),r.pos={isStart:!1,x:0,y:0,time:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1},r.timer=null,r}return(0,n.qH)(i,[{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"registerIcons",value:function(){return{seekTipIcon:{icon:eU,class:"xg-seek-pre"}}}},{key:"afterCreate",value:function(){var e=this;eW.map(function(t){e.__hooks[t]=null});var t=this.playerConfig,i=this.config,n=this.player;!0===t.closeVideoDblclick&&(i.closedbClick=!0),this.resetPos(),!a.ZP.isUndefined(t.disableGesture)&&(i.disableGesture=!!t.disableGesture),this.appendChild(".xg-seek-icon",this.icons.seekTipIcon),this.xgMask=a.ZP.createDom("xg-mask","",{},"xgmask"),n.root.appendChild(this.xgMask),this.initCustomStyle(),this.registerThumbnail();var r="mouse"===this.domEventType?"mouse":"touch";this.touch=new eZ(this.root,{eventType:r,needPreventDefault:!this.config.disableGesture}),this.root.addEventListener("contextmenu",function(e){e.preventDefault()}),n.root.addEventListener("touchmove",this.onRootTouchMove,!0),n.root.addEventListener("touchend",this.onRootTouchEnd,!0),n.root.addEventListener("touchcancel",this.onRootTouchEnd,!0);var o=this.player.controls;o&&o.center&&(o.center.addEventListener("touchmove",this.onRootTouchMove,!0),o.center.addEventListener("touchend",this.onRootTouchEnd,!0),o.center.addEventListener("touchcancel",this.onRootTouchEnd,!0)),this.on(S.DURATION_CHANGE,function(){var t=e.player,i=e.config;t.duration>0&&1e3*t.duration<i.moveDuration&&(i.moveDuration=1e3*t.duration)}),this.on([S.CANPLAY,S.ENDED],function(){var t=e.pos,i=t.time;!t.isStart&&i>0&&(e.pos.time=0)});var s={touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",press:"onPress",pressend:"onPressEnd",click:"onClick",doubleclick:"onDbClick"};if(Object.keys(s).map(function(t){e.touch.on(t,function(i){e[s[t]](i)})}),!i.disableActive){var l=n.plugins.progress;l&&(l.addCallBack("dragmove",function(t){e.activeSeekNote(t.currentTime,t.forward)}),["dragend","click"].forEach(function(t){l.addCallBack(t,function(){e.changeAction(eB.AUTO)})}))}}},{key:"registerThumbnail",value:function(){var e=this.player.plugins.thumbnail;if(e&&e.usable){this.thumbnail=e.createThumbnail(null,"mobile-thumbnail");var t=this.find(".time-preview");t.insertBefore(this.thumbnail,t.children[0])}}},{key:"initCustomStyle",value:function(){var e=(this.playerConfig||{}).commonStyle,t=e.playedColor,i=e.progressColor,n=e.timePreviewStyle,r=e.curTimeColor,o=e.durationColor;if(t&&(this.find(".xg-curbar").style.backgroundColor=t),i&&(this.find(".xg-bar").style.backgroundColor=i),n){var s=this.find(".time-preview");Object.keys(n).forEach(function(e){s.style[e]=n[e]})}var l=r||t;l&&(this.find(".xg-cur").style.color=l),o&&(this.find(".xg-dur").style.color=o),this.config.disableTimeProgress&&a.ZP.addClass(this.find(".xg-timebar"),"hide")}},{key:"resetPos",value:function(){var e=this;this.pos?(this.pos.isStart=!1,this.pos.scope=-1,["x","y","width","height","scopeL","scopeR","scopeM1","scopeM2"].map(function(t){e.pos[t]=0})):this.pos={isStart:!1,x:0,y:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1,time:0}}},{key:"changeAction",value:function(e){var t=this.player;this.root.setAttribute("data-xg-action",e);var i=t.plugins.start;i&&i.recover()}},{key:"getTouche",value:function(e){var t=this.player.rotateDeg,i=e.touches&&e.touches.length>0?e.touches[e.touches.length-1]:e;return{pageX:i.pageX,pageY:i.pageY}}},{key:"checkScope",value:function(e,t,i,n,r){var o=r.width,a=-1;if(e<0||e>o)return a;var s=0===n?Math.abs(i):Math.abs(i/n);return Math.abs(i)>0&&s>=1.73&&e>r.scopeM1&&e<r.scopeM2?a=0:(0===Math.abs(i)||s<=.57)&&(a=e<r.scopeL?1:e>r.scopeR?2:3),a}},{key:"executeMove",value:function(e,t,i,n,r){switch(i){case 0:this.updateTime(e/n*this.config.scopeM);break;case 1:this.updateBrightness(t/r);break;case 2:!c.os.isIos&&this.updateVolume(t/r)}}},{key:"endLastMove",value:function(e){var t=this,i=this.pos,n=this.player,r=this.config,o=(i.time-this.timeOffset)/1e3;if(0===e)n.seek(Number(o).toFixed(1)),r.hideControlsEnd?n.blur():n.focus(),this.timer=setTimeout(function(){t.pos.time=0},500);this.changeAction(eB.AUTO)}},{key:"checkIsRootTarget",value:function(e){var t=this.player.plugins||{};return!(t.progress&&t.progress.root.contains(e.target))&&(t.start&&t.start.root.contains(e.target)||t.controls&&t.controls.root.contains(e.target))}},{key:"sendUseAction",value:function(e){var t=this.player.paused;this.emitUserAction(e,"switch_play_pause",{prop:"paused",from:t,to:!t})}},{key:"clickHandler",value:function(e){var t=this.player,i=this.config,n=this.playerConfig;if(t.state<$.RUNNING){!n.closeVideoClick&&(this.sendUseAction(a.ZP.createEvent("click")),t.play());return}!i.closedbClick||n.closeVideoClick?t.isActive?t.blur():t.focus():!n.closeVideoClick&&((t.isActive||i.focusVideoClick)&&(this.sendUseAction(a.ZP.createEvent("click")),this.switchPlayPause()),t.focus())}},{key:"dbClickHandler",value:function(e){var t=this.config,i=this.player;!t.closedbClick&&i.state>=$.RUNNING&&(this.sendUseAction(a.ZP.createEvent("dblclick")),this.switchPlayPause())}},{key:"onClick",value:function(e){var t=this,i=this.player;(0,G.rl)(this,eW[0],function(e,i){t.clickHandler(i.e)},{e,paused:i.paused})}},{key:"onDbClick",value:function(e){var t=this,i=this.player;(0,G.rl)(this,eW[1],function(e,i){t.dbClickHandler(i.e)},{e,paused:i.paused})}},{key:"onPress",value:function(e){var t=this.pos,i=this.config,n=this.player;if(!i.disablePress)t.rate=this.player.playbackRate,this.emitUserAction("press","change_rate",{prop:"playbackRate",from:n.playbackRate,to:i.pressRate}),n.playbackRate=i.pressRate,this.changeAction(eB.PLAYBACK)}},{key:"onPressEnd",value:function(e){var t=this.pos,i=this.config,n=this.player;if(!i.disablePress)this.emitUserAction("pressend","change_rate",{prop:"playbackRate",from:n.playbackRate,to:t.rate}),n.playbackRate=t.rate,t.rate=1,this.changeAction(eB.AUTO)}},{key:"updateTime",value:function(e){var t=this.player,i=this.config,n=this.player.duration,r=parseInt((e=Number(e.toFixed(4)))*i.moveDuration,10)+this.timeOffset;r+=this.pos.time,r=r<0?0:r>1e3*n?1e3*n-200:r,t.getPlugin("time")&&t.getPlugin("time").updateTime(r/1e3),t.getPlugin("progress")&&t.getPlugin("progress").updatePercent(r/1e3/this.duration,!0),this.activeSeekNote(r/1e3,e>0),i.isTouchingSeek&&t.seek(Number((r-this.timeOffset)/1e3).toFixed(1)),this.pos.time=r}},{key:"updateVolume",value:function(e){this.player.rotateDeg&&(e=-e);var t=this.player,i=this.pos;if(e=parseInt(100*e,10),i.volume+=e,!(10>Math.abs(i.volume))){var n=parseInt(10*t.volume,10)-parseInt(i.volume/10,10);n=n>10?10:n<1?0:n,t.volume=n/10,i.volume=0}}},{key:"updateBrightness",value:function(e){var t=this.pos,i=this.config,n=this.xgMask;if(!!i.darkness){this.player.rotateDeg&&(e=-e);var r=t.light+.8*e;r=r>i.maxDarkness?i.maxDarkness:r<0?0:r,n&&(n.style.backgroundColor="rgba(0,0,0,".concat(r,")")),t.light=r}}},{key:"activeSeekNote",value:function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=this.player,n=this.config,r=!(this.duration!==1/0&&this.duration>0);if(!!e&&"number"==typeof e&&!r&&!n.disableActive){e<0?e=0:e>i.duration&&(e=i.duration-.2),this.changeAction(eB.SEEKING);var o=i.plugins.start;o&&o.focusHide(),this.find(".xg-dur").innerHTML=a.ZP.format(this.duration),this.find(".xg-cur").innerHTML=a.ZP.format(e),this.find(".xg-curbar").style.width="".concat(e/this.duration*100,"%"),t?a.ZP.removeClass(this.find(".xg-seek-show"),"xg-back"):a.ZP.addClass(this.find(".xg-seek-show"),"xg-back"),this.updateThumbnails(e)}}},{key:"updateThumbnails",value:function(e){var t=this.player.plugins.thumbnail;t&&t.usable&&this.thumbnail&&t.update(this.thumbnail,e,160,90)}},{key:"switchPlayPause",value:function(){var e=this.player;if(e.state<$.ATTACHED)return!1;!e.ended&&(e.paused?e.play():e.pause())}},{key:"disableGesture",value:function(){this.config.disableGesture=!0}},{key:"enableGesture",value:function(){this.config.disableGesture=!1}},{key:"destroy",value:function(){var e=this.player;this.timer&&clearTimeout(this.timer),this.thumbnail=null,e.root.removeChild(this.xgMask),this.xgMask=null,this.touch&&this.touch.destroy(),this.touch=null,e.root.removeEventListener("touchmove",this.onRootTouchMove,!0),e.root.removeEventListener("touchend",this.onRootTouchEnd,!0),e.root.removeEventListener("touchcancel",this.onRootTouchEnd,!0);var t=this.player.controls;t&&t.center&&(t.center.removeEventListener("touchmove",this.onRootTouchMove,!0),t.center.removeEventListener("touchend",this.onRootTouchEnd,!0),t.center.removeEventListener("touchcancel",this.onRootTouchEnd,!0))}},{key:"render",value:function(){var e="normal"!==this.config.gradient?"gradient ".concat(this.config.gradient):"gradient";return'\n     <xg-trigger class="trigger">\n     <div class="'.concat(e,'"></div>\n        <div class="time-preview">\n            <div class="xg-seek-show ').concat(this.config.disableSeekIcon?" hide-seek-icon":"",'">\n              <i class="xg-seek-icon"></i>\n              <span class="xg-cur">00:00</span>\n              <span class="xg-separator">/</span>\n              <span class="xg-dur">00:00</span>\n            </div>\n              <div class="xg-bar xg-timebar">\n                <div class="xg-curbar"></div>\n              </div>\n        </div>\n        <div class="xg-playbackrate xg-top-note">\n            <span><i>').concat(this.config.pressRate,"X</i>").concat(this.i18n.FORWARD,"</span>\n        </div>\n     </xg-trigger>\n    ")}}],[{key:"pluginName",get:function(){return"mobile"}},{key:"defaultConfig",get:function(){return{index:0,disableGesture:!1,gestureX:!0,gestureY:!0,gradient:"normal",isTouchingSeek:!1,miniMoveStep:5,miniYPer:5,scopeL:.25,scopeR:.25,scopeM:.9,pressRate:2,darkness:!0,maxDarkness:.8,disableActive:!1,disableTimeProgress:!1,hideControlsActive:!1,hideControlsEnd:!1,moveDuration:36e4,closedbClick:!1,disablePress:!0,disableSeekIcon:!1,focusVideoClick:!1}}}]),i}(M.ZP);function eG(e){var t=e.tagName;return"INPUT"===t||"TEXTAREA"===t||!!e.isContentEditable||!1}var eY=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){var e;(0,n.PA)(this,i);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,n._x)((0,n.Lc)(e),"onBodyKeyDown",function(t){if(!!e.player){var i=t||window.event,r=i.keyCode,o=(0,n.Lc)(e),a=o._keyState,s=o.player,l=e.config,c=l.disable,u=l.disableBodyTrigger,h=l.isIgnoreUserActive;if(c||u||!(s.isUserActive||h)||eG(i.target)||!e.checkIsVisible()||i.metaKey||i.altKey||i.ctrlKey){a.isBodyKeyDown=!1;return}!t.repeat&&!a.isKeyDown&&((i.target===document.body||e.config.isGlobalTrigger&&!eG(i.target))&&e.checkCode(r,!0)&&(a.isBodyKeyDown=!0),document.addEventListener("keyup",e.onBodyKeyUp)),a.isBodyKeyDown&&e.handleKeyDown(i)}}),(0,n._x)((0,n.Lc)(e),"onBodyKeyUp",function(t){if(!!e.player)document.removeEventListener("keyup",e.onBodyKeyUp),e.handleKeyUp(t)}),(0,n._x)((0,n.Lc)(e),"onKeydown",function(t){if(!e.player)return;var i=t||window.event,r=(0,n.Lc)(e)._keyState;if(!i.repeat){if(e.config.disable||e.config.disableRootTrigger||i.metaKey||i.altKey||i.ctrlKey)return;i&&(37===i.keyCode||e.checkCode(i.keyCode))&&(i.target===e.player.root||i.target===e.player.video||i.target===e.player.controls.el)&&(r.isKeyDown=!0),e.player.root.addEventListener("keyup",e.onKeyup)}if(!!r.isKeyDown)e.handleKeyDown(i)}),(0,n._x)((0,n.Lc)(e),"onKeyup",function(t){if(!!e.player)e.player.root.removeEventListener("keyup",e.onKeyup),e.handleKeyUp(t)}),e}return(0,n.qH)(i,[{key:"mergekeyCodeMap",value:function(){var e=this,t=this.config.keyCodeMap;t&&Object.keys(t).map(function(i){e.keyCodeMap[i]?["keyCode","action","disable","pressAction","disablePress","isBodyTarget"].map(function(n){t[i][n]&&(e.keyCodeMap[i][n]=t[i][n])}):e.keyCodeMap[i]=t[i]})}},{key:"afterCreate",value:function(){this.config.disable=!this.playerConfig.keyShortcut;var e="function"==typeof this.config.seekStep?this.config.seekStep(this.player):this.config.seekStep;!(!e||"number"!=typeof e)&&(this.seekStep=e),this.keyCodeMap={space:{keyCode:32,action:"playPause",disable:!1,disablePress:!1,noBodyTarget:!1},up:{keyCode:38,action:"upVolume",disable:!1,disablePress:!1,noBodyTarget:!0},down:{keyCode:40,action:"downVolume",disable:!1,disablePress:!1,noBodyTarget:!0},left:{keyCode:37,action:"seekBack",disablePress:!1,disable:!1},right:{keyCode:39,action:"seek",pressAction:"changePlaybackRate",disablePress:!1,disable:!1},esc:{keyCode:27,action:"exitFullscreen",disablePress:!0,disable:!1}},this.mergekeyCodeMap(),this._keyState={isKeyDown:!1,isBodyKeyDown:!1,isPress:!1,tt:0,playbackRate:0},this.player.root.addEventListener("keydown",this.onKeydown),document.addEventListener("keydown",this.onBodyKeyDown)}},{key:"setConfig",value:function(e){var t=this;Object.keys(e).forEach(function(i){t.config[i]=e[i]})}},{key:"checkIsVisible",value:function(){if(!this.config.checkVisible)return!0;var e=this.player.root.getBoundingClientRect(),t=e.height,i=e.top,n=e.bottom,r=window.innerHeight;return(!(i<0)||!(i<0-.9*t))&&(!(n>0)||!(n-r>.9*t))&&!0}},{key:"checkCode",value:function(e,t){var i=this,n=!1;return Object.keys(this.keyCodeMap).map(function(r){i.keyCodeMap[r]&&e===i.keyCodeMap[r].keyCode&&!i.keyCodeMap[r].disable&&(n=!t||t&&!i.keyCodeMap[r].noBodyTarget)}),n}},{key:"downVolume",value:function(e){var t=this.player;if(!(t.volume<=0)){var i=parseFloat((t.volume-.1).toFixed(1)),n={volume:{from:t.volume,to:i}};this.emitUserAction(e,"change_volume",{props:n}),i>=0?t.volume=i:t.volume=0}}},{key:"upVolume",value:function(e){var t=this.player;if(!(t.volume>=1)){var i=parseFloat((t.volume+.1).toFixed(1)),n={volume:{from:t.volume,to:i}};this.emitUserAction(e,"change_volume",{props:n}),i<=1?t.volume=i:t.volume=1}}},{key:"seek",value:function(e){var t=this.player,i=t.currentTime,n=t.offsetCurrentTime,r=t.duration,o=t.offsetDuration,s=t.timeSegments,l=n>-1?n:i,c=o||r,u=e.repeat&&this.seekStep>=4?parseInt(this.seekStep/2,10):this.seekStep;l+u<=c?l+=u:l=c;var h=a.ZP.getCurrentTimeByOffset(l,s);this.emitUserAction(e,"seek",{props:{currentTime:{from:i,to:h}}}),this.player.currentTime=h}},{key:"seekBack",value:function(e){var t=this.player,i=t.currentTime,n=t.offsetCurrentTime,r=t.timeSegments,o=(n>-1?n:i)-(e.repeat?parseInt(this.seekStep/2,10):this.seekStep);o<0&&(o=0);var s={currentTime:{from:i,to:o=a.ZP.getCurrentTimeByOffset(o,r)}};this.emitUserAction(e,"seek",{props:s}),this.player.currentTime=o}},{key:"changePlaybackRate",value:function(e){var t=this._keyState,i=this.config,n=this.player;0===t.playbackRate&&(t.playbackRate=n.playbackRate,n.playbackRate=i.playbackRate)}},{key:"playPause",value:function(e){var t=this.player;if(!!t)this.emitUserAction(e,"switch_play_pause"),t.paused?t.play():t.pause()}},{key:"exitFullscreen",value:function(e){var t=this.player,i=t.fullscreen,n=t.cssfullscreen;i&&(this.emitUserAction("keyup","switch_fullscreen",{prop:"fullscreen",from:i,to:!i}),t.exitFullscreen()),n&&(this.emitUserAction("keyup","switch_css_fullscreen",{prop:"cssfullscreen",from:n,to:!n}),t.exitCssFullscreen())}},{key:"handleKeyDown",value:function(e){var t=this._keyState;if(e.repeat){t.isPress=!0;var i=Date.now();if(i-t.tt<200)return;t.tt=i}this.handleKeyCode(e.keyCode,e,t.isPress)}},{key:"handleKeyUp",value:function(e){var t=this._keyState;t.playbackRate>0&&(this.player.playbackRate=t.playbackRate,t.playbackRate=0),t.isKeyDown=!1,t.isPress=!1,t.tt=0}},{key:"handleKeyCode",value:function(e,t,i){for(var r=Object.keys(this.keyCodeMap),o=0;o<r.length;o++){var a=this.keyCodeMap[r[o]],s=a.action,l=a.keyCode,c=a.disable,u=a.pressAction,h=a.disablePress;if(l===e){if(!c&&!(i&&h)){var d,p=i&&u||s;"function"==typeof p?s(t,this.player,i):"string"==typeof p&&"function"==typeof this[p]&&this[p](t,this.player,i),this.emit(S.SHORTCUT,(0,n.Zj)({key:r[o],target:t.target,isPress:i},this.keyCodeMap[r[o]]))}(d=t).preventDefault(),d.returnValue=!1,t.stopPropagation();break}}}},{key:"destroy",value:function(){this.player.root.removeEventListener("keydown",this.onKeydown),document.removeEventListener("keydown",this.onBodyKeyDown),this.player.root.removeEventListener("keyup",this.onKeyup),document.removeEventListener("keyup",this.onBodyKeyUp)}},{key:"disable",value:function(){this.config.disable=!0}},{key:"enable",value:function(){this.config.disable=!1}}],[{key:"pluginName",get:function(){return"keyboard"}},{key:"defaultConfig",get:function(){return{seekStep:10,checkVisible:!1,disableBodyTrigger:!1,disableRootTrigger:!1,isGlobalTrigger:!0,keyCodeMap:{},disable:!1,playbackRate:2,isIgnoreUserActive:!0}}}]),i}(F.ZP);function eV(){return new DOMParser().parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="-5 -5 110 110">\n  <path d="M100,50A50,50,0,1,1,50,0" stroke-width="5" stroke="#ddd" stroke-dasharray="236" fill="none"></path>\n</svg>\n',"image/svg+xml").firstChild}var ez=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){return(0,n.PA)(this,i),t.apply(this,arguments)}return(0,n.qH)(i,[{key:"registerIcons",value:function(){return{loadingIcon:eV}}},{key:"afterCreate",value:function(){this.appendChild("xg-loading-inner",this.icons.loadingIcon)}},{key:"render",value:function(){return'\n    <xg-loading class="xgplayer-loading">\n      <xg-loading-inner></xg-loading-inner>\n    </xg-loading>'}}],[{key:"pluginName",get:function(){return"loading"}},{key:"defaultConfig",get:function(){return{position:M.kd.ROOT}}}]),i}(M.ZP),eK=[{tag:"xg-cache",className:"xgplayer-progress-cache",styleKey:"cachedColor"},{tag:"xg-played",className:"xgplayer-progress-played",styleKey:"playedColor"}],eX=function(){function e(t){(0,n.PA)(this,e),this.fragments=t.fragments||[],0===this.fragments.length&&this.fragments.push({percent:1}),this._callBack=t.actionCallback,this.fragConfig={fragFocusClass:t.fragFocusClass||"inner-focus-point",fragAutoFocus:!!t.fragAutoFocus,fragClass:t.fragClass||""},this.style=t.style||{playedColor:"",cachedColor:"",progressColor:""},this.duration=0,this.cachedIndex=0,this.playedIndex=0,this.focusIndex=-1}return(0,n.qH)(e,[{key:"updateDuration",value:function(e){var t=this;this.duration=e;var i=0,n=this.fragments;this.fragments=n.map(function(e){return e.start=parseInt(i,10),e.end=parseInt(i+e.percent*t.duration,10),e.duration=parseInt(e.percent*t.duration,10),i+=e.percent*t.duration,e})}},{key:"updateProgress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"played",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{newIndex:0,curIndex:0,millisecond:0},i=this.progressList,n=this.fragments;if(!(i.length<1)){var r=t.newIndex,o=t.curIndex,a=t.millisecond;r!==o&&i.map(function(t,i){i<r?t[e].style.width="100%":i>r&&(t[e].style.width=0)});var s=n[r],l=0===a?0:(a-s.start)/s.duration;i[r][e].style.width=l<0?0:"".concat(100*l,"%")}}},{key:"updateFocus",value:function(e){if(!!this.fragConfig.fragAutoFocus&&!(this.fragments.length<2)){if(!e){if(this.focusIndex>-1){this.unHightLight(this.focusIndex);var t={index:-1,preIndex:this.focusIndex,fragment:null};this._callBack&&this._callBack(t),this.focusIndex=-1}return}var i=this.findIndex(1e3*e.currentTime,this.focusIndex);if(i>=0&&i!==this.focusIndex){this.focusIndex>-1&&this.unHightLight(this.focusIndex),this.setHightLight(i);var n={index:i,preIndex:this.focusIndex,fragment:this.fragments[this.focusIndex]};this.focusIndex=i,this._callBack&&this._callBack(n)}}}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cached:0,played:0},t=arguments.length>1?arguments[1]:void 0;if(!this.duration||parseInt(1e3*t,10)!==this.duration){if(!t&&0!==t)return;this.updateDuration(parseInt(1e3*t,10))}var i=this.playedIndex,n=this.cachedIndex;if("Undefined"!==a.ZP.typeOf(e.played)){var r=this.findIndex(1e3*e.played,i);if(r<0)return;this.updateProgress("played",{newIndex:r,curIndex:i,millisecond:parseInt(1e3*e.played,10)}),this.playedIndex=r}if("Undefined"!==a.ZP.typeOf(e.cached)){var o=this.findIndex(1e3*e.cached,n);if(o<0)return;this.updateProgress("cached",{newIndex:o,curIndex:n,millisecond:parseInt(1e3*e.cached,10)}),this.cachedIndex=o}}},{key:"findIndex",value:function(e,t){var i=this.fragments;if(!i||0===i.length)return -1;if(1===i.length)return 0;if(t>-1&&t<i.length&&e>i[t].start&&e<i[t].end)return t;if(e>i[i.length-1].start)return i.length-1;for(var n=0;n<i.length;n++)if(e>i[n].start&&e<=i[n].end){t=n;break}return t}},{key:"findHightLight",value:function(){for(var e=this.root.children,t=0;t<e.length;t++)if(a.ZP.hasClass(e[t],this.fragConfig.fragFocusClass))return{dom:e[t],pos:e[t].getBoundingClientRect()}}},{key:"findFragment",value:function(e){var t=this.root.children;return e<0||e>=t.length?null:{dom:t[e],pos:t[e].getBoundingClientRect()}}},{key:"unHightLight",value:function(){for(var e=this.root.children,t=0;t<e.length;t++)a.ZP.removeClass(e[t],this.fragConfig.fragFocusClass)}},{key:"setHightLight",value:function(e){var t=this.root.children;if(e<t.length)return a.ZP.addClass(t[e],this.fragConfig.fragFocusClass),{dom:t[e],pos:t[e].getBoundingClientRect()}}},{key:"destroy",value:function(){this.progressList=null,this.fragments=null,this.root.innerHTML=""}},{key:"reset",value:function(e){var t=this;if(Object.keys(this.fragConfig).forEach(function(i){void 0!==e[i]&&(t.fragConfig[i]=e[i])}),e.fragments){if(this.fragments=0===e.fragments.length?[{percent:1}]:e.fragments,this.updateDuration(this.duration),this.playedIndex=0,this.cachedIndex=0,this.root){for(var i=this.root.children;i.length>0;)this.root.removeChild(i[0])}this.render()}}},{key:"render",value:function(){var e=this,t=this.style.progressColor;if(!this.root&&(this.root=a.ZP.createDom("xg-inners","",{},"progress-list")),this.fragments){var i=this.fragConfig,n=i.fragClass,r=i.fragFocusClass;this.progressList=this.fragments.map(function(i){var o=a.ZP.createDom("xg-inner","",{style:t?"background:".concat(t,"; flex: ").concat(i.percent):"flex: ".concat(i.percent)},"".concat(i.isFocus?r:""," xgplayer-progress-inner ").concat(n));return e.root.appendChild(o),eK.forEach(function(t){o.appendChild(a.ZP.createDom(t.tag,"",{style:t.styleKey?"background: ".concat(e.style[t.styleKey],"; width:0;"):"width:0;"},t.className))}),{cached:o.children[0],played:o.children[1]}})}return this.root}}]),e}(),eq={POINT:"inner-focus-point",HIGHLIGHT:"inner-focus-highlight"},eJ=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(e){var r;return(0,n.PA)(this,i),r=t.call(this,e),(0,n._x)((0,n.Lc)(r),"onMoveOnly",function(e,t){var i=(0,n.Lc)(r),o=i.pos,s=i.config,l=i.player,c=t;if(e){a.ZP.event(e);var u=a.ZP.getEventPos(e,l.zoom),h=90===l.rotateDeg?u.clientY:u.clientX;if(o.moving&&Math.abs(o.x-h)<s.miniMoveStep)return;o.moving=!0,o.x=h,c=r.computeTime(e,h)}r.triggerCallbacks("dragmove",c,e),r._updateInnerFocus(c)}),(0,n._x)((0,n.Lc)(r),"onBodyClick",function(e){if(!!r.pos.isLocked)r.pos.isLocked=!1,e.preventDefault(),e.stopPropagation()}),(0,n._x)((0,n.Lc)(r),"_mouseDownHandler",function(e,t){r._state.time=t.currentTime,r.updateWidth(t.currentTime,t.seekTime,t.percent,0),r._updateInnerFocus(t)}),(0,n._x)((0,n.Lc)(r),"_mouseUpHandler",function(e,t){(0,n.Lc)(r).pos.moving&&r.updateWidth(t.currentTime,t.seekTime,t.percent,2)}),(0,n._x)((0,n.Lc)(r),"_mouseMoveHandler",function(e,t){var i=(0,n.Lc)(r),o=i._state,a=i.pos,s=i.config,l=i.player;o.time<t.currentTime?t.forward=!0:t.forward=!1,o.time=t.currentTime,a.isDown&&!a.moving&&(a.moving=!0,s.isPauseMoving&&l.pause(),r.triggerCallbacks("dragstart",t,e),r.emitUserAction("drag","dragstart",t)),r.updateWidth(t.currentTime,t.seekTime,t.percent,1),r.triggerCallbacks("dragmove",t,e),r._updateInnerFocus(t)}),(0,n._x)((0,n.Lc)(r),"onMouseDown",function(e){var t=(0,n.Lc)(r),i=t._state,o=t.player,s=t.pos,l=t.config,c=t.playerConfig,u=a.ZP.getEventPos(e,o.zoom),h=90===o.rotateDeg?u.clientY:u.clientX;if(!o.isMini&&!l.closeMoveSeek&&(!!c.allowSeekAfterEnded||!o.ended)){if(!o.duration&&!o.isPlaying){o.play();return}e.stopPropagation(),r.focus(),a.ZP.checkIsFunction(c.disableSwipeHandler)&&c.disableSwipeHandler(),a.ZP.checkIsFunction(l.onMoveStart)&&l.onMoveStart(),a.ZP.event(e),s.x=h,s.isDown=!0,s.moving=!1,i.prePlayTime=o.currentTime,o.focus({autoHide:!1}),r.isProgressMoving=!0,a.ZP.addClass(r.progressBtn,"active");var d=r.computeTime(e,h);return d.prePlayTime=i.prePlayTime,r._mouseDownHandlerHook(e,d),"touchstart"===e.type?(r.root.addEventListener("touchmove",r.onMouseMove),r.root.addEventListener("touchend",r.onMouseUp),r.root.addEventListener("touchcancel",r.onMouseUp)):(r.unbind("mousemove",r.onMoveOnly),document.addEventListener("mousemove",r.onMouseMove,!1),document.addEventListener("mouseup",r.onMouseUp,!1)),!0}}),(0,n._x)((0,n.Lc)(r),"onMouseUp",function(e){var t=(0,n.Lc)(r),i=t.player,o=t.config,s=t.pos,l=t.playerConfig,c=t._state;e.stopPropagation(),e.preventDefault(),a.ZP.checkIsFunction(l.enableSwipeHandler)&&l.enableSwipeHandler(),a.ZP.checkIsFunction(o.onMoveEnd)&&o.onMoveEnd(),a.ZP.event(e),a.ZP.removeClass(r.progressBtn,"active");var u=r.computeTime(e,s.x);u.prePlayTime=c.prePlayTime,s.moving?(r.triggerCallbacks("dragend",u,e),r.emitUserAction("drag","dragend",u)):(r.triggerCallbacks("click",u,e),r.emitUserAction("click","click",u)),r._mouseUpHandlerHook(e,u),s.moving=!1,s.isDown=!1,s.x=0,s.y=0,s.isLocked=!0,c.prePlayTime=0,c.time=0;var h=e.type;"touchend"===h||"touchcancel"===h?(r.root.removeEventListener("touchmove",r.onMouseMove),r.root.removeEventListener("touchend",r.onMouseUp),r.root.removeEventListener("touchcancel",r.onMouseUp),r.blur()):(document.removeEventListener("mousemove",r.onMouseMove,!1),document.removeEventListener("mouseup",r.onMouseUp,!1),s.isEnter?"mobile"!==l.isMobileSimulateMode&&r.bind("mousemove",r.onMoveOnly):r.onMouseLeave(e)),a.ZP.setTimeout((0,n.Lc)(r),function(){r.resetSeekState()},1),i.focus()}),(0,n._x)((0,n.Lc)(r),"onMouseMove",function(e){var t=(0,n.Lc)(r),i=t._state,o=t.pos,s=t.player,l=t.config;a.ZP.checkTouchSupport()&&e.preventDefault(),a.ZP.event(e);var c=a.ZP.getEventPos(e,s.zoom),u=90===s.rotateDeg?c.clientY:c.clientX,h=Math.abs(o.x-u);if((!o.moving||!(h<l.miniMoveStep))&&(!!o.moving||!(h<l.miniStartStep))){o.x=u;var d=r.computeTime(e,u);d.prePlayTime=i.prePlayTime,r._mouseMoveHandlerHook(e,d)}}),(0,n._x)((0,n.Lc)(r),"onMouseOut",function(e){r.triggerCallbacks("mouseout",null,e)}),(0,n._x)((0,n.Lc)(r),"onMouseOver",function(e){r.triggerCallbacks("mouseover",null,e)}),(0,n._x)((0,n.Lc)(r),"onMouseEnter",function(e){var t=(0,n.Lc)(r),i=t.player,o=t.pos;if(!o.isDown&&!o.isEnter&&!i.isMini&&(!!i.config.allowSeekAfterEnded||!i.ended)){o.isEnter=!0,r.bind("mousemove",r.onMoveOnly),r.bind("mouseleave",r.onMouseLeave),a.ZP.event(e);var s=a.ZP.getEventPos(e,i.zoom),l=90===i.rotateDeg?s.clientY:s.clientX,c=r.computeTime(e,l);r.triggerCallbacks("mouseenter",c,e),r.focus()}}),(0,n._x)((0,n.Lc)(r),"onMouseLeave",function(e){r.triggerCallbacks("mouseleave",null,e),r.unlock(),r._updateInnerFocus(null)}),(0,n._x)((0,n.Lc)(r),"onVideoResize",function(){var e=r.pos,t=e.x,i=e.isDown;if(e.isEnter&&!i){var n=r.computeTime(null,t);r.onMoveOnly(null,n)}}),r.useable=!1,r.isProgressMoving=!1,r.__dragCallBacks=[],r._state={now:-1,direc:0,time:0,prePlayTime:-1},r._disableBlur=!1,"boolean"==typeof r.config.isDragingSeek&&(console.warn("[XGPLAYER] 'isDragingSeek' is deprecated, please use 'isDraggingSeek' instead"),r.config.isDraggingSeek=r.config.isDragingSeek),r}return(0,n.qH)(i,[{key:"offsetDuration",get:function(){return this.playerConfig.customDuration||this.player.offsetDuration||this.player.duration}},{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"currentTime",get:function(){var e=this.player,t=e.offsetCurrentTime,i=e.currentTime;return t>=0?t:i+this.timeOffset}},{key:"changeState",value:function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];this.useable=e}},{key:"show",value:function(e){this.root&&(this.root.style.display="flex")}},{key:"_initInner",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t||0===t.length)&&(t=[{percent:1}]);var r=(0,n.Zj)((0,n.Zj)({fragments:t},i),{},{actionCallback:function(t){e.emitUserAction("fragment_focus","fragment_focus",t)}});this.innerList?this.innerList.reset(r):(this.innerList=new eX(r),this.outer.insertBefore(this.innerList.render(),this.outer.children[0]),["findHightLight","unHightLight","setHightLight","findFragment"].map(function(t){e[t]=e.innerList[t].bind(e.innerList)}))}},{key:"_updateInnerFocus",value:function(e){this.innerList&&this.innerList.updateFocus(e)}},{key:"afterCreate",value:function(){if(!this.config.disable&&!this.playerConfig.isLive){this.pos={x:0,y:0,moving:!1,isDown:!1,isEnter:!1,isLocked:!1},this.outer=this.find("xg-outer");var e=this.config,t=e.fragFocusClass,i=e.fragAutoFocus,n=e.fragClass;this._initInner(this.config.fragments,{fragFocusClass:t,fragAutoFocus:i,fragClass:n,style:this.playerConfig.commonStyle||{}}),"mobile"===c.device&&(this.config.isDraggingSeek=!1,this.isMobile=!0),this.progressBtn=this.find(".xgplayer-progress-btn"),this.listenEvents(),this.bindDomEvents(),this.initCustomStyle()}}},{key:"listenEvents",value:function(){var e=this;this.on(S.DURATION_CHANGE,function(){e.onMouseLeave()}),this.on(S.TIME_UPDATE,function(){e.onTimeupdate()}),this.on(S.SEEKED,function(){e.onTimeupdate(),e.onCacheUpdate()}),this.on(S.PROGRESS,function(){e.onCacheUpdate()}),this.on(S.ENDED,function(){e.onCacheUpdate(!0),e.onTimeupdate(!0),e._state.now=0}),this.on(S.EMPTIED,function(){e.onReset()}),this.on(S.VIDEO_RESIZE,function(){e.onVideoResize()})}},{key:"setConfig",value:function(e){var t=this,i=null;Object.keys(e).forEach(function(n){t.config[n]=e[n],"fragments"===n&&(i=e[n])}),i&&this._initInner(i,e)}},{key:"initCustomStyle",value:function(){var e=(this.playerConfig||{}).commonStyle.sliderBtnStyle,t=this.progressBtn;e&&("string"==typeof e?t.style.boxShadow=e:"object"===(0,n.Ac)(e)&&Object.keys(e).map(function(i){t.style[i]=e[i]}))}},{key:"triggerCallbacks",value:function(e,t,i){this.__dragCallBacks.length>0&&this.__dragCallBacks.map(function(n){if(n&&n.handler&&n.type===e)try{n.handler(t,i)}catch(e){console.error("[XGPLAYER][triggerCallbacks] ".concat(n," error"),e)}})}},{key:"addCallBack",value:function(e,t){t&&"function"==typeof t&&this.__dragCallBacks.push({type:e,handler:t})}},{key:"removeCallBack",value:function(e,t){var i=this.__dragCallBacks,n=-1;i.map(function(i,r){i&&i.type===e&&i.handler===t&&(n=r)}),n>-1&&i.splice(n,1)}},{key:"unlock",value:function(){var e=this.player,t=this.pos;if(t.isEnter=!1,t.isLocked=!1,!e.isMini){if(this.unbind("mousemove",this.onMoveOnly),t.isDown){this.unbind("mouseleave",this.onMouseLeave);return}this.blur()}}},{key:"bindDomEvents",value:function(){var e=this.player.config;this._mouseDownHandlerHook=this.hook("dragstart",this._mouseDownHandler),this._mouseUpHandlerHook=this.hook("dragend",this._mouseUpHandler),this._mouseMoveHandlerHook=this.hook("drag",this._mouseMoveHandler),("touch"===this.domEventType||"compatible"===this.domEventType)&&this.root.addEventListener("touchstart",this.onMouseDown),("mouse"===this.domEventType||"compatible"===this.domEventType)&&(this.bind("mousedown",this.onMouseDown),"mobile"!==e.isMobileSimulateMode&&this.bind("mouseenter",this.onMouseEnter),this.bind("mouseover",this.onMouseOver),this.bind("mouseout",this.onMouseOut),this.player.root.addEventListener("click",this.onBodyClick,!0))}},{key:"focus",value:function(){this.player.controls.pauseAutoHide(),a.ZP.addClass(this.root,"active")}},{key:"blur",value:function(){if(!this._disableBlur)this.player.controls.recoverAutoHide(),a.ZP.removeClass(this.root,"active")}},{key:"disableBlur",value:function(){this._disableBlur=!0}},{key:"enableBlur",value:function(){this._disableBlur=!1}},{key:"updateWidth",value:function(e,t,i,n){var r=this.config,o=this.player;if(r.isCloseClickSeek&&0===n)return;var a=t=t>=o.duration?o.duration-r.endedDiff:Number(t).toFixed(1);if(this.updatePercent(i),this.updateTime(e),1!==n||!!r.isDraggingSeek&&"audio"!==o.config.mediaType)this._state.now=a,this._state.direc=a>o.currentTime?0:1,o.seek(a)}},{key:"computeTime",value:function(e,t){var i,n,r=this.player,o=this.root.getBoundingClientRect(),s=o.width,l=o.height,c=o.top,u=o.left;90===r.rotateDeg?(i=l,n=c):(i=s,n=u);var h=t-n,d=(h=h>i?i:h<0?0:h)/i,p=parseInt((d=d<0?0:d>1?1:d)*this.offsetDuration*1e3,10)/1e3,g=a.ZP.getCurrentTimeByOffset(p,r.timeSegments);return{percent:d,currentTime:p,seekTime:g,offset:h,width:i,left:n,e}}},{key:"updateTime",value:function(e){var t=this.player,i=this.duration;e>i?e=i:e<0&&(e=0);var n=t.plugins.time;n&&n.updateTime(e)}},{key:"resetSeekState",value:function(){this.isProgressMoving=!1;var e=this.player.plugins.time;e&&e.resetActive()}},{key:"updatePercent",value:function(e,t){if(this.isProgressMoving=!0,!this.config.disable){e=e>1?1:e<0?0:e,this.progressBtn.style.left="".concat(100*e,"%"),this.innerList.update({played:e*this.offsetDuration},this.offsetDuration);var i=this.player.plugins.miniprogress;i&&i.update({played:e*this.offsetDuration},this.offsetDuration)}}},{key:"onTimeupdate",value:function(e){var t=this.player,i=this._state,n=this.offsetDuration;if((!t.isSeeking||!t.media.seeking)&&!this.isProgressMoving&&!!t.hasStart){if(i.now>-1){var r=parseInt(1e3*i.now,10)-parseInt(1e3*t.currentTime,10);if(0===i.direc&&r>300||1===i.direc&&r>-300){i.now=-1;return}i.now=-1}var o=this.currentTime;o=a.ZP.adjustTimeByDuration(o,n,e),this.innerList.update({played:o},n),this.progressBtn.style.left="".concat(o/n*100,"%")}}},{key:"onCacheUpdate",value:function(e){var t=this.player,i=this.duration;if(!!t){var n=t.bufferedPoint.end;n=a.ZP.adjustTimeByDuration(n,i,e),this.innerList.update({cached:n},i)}}},{key:"onReset",value:function(){this.innerList.update({played:0,cached:0},0),this.progressBtn.style.left="0%"}},{key:"destroy",value:function(){var e=this.player;this.thumbnailPlugin=null,this.innerList.destroy(),this.innerList=null;var t=this.domEventType;("touch"===t||"compatible"===t)&&(this.root.removeEventListener("touchstart",this.onMouseDown),this.root.removeEventListener("touchmove",this.onMouseMove),this.root.removeEventListener("touchend",this.onMouseUp),this.root.removeEventListener("touchcancel",this.onMouseUp)),("mouse"===t||"compatible"===t)&&(this.unbind("mousedown",this.onMouseDown),this.unbind("mouseenter",this.onMouseEnter),this.unbind("mousemove",this.onMoveOnly),this.unbind("mouseleave",this.onMouseLeave),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),e.root.removeEventListener("click",this.onBodyClick,!0))}},{key:"render",value:function(){if(!this.config.disable&&!this.playerConfig.isLive){var e=this.player.controls?this.player.controls.config.mode:"";return'\n    <xg-progress class="xgplayer-progress '.concat("bottom"===e?"xgplayer-progress-bottom":"",'">\n      <xg-outer class="xgplayer-progress-outer">\n        <xg-progress-btn class="xgplayer-progress-btn"></xg-progress-btn>\n      </xg-outer>\n    </xg-progress>\n    ')}}}],[{key:"pluginName",get:function(){return"progress"}},{key:"defaultConfig",get:function(){return{position:M.kd.CONTROLS_CENTER,index:0,disable:!1,isDraggingSeek:!0,closeMoveSeek:!1,isPauseMoving:!1,isCloseClickSeek:!1,fragments:[{percent:1}],fragFocusClass:eq.POINT,fragClass:"",fragAutoFocus:!1,miniMoveStep:5,miniStartStep:2,onMoveStart:function(){},onMoveEnd:function(){},endedDiff:.2}}},{key:"FRAGMENT_FOCUS_CLASS",get:function(){return eq}}]),i}(M.ZP),eQ=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){var e;(0,n.PA)(this,i);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,n._x)((0,n.Lc)(e),"_onMouseenter",function(t){e.emit("icon_mouseenter",{pluginName:e.pluginName})}),(0,n._x)((0,n.Lc)(e),"_onMouseLeave",function(t){e.emit("icon_mouseleave",{pluginName:e.pluginName})}),e}return(0,n.qH)(i,[{key:"afterCreate",value:function(){this.bind("mouseenter",this._onMouseenter),this.bind("mouseleave",this._onMouseLeave),this.config.disable&&this.disable()}},{key:"destroy",value:function(){this.unbind("mouseenter",this._onMouseenter),this.unbind("mouseleave",this._onMouseLeave)}}]),i}(M.ZP),e$=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){var e;(0,n.PA)(this,i);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,n._x)((0,n.Lc)(e),"btnClick",function(t){t.preventDefault(),t.stopPropagation();var i=(0,n.Lc)(e).player;return e.emitUserAction(t,"switch_play_pause",{prop:"paused",from:i.paused,to:!i.paused}),i.ended?i.replay():i.paused?(i.play(),e.animate(!1)):(i.pause(),e.animate(!0)),!1}),e}return(0,n.qH)(i,[{key:"afterCreate",value:function(){if((0,n.U2)((0,n.IP)(i.prototype),"afterCreate",this).call(this),!this.config.disable)this.initIcons(),this.bind(["touchend","click"],this.btnClick),this.listenEvents(),this.animate(!0)}},{key:"listenEvents",value:function(){var e=this,t=this.player;this.on([S.PLAY,S.PAUSE,S.ERROR,S.EMPTIED],function(){e.animate(t.paused)})}},{key:"registerIcons",value:function(){return{play:{icon:ef,class:"xg-icon-play"},pause:{icon:ey,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.play),this.appendChild(".xgplayer-icon",e.pause)}},{key:"animate",value:function(e){if(!!this.player){var t=this.i18nKeys,i=this.find(".xg-tips");e?(this.setAttr("data-state","pause"),i&&this.changeLangTextKey(i,t.PLAY_TIPS)):(this.setAttr("data-state","play"),i&&this.changeLangTextKey(i,t.PAUSE_TIPS))}}},{key:"destroy",value:function(){(0,n.U2)((0,n.IP)(i.prototype),"destroy",this).call(this),this.unbind(["touchend","click"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-play">\n    <div class="xgplayer-icon">\n    </div>\n    '.concat(eb(this,"PLAY_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"play"}},{key:"defaultConfig",get:function(){return{position:M.kd.CONTROLS_LEFT,index:0,disable:!1}}}]),i}(eQ);function e0(){return new DOMParser().parseFromString('<svg width="32px" height="40px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z" fill="#FFFFFF"></path>\n    </g>\n</svg>',"image/svg+xml").firstChild}var e1=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){return(0,n.PA)(this,i),t.apply(this,arguments)}return(0,n.qH)(i,[{key:"afterCreate",value:function(){var e=this;this.initIcons(),this.onClick=function(t){t.preventDefault(),t.stopPropagation(),e.config.onClick(t)},this.bind(["click","touchend"],this.onClick)}},{key:"registerIcons",value:function(){return{screenBack:{icon:e0,class:"xg-fullscreen-back"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(this.root,e.screenBack)}},{key:"show",value:function(){a.ZP.addClass(this.root,"show")}},{key:"hide",value:function(){a.ZP.removeClass(this.root,"show")}},{key:"render",value:function(){return'<xg-icon class="xgplayer-back">\n    </xg-icon>'}}],[{key:"pluginName",get:function(){return"topbackicon"}},{key:"defaultConfig",get:function(){return{position:M.kd.ROOT_TOP,index:0}}}]),i}(M.ZP);function e2(){return new DOMParser().parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z"></path>\n</svg>\n',"image/svg+xml").firstChild}function e5(){return new DOMParser().parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z"></path>\n</svg>\n',"image/svg+xml").firstChild}var e3=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){var e;(0,n.PA)(this,i);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,n._x)((0,n.Lc)(e),"_onOrientationChange",function(t){e.player.fullscreen&&e.config.rotateFullscreen&&(90===window.orientation||-90===window.orientation?e.player.setRotateDeg(0):e.player.setRotateDeg(90))}),e}return(0,n.qH)(i,[{key:"afterCreate",value:function(){var e=this;(0,n.U2)((0,n.IP)(i.prototype),"afterCreate",this).call(this);var t=this.config,r=this.playerConfig;if(!t.disable){t.target&&(this.playerConfig.fullscreenTarget=this.config.target);var o=a.ZP.getFullScreenEl();r.fullscreenTarget===o&&this.player.getFullscreen().catch(function(e){}),this.initIcons(),this.handleFullscreen=this.hook("fullscreenChange",this.toggleFullScreen,{pre:function(t){var i=e.player.fullscreen;e.emitUserAction(t,"switch_fullscreen",{prop:"fullscreen",from:i,to:!i})}}),this.bind(".xgplayer-fullscreen",["touchend","click"],this.handleFullscreen),this.on(S.FULLSCREEN_CHANGE,function(t){var i=e.find(".xg-tips");i&&e.changeLangTextKey(i,t?e.i18nKeys.EXITFULLSCREEN_TIPS:e.i18nKeys.FULLSCREEN_TIPS),e.animate(t)}),this.config.needBackIcon&&(this.topBackIcon=this.player.registerPlugin({plugin:e1,options:{config:{onClick:function(t){e.handleFullscreen(t)}}}})),"mobile"===c.device&&window.addEventListener("orientationchange",this._onOrientationChange)}}},{key:"registerIcons",value:function(){return{fullscreen:{icon:e2,class:"xg-get-fullscreen"},exitFullscreen:{icon:e5,class:"xg-exit-fullscreen"}}}},{key:"destroy",value:function(){(0,n.U2)((0,n.IP)(i.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon","mobile"===c.device?"touchend":"click",this.handleFullscreen),"mobile"===c.device&&window.removeEventListener("orientationchange",this._onOrientationChange)}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.fullscreen),this.appendChild(".xgplayer-icon",e.exitFullscreen)}},{key:"toggleFullScreen",value:function(e){e&&(e.preventDefault(),e.stopPropagation());var t=this.player,i=this.config;!0===i.useCssFullscreen||"function"==typeof i.useCssFullscreen&&i.useCssFullscreen()?(t.fullscreen?t.exitCssFullscreen():t.getCssFullscreen(),this.animate(t.fullscreen)):i.rotateFullscreen?(t.fullscreen?t.exitRotateFullscreen():t.getRotateFullscreen(),this.animate(t.fullscreen)):i.switchCallback&&"function"==typeof i.switchCallback?i.switchCallback(t.fullscreen):t.fullscreen?(t.exitFullscreen(),i.useScreenOrientation&&this.unlockScreen()):(t.getFullscreen().catch(function(e){}),i.useScreenOrientation&&t.aspectRatio>1&&this.lockScreen(i.lockOrientationType))}},{key:"animate",value:function(e){e?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.topBackIcon&&(e?(this.topBackIcon.show(),this.hide()):(this.topBackIcon.hide(),this.show()))}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-fullscreen">\n    <div class="xgplayer-icon">\n    </div>\n    '.concat(eb(this,"FULLSCREEN_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}},{key:"lockScreen",value:function(e){try{screen.orientation.lock(e).catch(function(e){})}catch(e){}}},{key:"unlockScreen",value:function(){try{screen.orientation.unlock().catch(function(e){})}catch(e){}}}],[{key:"pluginName",get:function(){return"fullscreen"}},{key:"defaultConfig",get:function(){return{position:M.kd.CONTROLS_RIGHT,index:0,useCssFullscreen:!1,rotateFullscreen:!1,useScreenOrientation:!1,lockOrientationType:"landscape",switchCallback:null,target:null,disable:!1,needBackIcon:!1}}}]),i}(eQ),e4=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(e){var r;return(0,n.PA)(this,i),(r=t.call(this,e)).isActiving=!1,r}return(0,n.qH)(i,[{key:"duration",get:function(){var e=this.player,t=e.offsetDuration,i=e.duration;return this.playerConfig.customDuration||t||i}},{key:"currentTime",get:function(){var e=this.player,t=e.offsetCurrentTime,i=e.currentTime;return t>=0?t:i}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"afterCreate",value:function(){var e=this.player.controls.config.mode;if(this.mode="flex"===e?"flex":"normal",!this.config.disable)"flex"===this.mode&&(this.createCenterTime(),this.root.style.display="none"),this.durationDom=this.find(".time-duration"),this.timeDom=this.find(".time-current"),this.listenEvents()}},{key:"listenEvents",value:function(){var e=this;this.on([S.DURATION_CHANGE,S.SEEKED,S.TIME_UPDATE],function(t){"durationchange"===t.eventName&&(e.isActiving=!1),e.onTimeUpdate()}),this.on(S.ENDED,function(){e.onTimeUpdate(!0)}),this.on(S.EMPTIED,function(){e.onReset()})}},{key:"show",value:function(e){if("flex"===this.mode){this.centerCurDom&&(this.centerCurDom.style.display="block"),this.centerDurDom&&(this.centerDurDom.style.display="block");return}this.root.style.display="block"}},{key:"hide",value:function(){if("flex"===this.mode){this.centerCurDom&&(this.centerCurDom.style.display="none"),this.centerDurDom&&(this.centerDurDom.style.display="none");return}this.root.style.display="none"}},{key:"onTimeUpdate",value:function(e){var t=this.player,i=this.config,n=this.duration;if(!i.disable&&!this.isActiving&&!!t.hasStart){var r=this.currentTime+this.timeOffset;r=a.ZP.adjustTimeByDuration(r,n,e),"flex"===this.mode?(this.centerCurDom.innerHTML=this.minWidthTime(a.ZP.format(r)),n!==1/0&&n>0&&(this.centerDurDom.innerHTML=a.ZP.format(n))):(this.timeDom.innerHTML=this.minWidthTime(a.ZP.format(r)),n!==1/0&&n>0&&(this.durationDom.innerHTML=a.ZP.format(n)))}}},{key:"onReset",value:function(){"flex"===this.mode?(this.centerCurDom.innerHTML=this.minWidthTime(a.ZP.format(0)),this.centerDurDom.innerHTML=a.ZP.format(0)):(this.timeDom.innerHTML=this.minWidthTime(a.ZP.format(0)),this.durationDom.innerHTML=a.ZP.format(0))}},{key:"createCenterTime",value:function(){var e=this.player;if(!!e.controls&&!!e.controls.center){var t=e.controls.center;this.centerCurDom=a.ZP.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-left"),this.centerDurDom=a.ZP.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-right"),t.children.length>0?t.insertBefore(this.centerCurDom,t.children[0]):t.appendChild(this.centerCurDom),t.appendChild(this.centerDurDom)}}},{key:"afterPlayerInit",value:function(){var e=this.config;if(this.duration===1/0||this.playerConfig.isLive?(a.ZP.hide(this.durationDom),a.ZP.hide(this.timeDom),a.ZP.hide(this.find(".time-separator")),a.ZP.show(this.find(".time-live-tag"))):a.ZP.hide(this.find(".time-live-tag")),e.hide){this.hide();return}this.show()}},{key:"changeLiveState",value:function(e){e?(a.ZP.hide(this.durationDom),a.ZP.hide(this.timeDom),a.ZP.hide(this.find(".time-separator")),a.ZP.show(this.find(".time-live-tag"))):(a.ZP.hide(this.find(".time-live-tag")),a.ZP.show(this.find(".time-separator")),a.ZP.show(this.durationDom),a.ZP.show(this.timeDom))}},{key:"updateTime",value:function(e){if(this.isActiving=!0,(!!e||0===e)&&!(e>this.duration)){if("flex"===this.mode){this.centerCurDom.innerHTML=this.minWidthTime(a.ZP.format(e));return}this.timeDom.innerHTML=this.minWidthTime(a.ZP.format(e))}}},{key:"minWidthTime",value:function(e){return e.split(":").map(function(e){return'<span class="time-min-width">'.concat(e,"</span>")}).join(":")}},{key:"resetActive",value:function(){var e=this,t=this.player,i=function(){e.isActiving=!1};this.off(S.SEEKED,i),t.isSeeking&&t.media.seeking?this.once(S.SEEKED,i):this.isActiving=!1}},{key:"destroy",value:function(){var e=this.player.controls.center;this.centerCurDom&&e.removeChild(this.centerCurDom),this.centerCurDom=null,this.centerDurDom&&e.removeChild(this.centerDurDom),this.centerDurDom=null}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-time">\n    <span class="time-current">00:00</span>\n    <span class="time-separator">/</span>\n    <span class="time-duration">00:00</span>\n    <span class="time-live-tag">'.concat(this.i18n.LIVE_TIP,"</span>\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"time"}},{key:"defaultConfig",get:function(){return{position:M.kd.CONTROLS_LEFT,index:2,disable:!1}}}]),i}(M.ZP),e6=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){var e;(0,n.PA)(this,i);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,n._x)((0,n.Lc)(e),"_onDurationChange",function(){e.updateSegments();var t=e.player,i=t.currentTime,n=t.timeSegments;if(!!e._checkIfEnabled(n)){var r=a.ZP.getIndexByTime(i,n),o=a.ZP.getOffsetCurrentTime(i,n,r);e.player.offsetCurrentTime=o,e.changeIndex(r,n)}}),(0,n._x)((0,n.Lc)(e),"_onLoadedData",function(){var t=e.player.timeSegments;if(!!e._checkIfEnabled(t)){var i=a.ZP.getOffsetCurrentTime(0,t);e.player.offsetCurrentTime=i,e.changeIndex(0,t),e.curPos.start>0&&(e.player.currentTime=e.curPos.start)}}),(0,n._x)((0,n.Lc)(e),"_onTimeupdate",function(){var t=e.player,i=t.currentTime,n=t.timeSegments;if(!e._checkIfEnabled(n))return;var r=n.length;e.lastCurrentTime=i;var o=a.ZP.getIndexByTime(i,n);o!==e.curIndex&&e.changeIndex(o,n);var s=a.ZP.getOffsetCurrentTime(i,n,o);if(e.player.offsetCurrentTime=s,!!e.curPos){var l=e.curPos,c=l.start,u=l.end;i<c?e.player.currentTime=c:i>u&&o>=r-1&&e.player.pause()}}),(0,n._x)((0,n.Lc)(e),"_onSeeking",function(){var t=e.player,i=t.currentTime,n=t.timeSegments;if(!!e._checkIfEnabled(n))if(i<n[0].start)e.player.currentTime=n[0].start;else if(i>n[n.length-1].end)e.player.currentTime=n[n.length-1].end;else{var r=a.ZP.getIndexByTime(i,n);if(r>=0){var o=e.getSeekTime(i,e.lastCurrentTime,r,n);o>=0&&(e.player.currentTime=o)}}}),(0,n._x)((0,n.Lc)(e),"_onPlay",function(){var t=e.player,i=t.currentTime,n=t.timeSegments;e._checkIfEnabled(n)&&i>=n[n.length-1].end&&(e.player.currentTime=n[0].start)}),e}return(0,n.qH)(i,[{key:"afterCreate",value:function(){this.curIndex=-1,this.curPos=null,this.lastCurrentTime=0,this.updateSegments(),this.on(S.DURATION_CHANGE,this._onDurationChange),this.on(S.LOADED_DATA,this._onLoadedData),this.on(S.TIME_UPDATE,this._onTimeupdate),this.on(S.SEEKING,this._onSeeking),this.on(S.PLAY,this._onPlay)}},{key:"setConfig",value:function(e){var t=this;if(!e)return;var i=Object.keys(e);if(!(i.length<1))i.forEach(function(i){t.config[i]=e[i]}),this.updateSegments()}},{key:"updateSegments",value:function(){var e=this.config,t=e.disable,i=e.segments,n=this.player;if(t||!i||0===i.length)n.timeSegments=[],n.offsetDuration=0,n.offsetCurrentTime=-1;else{var r=this.formatTimeSegments(i,n.duration);n.timeSegments=r,n.offsetDuration=r.length>0?r[r.length-1].duration:0}}},{key:"formatTimeSegments",value:function(e,t){var i=[];return e?(e.sort(function(e,t){return e.start-t.start}),e.forEach(function(e,n){var r={};if(r.start=e.start<0?0:e.start,r.end=t>0&&e.end>t?t:e.end,!(t>0)||!(r.start>t)){i.push(r);var o=r.end-r.start;if(0===n)r.offset=e.start,r.cTime=0,r.segDuration=o,r.duration=o;else{var a=i[n-1];r.offset=a.offset+(r.start-a.end),r.cTime=a.duration+a.cTime,r.segDuration=o,r.duration=a.duration+o}}}),i):[]}},{key:"getSeekTime",value:function(e,t,i,n){var r=-1,o=n[i],a=o.start,s=o.end;if(e>=a&&e<=s)return r;var l=e-t;return l<0&&e<a?r=i-1>=0?n[i-1].end+l+(t>a?t-a:0):0:-1}},{key:"_checkIfEnabled",value:function(e){return!(!e||e.length<1)}},{key:"changeIndex",value:function(e,t){this.curIndex=e,e>=0&&t.length>0?this.curPos=t[e]:this.curPos=null}}],[{key:"pluginName",get:function(){return"TimeSegmentsControls"}},{key:"defaultConfig",get:function(){return{disable:!0,segments:[]}}}]),i}(F.ZP);function e8(){return new DOMParser().parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>\n</svg>\n',"image/svg+xml").firstChild}function e7(){return new DOMParser().parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>\n</svg>\n',"image/svg+xml").firstChild}function e9(){return new DOMParser().parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z"></path>\n</svg>\n',"image/svg+xml").firstChild}var te=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){var e;(0,n.PA)(this,i);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,n._x)((0,n.Lc)(e),"onBarMousedown",function(t){var i=(0,n.Lc)(e).player,r=e.find(".xgplayer-bar");a.ZP.event(t);var o=r.getBoundingClientRect(),s=a.ZP.getEventPos(t,i.zoom),l=o.height-(s.clientY-o.top);if(s.h=l,s.barH=o.height,e.pos=s,!(l<-2))return e.updateVolumePos(l,t),document.addEventListener("mouseup",e.onBarMouseUp),e._d.isStart=!0,!1}),(0,n._x)((0,n.Lc)(e),"onBarMouseMove",function(t){var i=(0,n.Lc)(e)._d;if(!i.isStart)return;var r=(0,n.Lc)(e),o=r.pos,s=r.player;t.preventDefault(),t.stopPropagation(),a.ZP.event(t);var l=a.ZP.getEventPos(t,s.zoom);i.isMoving=!0;var c=o.h-l.clientY+o.clientY;if(!(c>o.barH))e.updateVolumePos(c,t)}),(0,n._x)((0,n.Lc)(e),"onBarMouseUp",function(t){a.ZP.event(t),document.removeEventListener("mouseup",e.onBarMouseUp);var i=(0,n.Lc)(e)._d;i.isStart=!1,i.isMoving=!1}),(0,n._x)((0,n.Lc)(e),"onMouseenter",function(t){e._d.isActive=!0,e.focus(),e.emit("icon_mouseenter",{pluginName:e.pluginName})}),(0,n._x)((0,n.Lc)(e),"onMouseleave",function(t){e._d.isActive=!1,e.unFocus(100,!1,t),e.emit("icon_mouseleave",{pluginName:e.pluginName})}),(0,n._x)((0,n.Lc)(e),"onVolumeChange",function(t){if(!!e.player){var i=e.player,n=i.muted,r=i.volume;!e._d.isMoving&&(e.find(".xgplayer-drag").style.height=n||0===r?"4px":"".concat(100*r,"%"),e.config.showValueLabel&&e.updateVolumeValue()),e.animate(n,r)}}),e}return(0,n.qH)(i,[{key:"registerIcons",value:function(){return{volumeSmall:{icon:e7,class:"xg-volume-small"},volumeLarge:{icon:e8,class:"xg-volume"},volumeMuted:{icon:e9,class:"xg-volume-mute"}}}},{key:"afterCreate",value:function(){var e=this;if(this._timerId=null,this._d={isStart:!1,isMoving:!1,isActive:!1},!this.config.disable){this.initIcons();var t=this.playerConfig,i=t.commonStyle,n=t.volume;i.volumeColor&&(this.find(".xgplayer-drag").style.backgroundColor=i.volumeColor),this.changeMutedHandler=this.hook("mutedChange",function(t){e.changeMuted(t)},{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this._onMouseenterHandler=this.hook("mouseenter",this.onMouseenter),this._onMouseleaveHandler=this.hook("mouseleave",this.onMouseleave),"mobile"!==c.device&&"mobile"!==this.playerConfig.isMobileSimulateMode&&(this.bind("mouseenter",this._onMouseenterHandler),this.bind(["blur","mouseleave"],this._onMouseleaveHandler),this.bind(".xgplayer-slider","mousedown",this.onBarMousedown),this.bind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.bind(".xgplayer-slider","mouseup",this.onBarMouseUp)),this.bind(".xgplayer-icon",["touchend","click"],this.changeMutedHandler),this.on(S.VOLUME_CHANGE,this.onVolumeChange),this.once(S.LOADED_DATA,this.onVolumeChange),"Number"!==a.ZP.typeOf(n)&&(this.player.volume=this.config.default),this.onVolumeChange()}}},{key:"updateVolumePos",value:function(e,t){var i=this.player,n=this.find(".xgplayer-drag"),r=this.find(".xgplayer-bar");if(!!r&&!!n){var o=parseInt(e/r.getBoundingClientRect().height*1e3,10);n.style.height="".concat(e,"px");var a=Math.max(Math.min(o/1e3,1),0),s={volume:{from:i.volume,to:a}};i.muted&&(s.muted={from:!0,to:!1}),this.emitUserAction(t,"change_volume",{muted:i.muted,volume:i.volume,props:s}),i.volume=Math.max(Math.min(o/1e3,1),0),i.muted&&(i.muted=!1),this.config.showValueLabel&&this.updateVolumeValue()}}},{key:"updateVolumeValue",value:function(){var e=this.player,t=e.volume,i=e.muted,n=this.find(".xgplayer-value-label"),r=Math.max(Math.min(t,1),0);n.innerText=i?0:Math.round(100*r)}},{key:"focus",value:function(){this.player.focus({autoHide:!1}),this._timerId&&(a.ZP.clearTimeout(this,this._timerId),this._timerId=null),a.ZP.addClass(this.root,"slide-show")}},{key:"unFocus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,i=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this._d,o=this.player;if(!r.isActive)this._timerId&&(a.ZP.clearTimeout(this,this._timerId),this._timerId=null),this._timerId=a.ZP.setTimeout(this,function(){!r.isActive&&(i?o.blur():o.focus(),a.ZP.removeClass(e.root,"slide-show"),r.isStart&&e.onBarMouseUp(n)),e._timerId=null},t)}},{key:"changeMuted",value:function(e){e&&e.stopPropagation();var t=this.player;this._d.isStart&&this.onBarMouseUp(e),this.emitUserAction(e,"change_muted",{muted:t.muted,volume:t.volume,props:{muted:{from:t.muted,to:!t.muted}}}),t.volume>0&&(t.muted=!t.muted),t.volume<.01&&(t.volume=this.config.miniVolume)}},{key:"animate",value:function(e,t){e||0===t?this.setAttr("data-state","mute"):t<.5&&this.icons.volumeSmall?this.setAttr("data-state","small"):this.setAttr("data-state","normal")}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.volumeSmall),this.appendChild(".xgplayer-icon",e.volumeLarge),this.appendChild(".xgplayer-icon",e.volumeMuted)}},{key:"destroy",value:function(){this._timerId&&(a.ZP.clearTimeout(this,this._timerId),this._timerId=null),this.unbind("mouseenter",this.onMouseenter),this.unbind(["blur","mouseleave"],this.onMouseleave),this.unbind(".xgplayer-slider","mousedown",this.onBarMousedown),this.unbind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.unbind(".xgplayer-slider","mouseup",this.onBarMouseUp),document.removeEventListener("mouseup",this.onBarMouseUp),this.unbind(".xgplayer-icon","mobile"===c.device?"touchend":"click",this.changeMutedHandler)}},{key:"render",value:function(){if(!this.config.disable){var e=this.config.default||this.player.volume,t=this.config.showValueLabel;return'\n    <xg-icon class="xgplayer-volume" data-state="normal">\n      <div class="xgplayer-icon">\n      </div>\n      <xg-slider class="xgplayer-slider">\n        '.concat(t?'<div class="xgplayer-value-label">'.concat(100*e,"</div>"):"",'\n        <div class="xgplayer-bar">\n          <xg-drag class="xgplayer-drag" style="height: ').concat(100*e,'%"></xg-drag>\n        </div>\n      </xg-slider>\n    </xg-icon>')}}}],[{key:"pluginName",get:function(){return"volume"}},{key:"defaultConfig",get:function(){return{position:M.kd.CONTROLS_RIGHT,index:1,disable:!1,showValueLabel:!1,default:.6,miniVolume:.2}}}]),i}(M.ZP);function tt(){return new DOMParser().parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="-4 -6 40 40" fill="none">\n  <g>\n    <path transform="scale(1.5 1.5)" d="M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z" fill="white"/>\n    <path transform="scale(1.5 1.5)" fill-rule="evenodd" clip-rule="evenodd" d="M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z" fill="white"/>\n  </g>\n  <defs>\n    <clipPath>\n      <rect width="40" height="40" fill="white"/>\n    </clipPath>\n  </defs>\n</svg>\n',"image/svg+xml").firstChild}var ti=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(e){var r;return(0,n.PA)(this,i),(r=t.call(this,e)).rotateDeg=r.config.rotateDeg||0,r}return(0,n.qH)(i,[{key:"afterCreate",value:function(){var e=this;if(!this.config.disable){(0,n.U2)((0,n.IP)(i.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.rotate),this.onBtnClick=this.onBtnClick.bind(this),this.bind(".xgplayer-icon",["click","touchend"],this.onBtnClick),this.on(S.VIDEO_RESIZE,function(){e.rotateDeg&&e.config.innerRotate&&a.ZP.setTimeout(e,function(){e.updateRotateDeg(e.rotateDeg,e.config.innerRotate)},100)});var t=this.player.root;this.rootWidth=t.style.width||t.offsetWidth||t.clientWidth,this.rootHeight=t.style.height||t.offsetHeight||t.clientHeight,this.rotateDeg&&this.updateRotateDeg(this.rotateDeg,this.config.innerRotate)}}},{key:"destroy",value:function(){(0,n.U2)((0,n.IP)(i.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",["click","touchend"],this.onBtnClick)}},{key:"onBtnClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.emitUserAction(e,"rotate"),this.rotate(this.config.clockwise,this.config.innerRotate,1)}},{key:"updateRotateDeg",value:function(e,t){if(!e&&(e=0),t){this.player.videoRotateDeg=e;return}var i=this.player,n=this.rootWidth,r=this.rootHeight,o=i.root,a=i.innerContainer,s=i.media,l=o.offsetWidth,c=a&&t?a.offsetHeight:o.offsetHeight,u=n,h=r,d=0,p=0;(.75===e||.25===e)&&(u="".concat(c,"px"),h="".concat(l,"px"),d=-(c-l)/2,p=-(l-c)/2);var g="translate(".concat(d,"px,").concat(p,"px) rotate(").concat(e,"turn)"),f={transformOrigin:"center center",transform:g,webKitTransform:g,height:h,width:u},y=t?s:o,v=t?i.getPlugin("poster"):null;Object.keys(f).map(function(e){y.style[e]=f[e],v&&v.root&&(v.root.style[e]=f[e])})}},{key:"rotate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.player;!this.rotateDeg&&(this.rotateDeg=0);this.rotateDeg=(this.rotateDeg+1+.25*(e?1:-1)*i)%1,this.updateRotateDeg(this.rotateDeg,t),n.emit(S.ROTATE,360*this.rotateDeg)}},{key:"registerIcons",value:function(){return{rotate:tt}}},{key:"render",value:function(){if(!this.config.disable)return'\n    <xg-icon class="xgplayer-rotate">\n      <div class="xgplayer-icon">\n      </div>\n      '.concat(eb(this,"ROTATE_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"rotate"}},{key:"defaultConfig",get:function(){return{position:M.kd.CONTROLS_RIGHT,index:6,innerRotate:!0,clockwise:!1,rotateDeg:0,disable:!1}}}]),i}(eQ);function tn(){return new DOMParser().parseFromString('<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"\n    fill="white" />\n</svg>',"image/svg+xml").firstChild}function tr(){return new DOMParser().parseFromString('<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"\n    fill="white" />\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z"\n    fill="white" />\n</svg>',"image/svg+xml").firstChild}var to={PIP:"picture-in-picture",INLINE:"inline",FULLSCREEN:"fullscreen"},ta=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){var e;(0,n.PA)(this,i);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,n._x)((0,n.Lc)(e),"switchPIP",function(t){if(!e.isPIPAvailable())return!1;t.stopPropagation&&t.stopPropagation(),e.isPip?(e.exitPIP(),e.emitUserAction(t,"change_pip",{props:"pip",from:!0,to:!1}),e.setAttr("data-state","normal")):4===e.player.media.readyState&&(e.requestPIP(),e.emitUserAction(t,"change_pip",{props:"pip",from:!1,to:!0}),e.setAttr("data-state","pip"))}),e}return(0,n.qH)(i,[{key:"beforeCreate",value:function(e){"boolean"==typeof e.player.config.pip&&(e.config.showIcon=e.player.config.pip)}},{key:"afterCreate",value:function(){var e=this;if(!!this.isPIPAvailable())(0,n.U2)((0,n.IP)(i.prototype),"afterCreate",this).call(this),this.pMode=to.INLINE,this.initPipEvents(),this.config.showIcon&&this.initIcons(),this.once(S.COMPLETE,function(){e.config.showIcon&&(a.ZP.removeClass(e.find(".xgplayer-icon"),"xg-icon-disable"),e.bind("click",e.switchPIP))})}},{key:"registerIcons",value:function(){return{pipIcon:{icon:tn,class:"xg-get-pip"},pipIconExit:{icon:tr,class:"xg-exit-pip"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.pipIcon),this.appendChild(".xgplayer-icon",e.pipIconExit)}},{key:"initPipEvents",value:function(){var e=this,t=this.player;this.leavePIPCallback=function(){var i=t.paused;a.ZP.setTimeout(e,function(){i||t.mediaPlay()},0),i||t.mediaPlay(),e.setAttr("data-state","normal"),e.pipWindow=null,t.emit(S.PIP_CHANGE,!1)},this.enterPIPCallback=function(i){t.emit(S.PIP_CHANGE,!0),null!=i&&i.pictureInPictureWindow&&(e.pipWindow=i.pictureInPictureWindow),e.setAttr("data-state","pip")},this.onWebkitpresentationmodechanged=function(i){var n=t.media.webkitPresentationMode;e.pMode===to.FULLSCREEN&&n!==to.FULLSCREEN&&t.onFullscreenChange(null,!1),e.pMode=n,n===to.PIP?e.enterPIPCallback(i):n===to.INLINE&&e.leavePIPCallback(i)},t.media&&(t.media.addEventListener("enterpictureinpicture",this.enterPIPCallback),t.media.addEventListener("leavepictureinpicture",this.leavePIPCallback),i.checkWebkitSetPresentationMode(t.media)&&t.media.addEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged))}},{key:"copyStyleIntoPiPWindow",value:function(e){var t=(0,n.u)(document.styleSheets).map(function(t){try{return(0,n.u)(t.cssRules).map(function(e){return e.cssText}).join("")}catch(n){var i=document.createElement("link");i.rel="stylesheet",i.type=t.type,i.media=t.media,i.href=t.href,e.document.head.appendChild(i)}return""}).filter(Boolean).join("\n"),i=document.createElement("style");i.textContent=t,e.document.head.appendChild(i)}},{key:"requestPIP",value:function(){var e=this,t=this.player,n=this.playerConfig,r=this.config;if(!!this.isPIPAvailable()&&!this.isPip)try{var o=n.poster;if(o&&(t.media.poster="String"===a.ZP.typeOf(o)?o:o.poster),r.preferDocument&&this.isDocPIPAvailable()){var s={};if(r.width&&r.height)s.width=r.width,s.height=r.height;else{var l=t.root.getBoundingClientRect();s.width=l.width,s.height=l.height}documentPictureInPicture.requestWindow(s).then(function(i){var n=r.docPiPNode,o=r.docPiPStyle;e.enterPIPCallback();var a=n||t.root,s=a.parentElement,l=a.previousSibling,c=a.nextSibling;e.copyStyleIntoPiPWindow(i);var u=document.createElement("style");if(u.append("body{padding:0; margin:0;}"),o){var h="";"string"==typeof o?h=o:"function"==typeof o&&(h=o.call(r)),h&&u.append(h)}else a===t.root&&u.append("\n              .xgplayer{width: 100%!important; height: 100%!important;}\n            ");i.document.head.append(u),i.document.body.append(a),i.addEventListener("pagehide",function(t){s&&(c?s.insertBefore(a,c):l?s.insertBefore(a,l.nextSibling):s.appendChild(a)),e.leavePIPCallback()},{once:!0})})}else i.checkWebkitSetPresentationMode(t.media)?t.media.webkitSetPresentationMode("picture-in-picture"):t.media.requestPictureInPicture();return!0}catch(e){return console.error("requestPiP",e),!1}}},{key:"exitPIP",value:function(){var e,t=this.player;try{return this.isPIPAvailable()&&this.isPip&&(this.isDocPIPAvailable()&&null!==(e=documentPictureInPicture)&&void 0!==e&&e.window?documentPictureInPicture.window.close():i.checkWebkitSetPresentationMode(t.media)?t.media.webkitSetPresentationMode("inline"):document.exitPictureInPicture()),!0}catch(e){return console.error("exitPIP",e),!1}}},{key:"isPip",get:function(){var e,t=this.player;return!!(this.isDocPIPAvailable()&&null!==(e=documentPictureInPicture)&&void 0!==e&&e.window)||document.pictureInPictureElement&&document.pictureInPictureElement===t.media||t.media.webkitPresentationMode===to.PIP}},{key:"isPIPAvailable",value:function(){var e=this.player.media;return"Boolean"===a.ZP.typeOf(document.pictureInPictureEnabled)&&document.pictureInPictureEnabled&&("Boolean"===a.ZP.typeOf(e.disablePictureInPicture)&&!e.disablePictureInPicture||e.webkitSupportsPresentationMode&&"Function"===a.ZP.typeOf(e.webkitSetPresentationMode))||this.isDocPIPAvailable()}},{key:"isDocPIPAvailable",value:function(){return"documentPictureInPicture"in window&&/^(https|file)/.test(location.protocol)}},{key:"destroy",value:function(){(0,n.U2)((0,n.IP)(i.prototype),"destroy",this).call(this);var e=this.player;e.media.removeEventListener("enterpictureinpicture",this.enterPIPCallback),e.media.removeEventListener("leavepictureinpicture",this.leavePIPCallback),i.checkWebkitSetPresentationMode(e.media)&&e.media.removeEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged),this.exitPIP(),this.unbind("click",this.btnClick)}},{key:"render",value:function(){if(!!this.config.showIcon&&!!this.isPIPAvailable())return'<xg-icon class="xgplayer-pip">\n      <div class="xgplayer-icon xg-icon-disable">\n      </div>\n      '.concat(eb(this,"PIP",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"pip"}},{key:"defaultConfig",get:function(){return{position:M.kd.CONTROLS_RIGHT,index:6,showIcon:!1,preferDocument:!1,width:void 0,height:void 0,docPiPNode:void 0,docPiPStyle:void 0}}},{key:"checkWebkitSetPresentationMode",value:function(e){return"function"==typeof e.webkitSetPresentationMode}}]),i}(eQ);function ts(){return new DOMParser().parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="40" viewBox="10 0 24 40">\n  <path transform="scale(0.038 0.028)" d="M800 380v768h-128v-352l-320 320v-704l320 320v-352z"></path>\n</svg>\n',"image/svg+xml").firstChild}var tl=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(e){var r;return(0,n.PA)(this,i),r=t.call(this,e),(0,n._x)((0,n.Lc)(r),"playNext",function(e){var t=(0,n.Lc)(r).player;e.preventDefault(),e.stopPropagation(),r.idx+1<r.config.urlList.length?(r.idx++,r.nextHandler(r.config.urlList[r.idx],r.idx),t.emit(S.PLAYNEXT,r.idx+1)):(r.nextHandler(),t.emit(S.PLAYNEXT))}),r.idx=-1,r}return(0,n.qH)(i,[{key:"afterCreate",value:function(){if(!!this.config.urlList&&0!==this.config.urlList.length)this.appendChild(".xgplayer-icon",this.icons.playNext),this.initEvents()}},{key:"registerIcons",value:function(){return{playNext:ts}}},{key:"initEvents",value:function(){this.nextHandler=this.hook("nextClick",this.changeSrc);var e="mobile"===c.device?"touchend":"click";this.bind(e,this.playNext),this.show()}},{key:"changeSrc",value:function(e){var t=this.player;if(!!e)t.pause(),t.currentTime=0,t.switchURL?t.switchURL(e):t.src=e,t.config.url=e,t.play()}},{key:"destroy",value:function(){this.unbind(["touchend","click"],this.playNext)}},{key:"render",value:function(){if(!!this.config.urlList&&0!==this.config.urlList.length)return'\n     <xg-icon class="xgplayer-playnext">\n      <div class="xgplayer-icon">\n      </div>\n      '.concat(eb(this,"PLAYNEXT_TIPS",this.playerConfig.isHideTips),"\n     </xg-icon>\n    ")}}],[{key:"pluginName",get:function(){return"playNext"}},{key:"defaultConfig",get:function(){return{position:M.kd.CONTROLS_LEFT,index:1,url:null,urlList:[]}}}]),i}(M.ZP),tc=i("505978"),tu=i.n(tc);function th(){return new DOMParser().parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24">\n  <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <g transform="translate(-488.000000, -340.000000)" fill="#FFFFFF">\n      <g id="Group-2">\n        <g id="volme_big-copy" transform="translate(488.000000, 340.000000)">\n          <rect id="Rectangle-18" x="11" y="4" width="2" height="12" rx="1"></rect>\n          <rect id="Rectangle-2" x="3" y="18" width="18" height="2" rx="1"></rect>\n          <rect id="Rectangle-2" transform="translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) " x="1.5" y="16.5" width="5" height="2" rx="1"></rect><rect id="Rectangle-2-Copy-3" transform="translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) " x="17.5" y="16.5" width="5" height="2" rx="1"></rect>\n          <path d="M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z" id="Combined-Shape" transform="translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) "></path>\n        </g>\n      </g>\n    </g>\n  </g>\n</svg>\n',"image/svg+xml").firstChild}var td=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(e){var r;return(0,n.PA)(this,i),r=t.call(this,e),(0,n._x)((0,n.Lc)(r),"download",function(e){if(!r.isLock){r.emitUserAction(e,"download");var t=r.playerConfig.url,i="";"String"===a.ZP.typeOf(t)?i=t:"Array"===a.ZP.typeOf(t)&&t.length>0&&(i=t[0].src);var n=r.getAbsoluteURL(i);tu()(n),r.isLock=!0,r.timer=window.setTimeout(function(){r.isLock=!1,window.clearTimeout(r.timer),r.timer=null},300)}}),r.timer=null,r.isLock=!1,r}return(0,n.qH)(i,[{key:"afterCreate",value:function(){if((0,n.U2)((0,n.IP)(i.prototype),"afterCreate",this).call(this),!this.config.disable)this.appendChild(".xgplayer-icon",this.icons.download),this._handler=this.hook("click",this.download,{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this.bind(["click","touchend"],this._handler)}},{key:"registerIcons",value:function(){return{download:th}}},{key:"getAbsoluteURL",value:function(e){if(!e.match(/^https?:\/\//)){var t=document.createElement("div");t.innerHTML='<a href="'.concat(e,'">x</a>'),e=t.firstChild.href}return e}},{key:"destroy",value:function(){(0,n.U2)((0,n.IP)(i.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.download),window.clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-download">\n   <div class="xgplayer-icon">\n   </div>\n   '.concat(eb(this,"DOWNLOAD_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"download"}},{key:"defaultConfig",get:function(){return{position:M.kd.CONTROLS_RIGHT,index:3,disable:!0}}}]),i}(eQ),tp=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){return(0,n.PA)(this,i),t.apply(this,arguments)}return(0,n.qH)(i,[{key:"beforeCreate",value:function(e){"boolean"==typeof e.player.config.screenShot&&(e.config.disable=!e.player.config.screenShot)}},{key:"afterCreate",value:function(){(0,n.U2)((0,n.IP)(i.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.screenshotIcon);var e=this.config;this.initSize=function(t){e.fitVideo&&(e.width=t.vWidth,e.height=t.vHeight)},this.once(S.VIDEO_RESIZE,this.initSize)}},{key:"onPluginsReady",value:function(){this.show(),this.onClickBtn=this.onClickBtn.bind(this),this.bind(["click","touchend"],this.onClickBtn)}},{key:"saveScreenShot",value:function(e,t){var i,n=document.createElement("a");n.href=e,n.download=t;try{"undefined"!=typeof MouseEvent?i=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}):(i=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null)}catch(e){console.error("MouseEvent unsupported",e)}i&&n.dispatchEvent(i)}},{key:"createCanvas",value:function(e,t){var i=document.createElement("canvas"),n=i.getContext("2d");this.canvasCtx=n,this.canvas=i,i.width=e||this.config.width,i.height=t||this.config.height,n.imageSmoothingEnabled=!0,n.imageSmoothingEnabled&&(n.imageSmoothingQuality="high")}},{key:"onClickBtn",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.emitUserAction(e,"shot");var i=this.config;this.shot(i.width,i.height).then(function(e){t.emit(S.SCREEN_SHOT,e),i.saveImg&&t.saveScreenShot(e,i.name+i.format)})}},{key:"shot",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{quality:.92,type:"image/png"},r=this.config,o=this.player,a=n.quality||r.quality,s=n.type||r.type;return new Promise(function(n,l){var c=null;if(o.media.canvas)c=o.media.canvas;else{i.canvas?(i.canvas.width=e||r.width,i.canvas.height=t||r.height):i.createCanvas(e,t),c=i.canvas,u=i.canvasCtx;var u,h,d,p,g,f=o.media.videoWidth/o.media.videoHeight,y=c.width/c.height,v=o.media.videoWidth,m=o.media.videoHeight;f>y?(p=c.width,g=c.width/f,h=0,d=Math.round((c.height-g)/2)):f===y?(p=c.width,g=c.height,h=0,d=0):f<y&&(p=c.height*f,g=c.height,h=Math.round((c.width-p)/2),d=0),u.drawImage(o.media,0,0,v,m,h,d,p,g)}var x=c.toDataURL(s,a).replace(s,"image/octet-stream");n(x=x.replace(/^data:image\/[^;]+/,"data:application/octet-stream"))})}},{key:"registerIcons",value:function(){return{screenshotIcon:null}}},{key:"destroy",value:function(){(0,n.U2)((0,n.IP)(i.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.onClickBtn),this.off(S.VIDEO_RESIZE,this.initSize)}},{key:"render",value:function(){if(!this.config.disable){var e=this.icons.screenshotIcon?"xgplayer-icon":"xgplayer-icon btn-text",t="SCREENSHOT";return'\n      <xg-icon class="xgplayer-shot">\n      <div class="'.concat(e,'">\n      ').concat(this.icons.screenshotIcon?"":'<span lang-key="'.concat(this.i18nKeys[t],'">').concat(this.i18n[t],"</span>"),"\n      </div>\n    </xg-icon>")}}}],[{key:"pluginName",get:function(){return"screenShot"}},{key:"defaultConfig",get:function(){return{position:M.kd.CONTROLS_RIGHT,index:5,quality:.92,type:"image/png",format:".png",width:600,height:337,saveImg:!0,fitVideo:!0,disable:!1,name:"screenshot"}}}]),i}(eQ),tg=function(){function e(t){(0,n.PA)(this,e),this.config=t.config,this.parent=t.root,this.root=a.ZP.createDom("ul","",{},"xg-options-list xg-list-slide-scroll ".concat(this.config.className)),t.root.appendChild(this.root);var i=this.config.maxHeight;i&&this.setStyle({maxHeight:i}),this.onItemClick=this.onItemClick.bind(this),this.renderItemList();var r="touch"===this.config.domEventType?"touchend":"click";this._delegates=M.ZP.delegate.call(this,this.root,"li",r,this.onItemClick)}return(0,n.qH)(e,[{key:"renderItemList",value:function(e){var t=this,i=this.config,n=this.root;e?i.data=e:e=i.data,i.style&&Object.keys(i.style).map(function(e){n.style[e]=i[e]}),e.length>0&&(this.attrKeys=Object.keys(e[0])),this.root.innerHTML="",e.map(function(e,i){var n=e.selected?"option-item selected":"option-item";e["data-index"]=i,t.root.appendChild(a.ZP.createDom("li","<span>".concat(e.showText,"</span>"),e,n))})}},{key:"onItemClick",value:function(e){!e.delegateTarget&&(e.delegateTarget=e.target);var t=e.delegateTarget;if(t&&a.ZP.hasClass(t,"selected"))return!1;var i="function"==typeof this.config.onItemClick?this.config.onItemClick:null,n=this.root.querySelector(".selected");a.ZP.addClass(t,"selected"),n&&a.ZP.removeClass(n,"selected"),i(e,{from:n?this.getAttrObj(n,this.attrKeys):null,to:this.getAttrObj(t,this.attrKeys)})}},{key:"getAttrObj",value:function(e,t){if(!e||!t)return{};var i={};t.map(function(t){i[t]=e.getAttribute(t)});var n=e.getAttribute("data-index");return n&&(i.index=Number(n)),i}},{key:"show",value:function(){a.ZP.removeClass(this.root,"hide"),a.ZP.addClass(this.root,"active")}},{key:"hide",value:function(){a.ZP.removeClass(this.root,"active"),a.ZP.addClass(this.root,"hide")}},{key:"setStyle",value:function(e){var t=this;Object.keys(e).forEach(function(i){t.root.style[i]=e[i]})}},{key:"destroy",value:function(){this._delegates&&(this._delegates.map(function(e){e.destroy&&e.destroy()}),this._delegates=null),this.root.innerHTML=null,this.parent.removeChild(this.root),this.root=null}}]),e}(),tf={SIDE:"side",MIDDLE:"middle",DEFAULT:"default"},ty={CLICK:"click",HOVER:"hover"},tv="mobile"===c.device,tm=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(e){var r;return(0,n.PA)(this,i),r=t.call(this,e),(0,n._x)((0,n.Lc)(r),"onEnter",function(e){e.stopPropagation(),r.emit("icon_mouseenter",{pluginName:r.pluginName}),r.switchActiveState(e)}),(0,n._x)((0,n.Lc)(r),"switchActiveState",function(e){e.stopPropagation(),r.config.toggleMode===ty.CLICK?r.toggle(!r.isActive):r.toggle(!0)}),(0,n._x)((0,n.Lc)(r),"onLeave",function(e){e.stopPropagation(),r.emit("icon_mouseleave",{pluginName:r.pluginName}),r.config.listType!==tf.SIDE&&r.isActive&&r.toggle(!1)}),(0,n._x)((0,n.Lc)(r),"onListEnter",function(e){r.enterType=2}),(0,n._x)((0,n.Lc)(r),"onListLeave",function(e){r.enterType=0,r.isActive&&r.toggle(!1)}),r.isIcons=!1,r.isActive=!1,r.curValue=null,r.curIndex=0,r}return(0,n.qH)(i,[{key:"updateLang",value:function(e){this.renderItemList(this.config.list,this.curIndex)}},{key:"afterCreate",value:function(){var e=this,t=this.config;this.initIcons(),(tv=tv||"touch"===this.domEventType)&&"mobile"===c.device&&t.listType===tf.DEFAULT&&(t.listType=tf.SIDE),t.hidePortrait&&a.ZP.addClass(this.root,"portrait"),this.on([S.VIDEO_RESIZE,S.FULLSCREEN_CHANGE],function(){e._resizeList()}),this.once(S.CANPLAY,function(){t.list&&t.list.length>0&&(e.renderItemList(t.list),e.show())}),tv&&this.on(S.PLAYER_FOCUS,function(){if(!!e.isActive)e.optionsList&&e.optionsList.hide(),e.isActive=!1}),tv?(t.toggleMode=ty.CLICK,this.activeEvent="touchend"):this.activeEvent=t.toggleMode===ty.CLICK?"click":"mouseenter",t.toggleMode===ty.CLICK?this.bind(this.activeEvent,this.switchActiveState):(this.bind(this.activeEvent,this.onEnter),this.bind("mouseleave",this.onLeave)),this.isIcons&&this.bind("click",this.onIconClick)}},{key:"initIcons",value:function(){var e=this,t=this.icons,i=Object.keys(t),n=!1;if(i.length>0&&(i.forEach(function(i){e.appendChild(".xgplayer-icon",t[i]),n||(n=t[i])}),this.isIcons=n),!n)this.appendChild(".xgplayer-icon",a.ZP.createDom("span","",{},"icon-text")),a.ZP.addClass(this.find(".xgplayer-icon"),"btn-text")}},{key:"show",value:function(e){if(!!this.config.list&&!(this.config.list.length<2))a.ZP.addClass(this.root,"show")}},{key:"hide",value:function(){a.ZP.removeClass(this.root,"show")}},{key:"getTextByLang",value:function(e,t,i){if(void 0===e)return"";var r=this.config.list;i||(i=this.player.lang),t=!t||a.ZP.isUndefined(e[t])?"text":t,"number"==typeof e&&(e=r[e]);try{if("object"===(0,n.Ac)(e[t]))return e[t][i]||e[t].en;return e[t]}catch(e){return console.warn(e),""}}},{key:"toggle",value:function(e){if(e!==this.isActive&&!this.config.disable){var t=this.player.controls,i=this.config.listType;e?(i===tf.SIDE?t.blur():t.focus(),this.optionsList&&this.optionsList.show()):(i===tf.SIDE?t.focus():t.focusAwhile(),this.optionsList&&this.optionsList.hide()),this.isActive=e}}},{key:"onItemClick",value:function(e,t){e.stopPropagation();var i=this.config,n=i.listType,r=i.list;this.curIndex=t.to.index,this.curItem=r[this.curIndex],this.changeCurrentText(),(this.config.isItemClickHide||tv||n===tf.SIDE)&&this.toggle(!1)}},{key:"onIconClick",value:function(e){}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var e=this.config.list,t=this.curIndex<e.length?this.curIndex:0,i=e[t];i&&(this.find(".icon-text").innerHTML=this.getTextByLang(i,"iconText"))}}},{key:"renderItemList",value:function(e,t){var i,n,r=this,o=this.config,a=this.optionsList,s=this.player;if("number"==typeof t&&(this.curIndex=t,this.curItem=o.list[t]),a){a.renderItemList(e),this.changeCurrentText();return}var l={config:{data:e||[],className:(i=o.listType,n=o.position,i===tf.SIDE?n===M.kd.CONTROLS_LEFT?"xg-side-list xg-left-side":"xg-side-list xg-right-side":""),onItemClick:function(e,t){r.onItemClick(e,t)},domEventType:tv?"touch":"mouse"},root:o.listType===tf.SIDE?s.innerContainer||s.root:this.root};if(this.config.isShowIcon){var c=this.player.root.getBoundingClientRect().height,u=o.listType===tf.MIDDLE?c-50:c;u&&o.heightLimit&&(l.config.maxHeight="".concat(u,"px")),this.optionsList=new tg(l),this.changeCurrentText(),this.show()}this._resizeList()}},{key:"_resizeList",value:function(){if(!!this.config.heightLimit){var e=this.player.root.getBoundingClientRect().height,t=this.config.listType===tf.MIDDLE?e-50:e;this.optionsList&&this.optionsList.setStyle({maxHeight:"".concat(t,"px")})}}},{key:"destroy",value:function(){this.config.toggleMode===ty.CLICK?this.unbind(this.activeEvent,this.switchActiveState):(this.unbind(this.activeEvent,this.onEnter),this.unbind("mouseleave",this.onLeave)),this.isIcons&&this.unbind("click",this.onIconClick),this.optionsList&&(this.optionsList.destroy(),this.optionsList=null)}},{key:"render",value:function(){if(!!this.config.isShowIcon)return'<xg-icon class="xg-options-icon '.concat(this.config.className||"",'">\n    <div class="xgplayer-icon">\n    </div>\n   </xg-icon>')}}],[{key:"pluginName",get:function(){return"optionsIcon"}},{key:"defaultConfig",get:function(){return{position:M.kd.CONTROLS_RIGHT,index:100,list:[],listType:"default",listStyle:{},hidePortrait:!0,isShowIcon:!1,isItemClickHide:!0,toggleMode:ty.HOVER,heightLimit:!0}}}]),i}(M.ZP),tx=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(e){var r;return(0,n.PA)(this,i),(r=t.call(this,e)).curTime=0,r.isPaused=!0,r}return(0,n.qH)(i,[{key:"beforeCreate",value:function(e){var t=e.config.list;Array.isArray(t)&&t.length>0&&(e.config.list=t.map(function(e){return!e.text&&e.name&&(e.text=e.name),!e.text&&(e.text=e.definition),e}))}},{key:"afterCreate",value:function(){var e=this;(0,n.U2)((0,n.IP)(i.prototype),"afterCreate",this).call(this),this.on("resourceReady",function(t){e.changeDefinitionList(t)}),this.on(S.DEFINITION_CHANGE,function(t){e.renderItemList(e.config.list,t.to)}),this.player.definitionList.length<2&&this.hide()}},{key:"show",value:function(e){if(!!this.config.list&&!(this.config.list.length<2))a.ZP.addClass(this.root,"show")}},{key:"initDefinition",value:function(){var e=this.config,t=e.list,i=e.defaultDefinition;if(t.length>0){var n=null;t.map(function(e){e.definition===i&&(n=e)}),!n&&(n=t[0]),this.changeDefinition(n)}}},{key:"renderItemList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.list||[],r=arguments.length>1?arguments[1]:void 0,o=r&&r.definition?r.definition:this.config.defaultDefinition;r&&t.forEach(function(e){e.selected=!1});var a=0,s=t.map(function(t,i){var r=(0,n.Zj)((0,n.Zj)({},t),{},{showText:e.getTextByLang(t)||t.definition,selected:!1});return(t.selected||t.definition&&t.definition==o)&&(r.selected=!0,a=i),r});(0,n.U2)((0,n.IP)(i.prototype),"renderItemList",this).call(this,s,a)}},{key:"changeDefinitionList",value:function(e){if(!!Array.isArray(e))this.config.list=e.map(function(e){return!e.text&&e.name&&(e.text=e.name),!e.text&&(e.text=e.definition),e}),this.renderItemList(),this.config.list.length<2?this.hide():this.show()}},{key:"changeDefinition",value:function(e,t){this.player.changeDefinition(e,t)}},{key:"onItemClick",value:function(e,t){var r=this.player.definitionList;(0,n.U2)((0,n.IP)(i.prototype),"onItemClick",this).apply(this,arguments),this.emitUserAction(e,"change_definition",{from:t.from,to:t.to});for(var o=0;o<r.length;o++)t.to&&r[o].definition===t.to.definition&&(t.to.url=r[o].url),t.from&&r[o].definition===t.from.definition&&(t.from.url=r[o].url);this.player.changeDefinition(t.to,t.from)}}],[{key:"pluginName",get:function(){return"definition"}},{key:"defaultConfig",get:function(){return(0,n.Zj)((0,n.Zj)({},tm.defaultConfig),{},{position:M.kd.CONTROLS_RIGHT,index:3,list:[],defaultDefinition:"",disable:!1,hidePortrait:!1,className:"xgplayer-definition",isShowIcon:!0})}}]),i}(tm),tk=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(e){var r;return(0,n.PA)(this,i),(r=t.call(this,e)).curRate=1,r}return(0,n.qH)(i,[{key:"beforeCreate",value:function(e){var t=e.player.config.playbackRate,i=t?Array.isArray(t)?t:e.config.list:[];Array.isArray(i)&&(e.config.list=i.map(function(e){return"number"==typeof e?e={rate:e,text:"".concat(e,"x")}:!e.text&&e.rate&&(e.text="".concat(e.rate,"x")),e}))}},{key:"afterCreate",value:function(){var e=this;(0,n.U2)((0,n.IP)(i.prototype),"afterCreate",this).call(this),this.on(S.RATE_CHANGE,function(){if(e.curValue!==e.player.playbackRate)e.renderItemList()}),this.renderItemList()}},{key:"show",value:function(e){if(!!this.config.list&&0!==this.config.list.length)(0,n.U2)((0,n.IP)(i.prototype),"show",this).call(this)}},{key:"onItemClick",value:function(e,t){(0,n.U2)((0,n.IP)(i.prototype),"onItemClick",this).call(this,e,t);var r=Number(e.delegateTarget.getAttribute("rate"));if(!r||r===this.curValue)return!1;var o={playbackRate:{from:this.player.playbackRate,to:r}};this.emitUserAction(e,"change_rate",{props:o}),this.curValue=r,this.player.playbackRate=r}},{key:"renderItemList",value:function(){var e=this,t=this.player.playbackRate||1;this.curValue=t;var r=-1,o=this.config.list.map(function(i,n){var o={rate:i.rate};return o.rate===t&&(o.selected=!0,r=n),o.showText=e.getTextByLang(i),o});(0,n.U2)((0,n.IP)(i.prototype),"renderItemList",this).call(this,o,r)}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var e=this.config.list,t=this.curIndex<e.length?this.curIndex:0,i=e[t],n="";n=!i||this.curIndex<0?"".concat(this.player.playbackRate,"x"):this.getTextByLang(i,"iconText"),this.find(".icon-text").innerHTML=n}}},{key:"destroy",value:function(){(0,n.U2)((0,n.IP)(i.prototype),"destroy",this).call(this)}}],[{key:"pluginName",get:function(){return"playbackRate"}},{key:"defaultConfig",get:function(){return(0,n.Zj)((0,n.Zj)({},tm.defaultConfig),{},{position:M.kd.CONTROLS_RIGHT,index:4,list:[2,1.5,1,.75,.5],className:"xgplayer-playbackrate",isShowIcon:!0,hidePortrait:!1})}}]),i}(tm);function tb(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40">
  <path fill="#fff" transform="scale(1.3, 1.3)" class='path_full' d="M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"></path>
</svg>
`,"image/svg+xml").firstChild}function t_(){return new DOMParser().parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40">\n  <path fill="#fff" transform="scale(1.3, 1.3)" d="M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"></path>\n</svg>\n',"image/svg+xml").firstChild}var tC=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){return(0,n.PA)(this,i),t.apply(this,arguments)}return(0,n.qH)(i,[{key:"beforeCreate",value:function(e){"boolean"==typeof e.player.config.cssFullscreen&&(e.config.disable=!e.player.config.cssFullscreen)}},{key:"afterCreate",value:function(){var e=this;if((0,n.U2)((0,n.IP)(i.prototype),"afterCreate",this).call(this),!this.config.disable)this.config.target&&(this.playerConfig.fullscreenTarget=this.config.target),this.initIcons(),this.on(S.CSS_FULLSCREEN_CHANGE,function(t){e.animate(t)}),this.btnClick=this.btnClick.bind(this),this.handleCssFullscreen=this.hook("cssFullscreen_change",this.btnClick,{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this.bind(["click","touchend"],this.handleCssFullscreen)}},{key:"initIcons",value:function(){var e=this.icons,t=this.find(".xgplayer-icon");t.appendChild(e.cssFullscreen),t.appendChild(e.exitCssFullscreen)}},{key:"btnClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.player.isCssfullScreen;this.emitUserAction(e,"switch_cssfullscreen",{cssfullscreen:t}),t?this.player.exitCssFullscreen():this.player.getCssFullscreen()}},{key:"animate",value:function(e){if(!!this.root)e?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.switchTips(e)}},{key:"switchTips",value:function(e){var t=this.i18nKeys,i=this.find(".xg-tips");i&&this.changeLangTextKey(i,e?t.EXITCSSFULLSCREEN_TIPS:t.CSSFULLSCREEN_TIPS)}},{key:"registerIcons",value:function(){return{cssFullscreen:{icon:tb,class:"xg-get-cssfull"},exitCssFullscreen:{icon:t_,class:"xg-exit-cssfull"}}}},{key:"destroy",value:function(){(0,n.U2)((0,n.IP)(i.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return`<xg-icon class='xgplayer-cssfullscreen'>
    <div class="xgplayer-icon">
    </div>
    `.concat(eb(this,"CSSFULLSCREEN_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"cssFullscreen"}},{key:"defaultConfig",get:function(){return{position:M.kd.CONTROLS_RIGHT,index:1,disable:!1,target:null}}}]),i}(eQ),tP=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){return(0,n.PA)(this,i),t.apply(this,arguments)}return(0,n.qH)(i,[{key:"afterCreate",value:function(){var e=this;this.clickHandler=this.hook("errorRetry",this.errorRetry,{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this.onError=this.hook("showError",this.handleError),this.bind(".xgplayer-error-refresh","click",this.clickHandler),this.on(S.ERROR,function(t){e.onError(t)})}},{key:"errorRetry",value:function(e){this.emitUserAction(e,"error_retry",{}),this.player.retry()}},{key:"handleError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.player,i=e.errorType,n=t.errorNote?this.i18n[t.errorNote]:"";if(!n)switch(i){case"decoder":n=this.i18n.MEDIA_ERR_DECODE;break;case"network":n=this.i18n.MEDIA_ERR_NETWORK;break;default:n=this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED}this.find(".xgplayer-error-text").innerHTML=n,this.find(".xgplayer-error-tips").innerHTML="".concat(this.i18n.REFRESH_TIPS,'<span class="xgplayer-error-refresh">').concat(this.i18n.REFRESH,"</span>")}},{key:"destroy",value:function(){this.unbind(".xgplayer-error-refresh","click",this.clickHandler)}},{key:"render",value:function(){return'<xg-error class="xgplayer-error">\n      <div class="xgplayer-errornote">\n       <span class="xgplayer-error-text"></span>\n       <span class="xgplayer-error-tips"><em class="xgplayer-error-refresh"></em></span>\n      </div>\n    </xg-error>'}}],[{key:"pluginName",get:function(){return"error"}}]),i}(M.ZP),tT=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){return(0,n.PA)(this,i),t.apply(this,arguments)}return(0,n.qH)(i,[{key:"afterCreate",value:function(){var e=this;this.intervalId=0,this.customConfig=null,this.bind(".highlight",["click","touchend"],function(t){(e.config.onClick||e.customOnClick)&&(t.preventDefault(),t.stopPropagation(),e.customOnClick?e.customOnClick(t):e.config.onClick(t))}),this.player.showPrompt=function(){e.showPrompt.apply(e,arguments)},this.player.hidePrompt=function(){e.hide()}}},{key:"setStyle",value:function(e){var t=this;Object.keys(e).map(function(i){t.root.style[i]=e[i]})}},{key:"showPrompt",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(!!e){this.customOnClick=n;var r=this.config.interval;if(this.intervalId&&(clearTimeout(this.intervalId),this.intervalId=null),a.ZP.addClass(this.root,"show"),"arrow"===i.mode&&a.ZP.addClass(this.root,"arrow"),"string"==typeof e?this.find(".xgplayer-prompt-detail").innerHTML=e:this.find(".xgplayer-prompt-detail").innerHTML="".concat(e.text||"")+"".concat(e.highlight?'<i class="highlight">'.concat(e.highlight,"</i>"):""),i.style&&this.setStyle(i.style),"boolean"==typeof i.autoHide?i.autoHide:this.config.autoHide){var o=i.interval||r;this.intervalId=setTimeout(function(){t.hide()},o)}}}},{key:"hide",value:function(){a.ZP.removeClass(this.root,"show"),a.ZP.removeClass(this.root,"arrow"),this.root.removeAttribute("style"),this.customOnClick=null}},{key:"render",value:function(){return'<xg-prompt class="xgplayer-prompt '.concat(B.CONTROLS_FOLLOW,'">\n    <span class="xgplayer-prompt-detail"></span>\n    </xg-prompt>')}}],[{key:"pluginName",get:function(){return"prompt"}},{key:"defaultConfig",get:function(){return{interval:3e3,style:{},mode:"arrow",autoHide:!0,detail:{text:"",highlight:""},onClick:function(){}}}}]),i}(M.ZP),tE={time:0,text:"",id:1,duration:1,color:"#fff",style:{},width:6,height:6};function tw(e){Object.keys(tE).map(function(t){void 0===e[t]&&(e[t]=tE[t])})}var tS={_updateDotDom:function(e,t){if(!!t){var i=this.calcuPosition(e.time,e.duration),n=e.style||{};n.left="".concat(i.left,"%"),n.width="".concat(i.width,"%"),t.setAttribute("data-text",e.text),t.setAttribute("data-time",e.time),i.isMini?a.ZP.addClass(t,"mini"):a.ZP.removeClass(t,"mini"),Object.keys(n).map(function(e){t.style[e]=n[e]})}},initDots:function(){var e=this;this._ispots.map(function(t){e.createDot(t,!1)}),this.ispotsInit=!0},createDot:function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=this.player.plugins.progress;if(!i)return;if(t&&(tw(e),this._ispots.push(e)),!!this.ispotsInit||!t){var n=this.calcuPosition(e.time,e.duration),r=e.style||{};r.left="".concat(n.left,"%"),r.width="".concat(n.width,"%");var o="xgspot_".concat(e.id," xgplayer-spot");n.isMini&&(o+=" mini");var s=e.template?'<div class="xgplayer-spot-pop">'.concat(e.template,"</div>"):"",l=a.ZP.createDom("xg-spot",s,{"data-text":e.text,"data-time":e.time,"data-id":e.id},o);Object.keys(r).map(function(e){l.style[e]=r[e]}),i.outer&&i.outer.appendChild(l),this.positionDot(l,e.id)}},findDot:function(e){if(!!this.player.plugins.progress){var t=this._ispots.filter(function(t,i){return t.id===e});return t.length>0?t[0]:null}},updateDot:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.player.plugins.progress;if(!i)return;var n=this.findDot(e.id);if(n&&Object.keys(e).map(function(t){n[t]=e[t]}),!this.ispotsInit)return;var r=i.find('xg-spot[data-id="'.concat(e.id,'"]'));if(!!r)this._updateDotDom(e,r),t&&this.showDot(e.id)},deleteDot:function(e){var t=this._ispots,i=this.player.plugins.progress;if(!!i){for(var n=[],r=0;r<t.length;r++)t[r].id===e&&n.push(r);for(var o=n.length,a=o-1;a>=0;a--)if(t.splice(n[a],1),this.ispotsInit){var s=i.find('xg-spot[data-id="'.concat(e,'"]'));s&&s.parentElement.removeChild(s)}}},deleteAllDots:function(){var e=this.player.plugins.progress;if(!!e){if(!this.ispotsInit){this._ispots=[];return}for(var t=e.root.getElementsByTagName("xg-spot"),i=t.length-1;i>=0;i--)e.outer.removeChild(t[i]);this._ispots=[]}},updateAllDots:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=this.player.plugins.progress;if(!!i){if(!this.ispotsInit){this._ispots=t;return}this._ispots=[];var n=i.root.getElementsByTagName("xg-spot"),r=n.length;if(r>t.length)for(var o=r-1;o>t.length-1;o--)i.outer.removeChild(n[o]);t.forEach(function(t,i){i<r?(n[i].setAttribute("data-id","".concat(t.id)),e._ispots.push(t),e.updateDot(t)):e.createDot(t)})}},positionDots:function(){var e=this,t=this._ispots,i=this.playerSize,n=this.player.sizeInfo,r=this.player.plugins.progress;if(!!r&&n.width!==i.width)i.width=n.width,i.left=n.left,t.forEach(function(t){var i=r.find('xg-spot[data-id="'.concat(t.id,'"]'));i&&e.positionDot(i,t.id)})},positionDot:function(e,t){var i=a.ZP.findDom(e,".xgplayer-spot-pop");if(!!i){var n=this.playerSize,r=e.getBoundingClientRect(),o=i.getBoundingClientRect(),s=r.left-n.left,l=n.width-s-r.width/2;if(s<o.width/2||n.width<o.width){var c=o.width/2-s;i.style.left="".concat(c,"px")}else if(l<o.width/2){var u=l-o.width/2+r.width/2;i.style.left="".concat(u,"px")}else i.style.left="50%"}},updateDuration:function(){var e=this,t=this.player.plugins.progress;if(!!t)this._ispots.forEach(function(i){var n=t.find('xg-spot[data-id="'.concat(i.id,'"]'));e._updateDotDom(i,n)})},getAllDotsDom:function(){var e=this.player.plugins.progress;return e?e.root.getElementsByTagName("xg-spot"):[]},getDotDom:function(e){var t=this.player.plugins.progress;if(!!t)return t.find('xg-spot[data-id="'.concat(e,'"]'))}},tL={dragmove:"onProgressMove",dragstart:"onProgressDragStart",dragend:"onProgressDragEnd",click:"onProgressClick",mouseover:"onProgressMouseOver",mouseenter:"onProgressMouseOver"},tA=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(e){var r;return(0,n.PA)(this,i),r=t.call(this,e),(0,n._x)((0,n.Lc)(r),"onMousemove",function(e){if(!r.config.disable){if(a.ZP.hasClass(e.target,"xg-spot-content")&&r.config.isHideThumbnailHover){r.player.plugins.progress.onMouseLeave(e);return}(r._state.f||a.ZP.hasClass(e.target,"xg-spot-content"))&&(a.ZP.event(e),e.stopPropagation())}}),(0,n._x)((0,n.Lc)(r),"onMousedown",function(e){if(!r.config.disable)(r._state.f||a.ZP.hasClass(e.target,"xg-spot-content"))&&(a.ZP.event(e),e.stopPropagation())}),(0,n._x)((0,n.Lc)(r),"onMouseup",function(e){if(!!r.isDrag){var t=r.player.plugins.progress;t&&t.pos&&(t.onMouseUp(e),t.pos.isEnter||t.onMouseLeave(e))}}),(0,n._x)((0,n.Lc)(r),"onDotMouseLeave",function(e){if(!r.config.disable){r._curDot.removeEventListener("mouseleave",r.onDotMouseLeave),r.blurDot(e.target),r._curDot=null;var t=r.player.plugins.progress;t&&t.enableBlur(),r.show()}}),(0,n._x)((0,n.Lc)(r),"onProgressMouseOver",function(e,t){if(!r.config.disable){if(a.ZP.hasClass(t.target,"xgplayer-spot")&&!r._curDot){r._curDot=t.target,r.focusDot(t.target),r._curDot.children.length>0&&r.hide();var i=r.player.plugins.progress;i&&i.disableBlur(),r._curDot.addEventListener("mouseleave",r.onDotMouseLeave)}}}),r._ispots=[],r.videoPreview=null,r.videothumbnail=null,r.thumbnail=null,r.timeStr="",r._state={now:0,f:!1},r}return(0,n.qH)(i,[{key:"beforeCreate",value:function(e){var t=e.player.plugins.progress;t&&(e.root=t.root)}},{key:"afterCreate",value:function(){var e,t,i,n,r=this;this._curDot=null,this.handlerSpotClick=this.hook("spotClick",function(e,t){t.seekTime&&r.player.seek(t.seekTime)}),this.transformTimeHook=this.hook("transformTime",function(e){r.setTimeContent(a.ZP.format(e))}),e=this,t=e.config,i=e.player,Object.keys(tS).map(function(t){e[t]=tS[t].bind(e)}),n=i.config.progressDot||t.ispots||[],e._ispots=n.map(function(e){return tw(e),e}),e.ispotsInit=!1,e.playerSize={left:i.sizeInfo.left,width:i.sizeInfo.width},e.on(S.DURATION_CHANGE,function(){e.ispotsInit?e.updateDuration():e.initDots()}),e.on(S.VIDEO_RESIZE,function(){e.positionDots()}),this.on(S.DURATION_CHANGE,function(){r.show()}),this.config.disable&&this.disable(),this.extTextRoot=this.find(".xg-spot-ext-text")}},{key:"setConfig",value:function(e){var t=this;if(!!e)Object.keys(e).map(function(i){t.config[i]=e[i]})}},{key:"onPluginsReady",value:function(){if(!!this.player.plugins.progress)this.previewLine=this.find(".xg-spot-line"),this.timePoint=this.find(".xgplayer-progress-point"),this.timeText=this.find(".xg-spot-time"),this.tipText=this.find(".spot-inner-text"),this._hasThumnail=!1,this.registerThumbnail(),this.bindEvents()}},{key:"bindEvents",value:function(){var e=this,t=this.player.plugins.progress;if(!!t){if(Object.keys(tL).map(function(i){e[tL[i]]=e[tL[i]].bind(e),t.addCallBack(i,e[tL[i]])}),"mobile"!==c.device){this.bind(".xg-spot-info","mousemove",this.onMousemove),this.bind(".xg-spot-info","mousedown",this.onMousedown),this.bind(".xg-spot-info","mouseup",this.onMouseup);var i=this.hook("previewClick",function(){});this.handlerPreviewClick=function(t){t.stopPropagation(),i(parseInt(1e3*e._state.now,10)/1e3,t)},this.bind(".xg-spot-content","mouseup",this.handlerPreviewClick)}}}},{key:"onProgressMove",value:function(e,t){if(!this.config.disable&&!!this.player.duration)this.updatePosition(e.offset,e.width,e.currentTime,e.e)}},{key:"onProgressDragStart",value:function(e){if(!this.config.disable&&!!this.player.duration)this.isDrag=!0,this.videoPreview&&a.ZP.addClass(this.videoPreview,"show")}},{key:"onProgressDragEnd",value:function(e){if(!this.config.disable&&!!this.player.duration)this.isDrag=!1,this.videoPreview&&a.ZP.removeClass(this.videoPreview,"show")}},{key:"onProgressClick",value:function(e,t){if(!this.config.disable)a.ZP.hasClass(t.target,"xgplayer-spot")&&(t.stopPropagation(),t.preventDefault(),["time","id","text"].map(function(i){e[i]=t.target.getAttribute("data-".concat(i))}),e.time&&(e.time=Number(e.time)),this.handlerSpotClick(t,e))}},{key:"updateLinePos",value:function(e,t){var i,n=this.root,r=this.previewLine,o=this.player,a=this.config,s="flex"===o.controls.mode,l=n.getBoundingClientRect().width;if(!!l||!this._hasThumnail){var c=e-(l=this._hasThumnail&&l<a.width?a.width:l)/2;c<0&&!s?(c=0,i=e-l/2):c>t-l&&!s?(i=c-(t-l),c=t-l):i=0,void 0!==i&&(r.style.transform="translateX(".concat(i.toFixed(2),"px)")),n.style.transform="translateX(".concat(c.toFixed(2),"px) translateZ(0)")}}},{key:"updateTimeText",value:function(e){var t=this.timeText,i=this.timePoint;t.innerHTML=e,this.thumbnail||(i.innerHTML=e)}},{key:"updatePosition",value:function(e,t,i,n){var r=this.root,o=this.config,s=this._state;if(!!r){s.now=i,this.transformTimeHook(i);var l=this.timeStr;n&&n.target&&a.ZP.hasClass(n.target,"xgplayer-spot")?(this.showTips(n.target.getAttribute("data-text"),!1,l),this.focusDot(n.target),s.f=!0,o.isFocusDots&&s.f&&(s.now=parseInt(n.target.getAttribute("data-time"),10))):o.defaultText?(s.f=!1,this.showTips(o.defaultText,!0,l)):(s.f=!1,this.hideTips("")),this.updateTimeText(l),this.updateThumbnails(s.now),this.updateLinePos(e,t)}}},{key:"setTimeContent",value:function(e){this.timeStr=e}},{key:"updateThumbnails",value:function(e){var t=this.player,i=this.videoPreview,n=this.config,r=t.plugins.thumbnail;if(r&&r.usable){this.thumbnail&&r.update(this.thumbnail,e,n.width,n.height);var o=i&&i.getBoundingClientRect();this.videothumbnail&&r.update(this.videothumbnail,e,o.width,o.height)}}},{key:"registerThumbnail",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("mobile"!==c.device){var t=this.player,i=this.config,n=t.getPlugin("thumbnail");if(n&&n.setConfig(e),n&&n.usable&&i.isShowThumbnail)a.ZP.removeClass(this.root,"short-line no-thumbnail");else{a.ZP.addClass(this.root,"short-line no-thumbnail");return}"short"===i.mode&&a.ZP.addClass(this.root,"short-line"),this._hasThumnail=!0;var r=this.find(".xg-spot-thumbnail");this.thumbnail=n.createThumbnail(r,"progress-thumbnail"),i.isShowCoverPreview&&(this.videoPreview=a.ZP.createDom("xg-video-preview","",{},"xgvideo-preview"),t.root.appendChild(this.videoPreview),this.videothumbnail=n.createThumbnail(this.videoPreview,"xgvideo-thumbnail")),this.updateThumbnails(0)}}},{key:"calcuPosition",value:function(e,t){var i=this.player.plugins.progress,n=this.player,r=i.root.getBoundingClientRect().width,o=n.duration/r*6;return e+t>n.duration&&(t=n.duration-e),n.duration,n.duration,{left:e/n.duration*100,width:t/n.duration*100,isMini:t<o}}},{key:"showDot",value:function(e){var t=this.findDot(e);if(t){var i=this.root.getBoundingClientRect().width,n=t.time/this.player.duration*i;this.updatePosition(n,i,t.time)}}},{key:"focusDot",value:function(e,t){if(!!e)!t&&(t=e.getAttribute("data-id")),a.ZP.addClass(e,"active"),this._activeDotId=t}},{key:"blurDot",value:function(e){if(!e){var t=this._activeDotId;e=this.getDotDom(t)}if(!!e)a.ZP.removeClass(e,"active"),this._activeDotId=null}},{key:"showTips",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(a.ZP.addClass(this.root,"no-timepoint"),!!e)a.ZP.addClass(this.find(".xg-spot-content"),"show-text"),t&&"production"===this.config.mode?(a.ZP.addClass(this.root,"product"),this.tipText.textContent=e):(a.ZP.removeClass(this.root,"product"),this.tipText.textContent=this._hasThumnail?e:"".concat(i," ").concat(e))}},{key:"hideTips",value:function(){a.ZP.removeClass(this.root,"no-timepoint"),this.tipText.textContent="",a.ZP.removeClass(this.find(".xg-spot-content"),"show-text"),a.ZP.removeClass(this.root,"product")}},{key:"hide",value:function(){a.ZP.addClass(this.root,"hide")}},{key:"show",value:function(e){a.ZP.removeClass(this.root,"hide")}},{key:"enable",value:function(){var e=this.config,t=this.playerConfig;this.config.disable=!1,this.show(),!this.thumbnail&&e.isShowThumbnail&&this.registerThumbnail(t.thumbnail||{})}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){var e=this,t=this.player.plugins.progress;t&&Object.keys(tL).map(function(i){t.removeCallBack(i,e[tL[i]])}),this.videothumbnail=null,this.thumbnail=null,this.videoPreview&&this.player.root.removeChild(this.videoPreview),this.unbind(".xg-spot-info","mousemove",this.onMousemove),this.unbind(".xg-spot-info","mousedown",this.onMousedown),this.unbind(".xg-spot-info","mouseup",this.onMouseup),this.unbind(".xg-spot-content","mouseup",this.handlerPreviewClick)}},{key:"render",value:function(){return"mobile"===c.device||"mobile"===this.playerConfig.isMobileSimulateMode?"":'<div class="xg-spot-info hide '.concat("short"===this.config.mode?"short-line":"",'">\n      <div class="xg-spot-content">\n        <div class="xg-spot-thumbnail">\n          <span class="xg-spot-time"></span>\n        </div>\n        <div class="xg-spot-text"><span class="spot-inner-text"></span></div>\n      </div>\n      <div class="xgplayer-progress-point">00:00</div>\n      <div class="xg-spot-ext-text"></div>\n      <div class="xg-spot-line"></div>\n    </div>')}}],[{key:"pluginName",get:function(){return"progresspreview"}},{key:"defaultConfig",get:function(){return{index:1,miniWidth:6,ispots:[],defaultText:"",isFocusDots:!0,isHideThumbnailHover:!0,isShowThumbnail:!0,isShowCoverPreview:!1,mode:"",disable:!1,width:160,height:90}}}]),i}(M.ZP),tI=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(e){var r;return(0,n.PA)(this,i),(r=t.call(this,e)).ratio=1,r.interval=null,r._preloadMark={},r}return(0,n.qH)(i,[{key:"afterCreate",value:function(){var e=this;this.usable&&this.initThumbnail(),this.on([S.DURATION_CHANGE],function(){var t=e.config,i=t.pic_num,n=t.interval;e.usable&&(e.interval=n>0?n:Math.round(1e3*e.player.duration/i)/1e3)})}},{key:"setConfig",value:function(e){var t=this;if(!e)return;var i=Object.keys(e);if(!(i.length<1))i.forEach(function(i){t.config[i]=e[i]}),this.usable&&this.initThumbnail()}},{key:"usable",get:function(){var e=this.config,t=e.urls,i=e.pic_num;return t&&t.length>0&&i>0}},{key:"initThumbnail",value:function(){var e=this.config,t=e.width,i=e.height,n=e.pic_num,r=e.interval;this.ratio=t/i*100,this.interval=r||Math.round(this.player.duration/n),this._preloadMark={}}},{key:"getUrlByIndex",value:function(e){return e>=0&&e<this.config.urls.length?this.config.urls[e]:""}},{key:"preload",value:function(e){var t=this;if(!this._preloadMark[e]){var i=this.config.urls,n=i.length,r=[];e>0&&r.push(e-1),r.push(e),e>0&&e<n-1&&r.push(e+1),r.map(function(e){!t._preloadMark[e]&&e>=0&&e<n&&(t._preloadMark[e]=1,a.ZP.preloadImg(i[e],function(){t._preloadMark[e]=2}))})}}},{key:"getPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.config,r=n.pic_num,o=n.row,a=n.col,s=n.width,l=n.height;this.interval=Math.round(this.player.duration/r);var c=Math.ceil(e/this.interval),u=(c=c>r?r:c)<o*a?0:Math.ceil(c/(o*a))-1,h=c-a*o*u,d=h>0?Math.ceil(h/a)-1:0,p=h>0?h-d*a-1:0,g=0,f=0;t&&i?t/i<s/l?g=s/l*(f=i):f=(g=t)/(s/l):i?!t&&(f=i||l,g=s/l*f):f=(g=t||s)/(s/l);var y=this.getUrlByIndex(u);return{urlIndex:u,rowIndex:d,colIndex:p,url:y,height:f,width:g,style:{backgroundImage:"url(".concat(y,")"),backgroundSize:"".concat(g*a,"px auto"),backgroundPosition:"-".concat(p*g,"px -").concat(d*f,"px"),width:"".concat(g,"px"),height:"".concat(f,"px")}}}},{key:"update",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=this.config,a=o.pic_num,s=o.urls;if(!(a<=0)&&!!s&&0!==s.length){var l=this.getPosition(t,i,n);this.preload(l.urlIndex),Object.keys(l.style).map(function(t){e.style[t]=l.style[t]}),Object.keys(r).map(function(t){e.style[t]=r[t]})}}},{key:"changeConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setConfig(e)}},{key:"createThumbnail",value:function(e,t){var i=a.ZP.createDom("xg-thumbnail","",{},"thumbnail ".concat(t));return e&&e.appendChild(i),i}}],[{key:"pluginName",get:function(){return"thumbnail"}},{key:"defaultConfig",get:function(){return{isShow:!1,urls:[],pic_num:0,col:0,row:0,height:90,width:160,scale:1,className:"",hidePortrait:!1}}}]),i}(M.ZP);function tD(e){return e?"background:".concat(e,";"):""}var tR=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){var e;(0,n.PA)(this,i);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,n._x)((0,n.Lc)(e),"onTimeupdate",function(){var t=e.player.ended,i=(0,n.Lc)(e).offsetDuration,r=e.currentTime;r=a.ZP.adjustTimeByDuration(r,i,t),e.update({played:r},i)}),e}return(0,n.qH)(i,[{key:"offsetDuration",get:function(){return this.playerConfig.customDuration||this.player.offsetDuration||this.player.duration}},{key:"currentTime",get:function(){var e=this.player,t=e.offsetCurrentTime,i=e.currentTime;return t>=0?t:i}},{key:"afterCreate",value:function(){var e=this;if(!!this.root)this.on(S.TIME_UPDATE,this.onTimeupdate),this.on(S.EMPTIED,function(){e.reset()})}},{key:"reset",value:function(){this.update({played:0,cached:0},0)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cached:0,played:0},t=arguments.length>1?arguments[1]:void 0;if(!!t&&!!this.root)e.cached&&(this.find("xg-mini-progress-cache").style.width="".concat(e.cached/t*100,"%")),e.played&&(this.find("xg-mini-progress-played").style.width="".concat(e.played/t*100,"%"))}},{key:"render",value:function(){var e=this.playerConfig,t=e.commonStyle;if(!!e.miniprogress){var i=this.config,n=i.mode,r=i.height,o={cached:tD(t.cachedColor),played:tD(t.playedColor),progress:tD(t.progressColor),height:r>0&&2!==r?"height: ".concat(r,"px;"):""};return'<xg-mini-progress class="xg-mini-progress '.concat("show"===n?"xg-mini-progress-show":"",'" style="').concat(o.progress," ").concat(o.height,'">\n    <xg-mini-progress-cache class="xg-mini-progress-cache" style="').concat(o.cached,'"></xg-mini-progress-cache>\n    <xg-mini-progress-played class="xg-mini-progress-played" style="').concat(o.played,'"></xg-mini-progress-played>\n    </xg-mini-progress>')}}}],[{key:"pluginName",get:function(){return"MiniProgress"}},{key:"defaultConfig",get:function(){return{mode:"auto",height:2}}}]),i}(M.ZP),tO={REAL_TIME:"realtime",FIRST_FRAME:"firstframe",POSTER:"poster"},tN=null,tM=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){var e;(0,n.PA)(this,i);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,n._x)((0,n.Lc)(e),"onLoadedData",function(t){if(!!e.player)e._frameCount=e.config.startFrameCount,e.stop(),e.renderOnTimeupdate(t),e.off(S.TIME_UPDATE,e.renderOnTimeupdate),e.on(S.TIME_UPDATE,e.renderOnTimeupdate)}),(0,n._x)((0,n.Lc)(e),"onVisibilitychange",function(t){"visible"===document.visibilityState?e._checkIfCanStart()&&e.start():"hidden"===document.visibilityState&&e.stop()}),(0,n._x)((0,n.Lc)(e),"renderOnTimeupdate",function(t){if(e._frameCount>0)e.renderOnce(),e._frameCount--;else{e._isLoaded=!0,e.off(S.TIME_UPDATE,e.renderOnTimeupdate);var i=e.config.startInterval;!e.player.paused&&e._checkIfCanStart()&&e.start(0,i)}}),(0,n._x)((0,n.Lc)(e),"start",function(t,i){var r=e.player.video,o=function(){try{return parseInt(window.performance.now(),10)}catch(e){return new Date().getTime()}}(),s=e.checkVideoIsSupport(r);if(!!s&&!!e.canvasCtx)!i&&(i=e.interval),e.stop(),r.videoWidth&&r.videoHeight&&(e.videoPI=r.videoHeight>0?parseInt(r.videoWidth/r.videoHeight*100,10):0,e.config.mode===tO.REAL_TIME?(r&&r.videoWidth&&e.update(s,e.videoPI),e.preTime=o):o-e.preTime>=i&&(r&&r.videoWidth&&e.update(s,e.videoPI),e.preTime=o)),e.frameId="timer"===e._loopType?a.ZP.setTimeout((0,n.Lc)(e),e.start,i):a.ZP.requestAnimationFrame(e.start)}),(0,n._x)((0,n.Lc)(e),"stop",function(){e.frameId&&("timer"===e._loopType?a.ZP.clearTimeout((0,n.Lc)(e),e.frameId):a.ZP.cancelAnimationFrame(e.frameId),e.frameId=null)}),e}return(0,n.qH)(i,[{key:"afterCreate",value:function(){var e=this;!0===this.playerConfig.dynamicBg&&(this.config.disable=!1),!i.isSupport&&(this.config.disable=!0);var t=this.config,n=t.disable,r=t.mode,o=t.frameRate;if(n)return;if(this._pos={width:0,height:0,rwidth:0,rheight:0,x:0,y:0,pi:0},this.isStart=!1,this._isLoaded=!1,this.videoPI=0,this.preTime=0,this.interval=parseInt(1e3/o,10),this.canvas=null,this.canvasCtx=null,this._frameCount=0,this._loopType=this.config.mode!==tO.REAL_TIME&&this.interval>=1e3?"timer":"animation",this.once(S.COMPLETE,function(){if(!!e.player)e.init(),e.renderByPoster(),!e.player.paused&&e.start()}),r!==tO.POSTER)r!==tO.FIRST_FRAME&&(this.on(S.EMPTIED,function(){e.stop()}),this.on(S.PLAY,function(){var t=e.config.startInterval;e._checkIfCanStart()&&e.start(0,t)}),this.on(S.PAUSE,function(){e.stop()})),this.on(S.LOADED_DATA,this.onLoadedData),this.on(S.LOAD_START,function(){e._isLoaded=!1,e.stop()}),document.addEventListener("visibilitychange",this.onVisibilitychange)}},{key:"setConfig",value:function(e){var t=this;Object.keys(e).forEach(function(i){"root"===i&&e[i]!==t.config[i]?t.reRender(e[i]):"frameRate"===i?t.interval=parseInt(1e3/e[i],10):"disable"===i&&e[i]&&t.stop(),t.config[i]=e[i]})}},{key:"init",value:function(e){var t=this.player,n=this.config;this.canvasFilter=i.supportCanvasFilter();try{var r=e||n.root;!r&&(r=n.isInnerRender&&t.innerContainer||t.root),r.insertAdjacentHTML("afterbegin",'<div class="xgplayer-dynamic-bg" data-index="'.concat(n.index,'"><canvas>\n        </canvas><xgmask></xgmask></div>')),this.root=r.children[0],this.canvas=this.find("canvas"),!this.canvasFilter&&(this.canvas.style.filter=n.filter,this.canvas.style.webkitFilter=n.filter),this.mask=this.find("xgmask"),n.addMask&&(this.mask.style.background=n.maskBg),this.canvasCtx=this.canvas.getContext("2d")}catch(e){V.Z.logError("plugin:DynamicBg",e)}}},{key:"reRender",value:function(e){if(!!this.config.disable||!!this.root){this.stop();var t=this.root?this.root.parentElement:null;if(t!==e&&t.removeChild(this.root),!e){this.root=null;return}this.init(e),this.renderOnce();var i=this.config.startInterval;this._checkIfCanStart()&&this.start(0,i)}}},{key:"checkVideoIsSupport",value:function(e){if(!e)return null;var t=e&&e instanceof window.HTMLVideoElement?e:e.canvas?e.canvas:e.flyVideo?e.flyVideo:null;if(t&&!("safari"===c.browser&&a.ZP.isMSE(t)))return t;var i=t?t.tagName.toLowerCase():"";return"canvas"===i||"img"===i?t:null}},{key:"renderByPoster",value:function(){var e=this.playerConfig.poster;if(e){var t="String"===a.ZP.typeOf(e)?e:"String"===a.ZP.typeOf(e.poster)?e.poster:null;this.updateImg(t)}}},{key:"_checkIfCanStart",value:function(){var e=this.config.mode;return this._isLoaded&&!this.player.paused&&e!==tO.FIRST_FRAME&&e!==tO.POSTER}},{key:"renderOnce",value:function(){var e=this.player.video;if(!!e.videoWidth&&!!e.videoHeight){this.videoPI=parseInt(e.videoWidth/e.videoHeight*100,10);var t=this.checkVideoIsSupport(e);t&&this.update(t,this.videoPI)}}},{key:"updateImg",value:function(e){var t=this;if(!!e){var i=this.canvas.getBoundingClientRect(),n=i.width,r=i.height,o=new window.Image;o.onload=function(){if(!!t.canvas&&!t.frameId&&!t.isStart){t.canvas.height=r,t.canvas.width=n;var e=parseInt(n/r*100,10);t.update(o,e),o=null}},o.src=e}}},{key:"update",value:function(e,t){if(!!this.canvas&&!!this.canvasCtx&&!!t)try{var i=this._pos,n=this.config,r=this.canvas.getBoundingClientRect(),o=r.width,a=r.height;if(o!==i.width||a!==i.height||i.pi!==t){var s=parseInt(o/a*100,10);i.pi=t,i.width!==o&&(i.width=this.canvas.width=o),i.height!==a&&(i.height=this.canvas.height=a);var l=a,c=o;s<t?c=parseInt(a*t/100,10):s>t&&(l=parseInt(100*o/t,10)),i.rwidth=c*n.multiple,i.rheight=l*n.multiple,i.x=(o-i.rwidth)/2,i.y=(a-i.rheight)/2}this.canvasFilter&&(this.canvasCtx.filter=n.filter),this.canvasCtx.drawImage(e,i.x,i.y,i.rwidth,i.rheight)}catch(e){V.Z.logError("plugin:DynamicBg",e)}}},{key:"destroy",value:function(){this.stop(),document.removeEventListener("visibilitychange",this.onVisibilitychange),this.canvasCtx=null,this.canvas=null}},{key:"render",value:function(){return""}}],[{key:"pluginName",get:function(){return"dynamicBg"}},{key:"defaultConfig",get:function(){return{isInnerRender:!1,disable:!0,index:-1,mode:"framerate",frameRate:10,filter:"blur(50px)",startFrameCount:2,startInterval:0,addMask:!0,multiple:1.2,maskBg:"rgba(0,0,0,0.7)"}}},{key:"isSupport",get:function(){return"boolean"==typeof tN?tN:tN=function(){try{if(document.createElement("canvas").getContext)return!0;return!1}catch(e){return!1}}()}},{key:"supportCanvasFilter",value:function(){return!("safari"===c.browser||"firefox"===c.browser)}}]),i}(M.ZP),tF="info",tH=S.STATS_EVENTS,tZ=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){var e;(0,n.PA)(this,i);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,n._x)((0,n.Lc)(e),"_recordUserActions",function(t){var i=e._getTime(),r=Object.assign({},t,{msg:t.msg||t.action});e._stats[tF].push((0,n.Zj)((0,n.Zj)({type:"userAction"},i),{},{payload:r}))}),(0,n._x)((0,n.Lc)(e),"_onReset",function(){e.reset()}),(0,n._x)((0,n.Lc)(e),"_recordInfo",function(t){e.info(t)}),(0,n._x)((0,n.Lc)(e),"_downloadStats",function(){var t=new Blob([JSON.stringify(e.getStats())],{type:"application/json"}),i=window.URL.createObjectURL(t),n=document.createElement("a");n.style.display="none",n.href=i,n.download="player.txt",n.disabled=!1,n.click()}),e}return(0,n.qH)(i,[{key:"_getTime",value:function(){return{timestamp:Date.now(),timeFormat:new Date().toISOString()}}},{key:"afterCreate",value:function(){this.reset(),this.on(S.USER_ACTION,this._recordUserActions),this.on(tH.STATS_INFO,this._recordInfo),this.on(tH.STATS_DOWNLOAD,this._downloadStats),this.on(tH.STATS_RESET,this._onReset)}},{key:"destroy",value:function(){this.offAll()}},{key:"downloadStats",value:function(){this._downloadStats()}},{key:"info",value:function(e){e.profile?this._infoProfile(e):this._info(e)}},{key:"_info",value:function(e){var t=this._getTime();this._stats[tF].push((0,n.Zj)((0,n.Zj)({},t),{},{payload:e}))}},{key:"_infoProfile",value:function(e){if(e&&e.startMs){var t=Date.now()-e.startMs,i=(0,n.Zj)({cat:"function",dur:t,name:e.name||e.msg,ph:"X",pid:0,tid:0,ts:e.startMs,profile:!0},e);this._info(i)}else console.warn("infoProfile need object data, include startMs")}},{key:"reset",value:function(){var e;this._stats=(e={},(0,n._x)(e,tF,[]),(0,n._x)(e,"media",{}),e)}},{key:"getStats",value:function(){for(var e=this.player.media,t=[],i=0;i<e.buffered.length;i++)t.push({start:e.buffered.start(i),end:e.buffered.end(i)});var n={currentTime:e.currentTime,readyState:e.readyState,buffered:t,paused:e.paused,ended:e.ended};return this._stats.media=n,{raw:this._stats,timestat:this._getTimeStats(),profile:this._getProfile()}}},{key:"_getTimeStats",value:function(){return this._stats[tF].map(function(e){var t=e.payload.data,i="";try{t instanceof Error?i=t.msg:void 0!==t&&(i=JSON.stringify(t))}catch(e){console.log("err",e)}return"[".concat(e.timeFormat,"] : ").concat(e.payload.msg," ").concat(i," ")})}},{key:"_getProfile",value:function(){var e={traceEvents:[]};return this._stats[tF].forEach(function(t){t.payload.profile&&e.traceEvents.push(t.payload)}),e}}],[{key:"pluginName",get:function(){return"stats"}},{key:"defaultConfig",get:function(){return{}}}]),i}(F.ZP),tU=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){var e;(0,n.PA)(this,i);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,n._x)((0,n.Lc)(e),"onGapJump",function(){var t=(0,n.Lc)(e),r=t.player,o=t.config;if(r.media.readyState===HTMLMediaElement.HAVE_NOTHING)return;if(r.media.seeking){if(!e.seekingEventReceived)return}else e.seekingEventReceived=!1;if(r.media.paused&&0!==r.media.currentTime&&e.hasPlayed)return;var a=r.media.buffered,s=o.smallGapLimit||.5,l=o.gapDetectionThreshold||.3,c=r.media.currentTime,u=e._getIndex(a,c,l);if(null===u||0===u)return;console.log("GapJump  bufferRange ",a.start(u),a.end(u));var h=a.start(u)+.1;if(h>r.media.duration)return;var d=h-c,p=d<=s;if(!(d<i.BROWSER_GAP_TOLERANCE))p&&(!1!==o.useGapJump&&(r.media.currentTime=e.isSafari?h+.1:h),e.player&&e.player.emit("detectGap"),console.log("gapJump gapIndex",u," isGapSamll:",p," currentTime:",r.media.currentTime," jumpSize:",c-r.media.currentTime),.08!==h&&r&&r.emit("log",{type:"oneevent",end_type:"gap",vid:r.config.vid,ext:{video_postion:Math.floor(1e3*h)}}))}),e}return(0,n.qH)(i,[{key:"afterCreate",value:function(){var e=this;if(!1!==this.config.useGapJump)this.hasPlayed=!1,this.seekingEventReceived=!1,this.isSafari=/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),this.on(S.WAITING,this.onGapJump),this.on(S.PLAY,function(){e.hasPlayed=!0}),this.on(S.SEEKING,function(){e.seekingEventReceived=!0})}},{key:"_getIndex",value:function(e,t,i){if(!e||!e.length||1===e.length&&e.end(0)-e.start(0)<1e-6)return null;for(var n=this._getBuffered(e),r=null,o=0;o<n.length;o++)if(n[o].start>t&&(0===o||n[o-1].end-t<=i)){r=o;break}return r}},{key:"_getBuffered",value:function(e){if(!e)return[];for(var t=[],i=0;i<e.length;i++)t.push({start:e.start(i),end:e.end(i)});return t}}],[{key:"pluginName",get:function(){return"gapJump"}},{key:"defaultConfig",get:function(){return{useGapJump:!1,smallGapLimit:.5,gapDetectionThreshold:.3}}}]),i}(M.ZP);tU.BROWSER_GAP_TOLERANCE=.001;var tB=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){var e;(0,n.PA)(this,i);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,n._x)((0,n.Lc)(e),"onWaiting",function(){var t=(0,n.Lc)(e).config;if(!(e.jumpCnt>t.jumpCntMax)&&!e.timer&&!1!==t.useWaitingTimeoutJump)e.timer=setTimeout(e.onJump,1e3*t.waitingTime)}),(0,n._x)((0,n.Lc)(e),"onJump",function(){var t=(0,n.Lc)(e),i=t.player,r=t.config;if(clearTimeout(e.timer),e.timer=null,e.jumpCnt>r.jumpCntMax||!1===r.useWaitingTimeoutJump||i.media.paused&&0!==i.media.currentTime&&e.hasPlayed)return;e.jumpSize=r.jumpSize*(e.jumpCnt+1),e.jumpCnt===r.jumpSize&&e.jumpSize<6&&(e.jumpSize=6);var o=i.currentTime+e.jumpSize;if(!(o>i.media.duration))e.jumpCnt++,i.currentTime=o}),e}return(0,n.qH)(i,[{key:"afterCreate",value:function(){var e=this,t=this.config,i=t.useWaitingTimeoutJump,n=t.jumpSize;if(!1!==i)this.hasPlayed=!1,this.jumpCnt=0,this.timer=null,this.jumpSize=n,this.on(S.WAITING,this.onWaiting),this.on([S.PLAYING,S.CANPLAY],function(){clearTimeout(e.timer),e.timer=null,e.jumpSize=e.config.jumpSize}),this.on(S.PLAY,function(){e.hasPlayed=!0})}}],[{key:"pluginName",get:function(){return"waitingTimeoutJump"}},{key:"defaultConfig",get:function(){return{useWaitingTimeoutJump:!1,waitingTime:15,jumpSize:2,jumpCntMax:4}}}]),i}(M.ZP),tW=["cdn"],tj=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){var e;(0,n.PA)(this,i);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,n._x)((0,n.Lc)(e),"getSpeed",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cdn";if(!e.speedListCache||!e.speedListCache[t]||e.speedListCache[t].length<=0)return 0;var i=0;return e.speedListCache[t].map(function(e){i+=e}),Math.floor(i/e.speedListCache[t].length)}),(0,n._x)((0,n.Lc)(e),"startTimer",function(){if(!a.ZP.isMSE(e.player.video))e.initSpeedList(),e.cnt=0,e.timer=setTimeout(e.testSpeed,e.config.testTimeStep)}),(0,n._x)((0,n.Lc)(e),"initSpeedList",function(){e.speedListCache={},tW.forEach(function(t){e.speedListCache[t]=[]})}),(0,n._x)((0,n.Lc)(e),"_onRealSpeedChange",function(t){t.speed&&e.appendList(t.speed,t.type||"cdn")}),(0,n._x)((0,n.Lc)(e),"testSpeed",function(){if(clearTimeout(e.timer),e.timer=null,e.player&&e.config.openSpeed){var t=e.config,i=t.url,n=t.loadSize,r=t.testCnt,o=t.testTimeStep,a=i+(0>i.indexOf("?")?"?testst=":"&testst=")+Date.now();if(!(e.cnt>=r)){e.cnt++;try{var s=new Date().getTime(),l=null,c=new XMLHttpRequest;e.xhr=c,c.open("GET",a);var u={},h=Math.floor(10*Math.random());u.Range="bytes="+h+"-"+(n+h),u&&Object.keys(u).forEach(function(e){c.setRequestHeader(e,u[e])}),c.onreadystatechange=function(){if(4===c.readyState){e.xhr=null,l=new Date().getTime();var t=c.getResponseHeader("Content-Length")/1024*8,i=Math.round(1e3*t/(l-s));e.appendList(i),e.timer=setTimeout(e.testSpeed,o)}},c.send()}catch(e){console.error(e)}}}}),(0,n._x)((0,n.Lc)(e),"appendList",function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cdn";if(e.speedListCache&&e.speedListCache[i]){var r=e.config.saveSpeedMax;e.speedListCache[i].length>=r&&e.speedListCache[i].shift(),e.speedListCache[i].push(t);var o=(0,n.Lc)(e).player;o&&("cdn"===i?o.realTimeSpeed=t:o[e.getSpeedName("realTime",i)]=t),e.updateSpeed(i)}}),(0,n._x)((0,n.Lc)(e),"updateSpeed",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cdn",i=e.getSpeed(t),r=(0,n.Lc)(e).player;if(r){if("cdn"===t)(!r.avgSpeed||i!==r.avgSpeed)&&(r.avgSpeed=i,r.emit(S.DOWNLOAD_SPEED_CHANGE,{speed:i,realTimeSpeed:r.realTimeSpeed}));else{var o=e.getSpeedName("avg",t);(!r[o]||i!==r[o])&&(r[o]=i,r.emit(S.DOWNLOAD_SPEED_CHANGE,{speed:i,realTimeSpeed:r.realTimeSpeed}))}}}),e}return(0,n.qH)(i,[{key:"afterCreate",value:function(){var e=this.config,t=e.openSpeed,i=e.addSpeedTypeList;if((null==i?void 0:i.length)>0&&tW.push.apply(tW,(0,n.u)(i)),this.initSpeedList(),this.on("real_time_speed",this._onRealSpeedChange),this.timer=null,this.cnt=0,this.xhr=null,!!t)this.on([S.LOADED_DATA,S.REPLAY],this.startTimer)}},{key:"getSpeedName",value:function(e,t){return e+"Speed"+t.toUpperCase()}},{key:"openSpeed",get:function(){return this.config.openSpeed},set:function(e){if(this.config.openSpeed=e,!e&&this.timer){clearTimeout(this.timer),this.timer=null;return}if(this.config.openSpeed){if(this.timer)return;this.timer=setTimeout(this.testSpeed,this.config.testTimeStep)}}},{key:"destroy",value:function(){var e=this;this.off("real_time_speed",this._onRealSpeedChange),this.off([S.LOADED_DATA,S.REPLAY],this.startTimer),tW.forEach(function(t){e.speedListCache&&e.speedListCache[t]&&(e.speedListCache[t]=[])}),this.speedListCache&&(this.speedListCache={}),clearTimeout(this.timer),this.timer=null,this.xhr&&4!==this.xhr.readyState&&(this.xhr.cancel&&this.xhr.cancel(),this.xhr=null)}}],[{key:"pluginName",get:function(){return"testspeed"}},{key:"defaultConfig",get:function(){return{openSpeed:!1,testCnt:3,loadSize:204800,testTimeStep:3e3,url:"",saveSpeedMax:5,addSpeedTypeList:[]}}}]),i}(M.ZP),tG=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){return(0,n.PA)(this,i),t.apply(this,arguments)}return(0,n.qH)(i,[{key:"afterCreate",value:function(){var e=this,t=this.player,i=this.config,n=t.media||t.video;if(this.timer=null,this._lastDecodedFrames=0,this._currentStuckCount=0,this._lastCheckPoint=null,this._payload=[],!i.disabled)n.getVideoPlaybackQuality&&(this.on(S.PLAY,function(){e._startTick()}),this.on(S.PAUSE,function(){e._stopTick()}),this.on(S.ENDED,function(){e._stopTick()}),this.on(S.EMPTIED,function(){e._stopTick()}))}},{key:"_startTick",value:function(){var e=this;this._stopTick(),this._timer=setTimeout(function(){e._checkDecodeFPS(),e._startTick()},this.config.tick)}},{key:"_stopTick",value:function(){clearTimeout(this._timer),this._timer=null}},{key:"_checkBuffer",value:function(e,t){for(var i=!1,n=[],r=0;r<t.length;r++){var o=t.start(r),a=t.end(r);if(n.push({start:o,end:a}),o<=e&&e<=a-1){i=!0;break}}return{enoughBuffer:i,buffers:n}}},{key:"_checkStuck",value:function(e,t,i,n){var r=this.player.media||this.player.video,o=document.hidden,a=r.paused,s=r.readyState,l=r.currentTime,c=r.buffered;if(o||a||s<4)return;var u=this._checkBuffer(l,c),h=u.enoughBuffer,d=u.buffers;if(!!h)e<=this.config.reportFrame?(this._currentStuckCount++,this._payload.push({currentTime:l,buffers:d,curDecodedFrames:e,totalVideoFrames:t,droppedVideoFrames:i,checkInterval:n}),this._currentStuckCount>=this.config.stuckCount&&(this.emit(S.FPS_STUCK,this._payload),this._reset())):this._reset()}},{key:"_reset",value:function(){this._payload=[],this._currentStuckCount=0}},{key:"_checkDecodeFPS",value:function(){var e=this.player.media||this.player.video;if(!!e){var t=e.getVideoPlaybackQuality(),i=t.totalVideoFrames,n=t.droppedVideoFrames,r=performance.now();if(i&&this._lastCheckPoint){var o=i-this._lastDecodedFrames,a=r-this._lastCheckPoint;this._checkStuck(o,i,n,a)}this._lastDecodedFrames=i,this._lastCheckPoint=r}}},{key:"destroy",value:function(){this._stopTick()}}],[{key:"pluginName",get:function(){return"FpsDetect"}},{key:"defaultConfig",get:function(){return{disabled:!1,tick:1e3,stuckCount:3,reportFrame:0}}}]),i}(M.ZP);J.use({LANG:"zh-cn",TEXT:{ERROR_TYPES:{network:{code:1,msg:"\u89C6\u9891\u4E0B\u8F7D\u9519\u8BEF"},mse:{code:2,msg:"\u6D41\u8FFD\u52A0\u9519\u8BEF"},parse:{code:3,msg:"\u89E3\u6790\u9519\u8BEF"},format:{code:4,msg:"\u683C\u5F0F\u9519\u8BEF"},decoder:{code:5,msg:"\u89E3\u7801\u9519\u8BEF"},runtime:{code:6,msg:"\u8BED\u6CD5\u9519\u8BEF"},timeout:{code:7,msg:"\u64AD\u653E\u8D85\u65F6"},other:{code:8,msg:"\u5176\u4ED6\u9519\u8BEF"}},HAVE_NOTHING:"\u6CA1\u6709\u5173\u4E8E\u97F3\u9891/\u89C6\u9891\u662F\u5426\u5C31\u7EEA\u7684\u4FE1\u606F",HAVE_METADATA:"\u97F3\u9891/\u89C6\u9891\u7684\u5143\u6570\u636E\u5DF2\u5C31\u7EEA",HAVE_CURRENT_DATA:"\u5173\u4E8E\u5F53\u524D\u64AD\u653E\u4F4D\u7F6E\u7684\u6570\u636E\u662F\u53EF\u7528\u7684\uFF0C\u4F46\u6CA1\u6709\u8DB3\u591F\u7684\u6570\u636E\u6765\u64AD\u653E\u4E0B\u4E00\u5E27/\u6BEB\u79D2",HAVE_FUTURE_DATA:"\u5F53\u524D\u53CA\u81F3\u5C11\u4E0B\u4E00\u5E27\u7684\u6570\u636E\u662F\u53EF\u7528\u7684",HAVE_ENOUGH_DATA:"\u53EF\u7528\u6570\u636E\u8DB3\u4EE5\u5F00\u59CB\u64AD\u653E",NETWORK_EMPTY:"\u97F3\u9891/\u89C6\u9891\u5C1A\u672A\u521D\u59CB\u5316",NETWORK_IDLE:"\u97F3\u9891/\u89C6\u9891\u662F\u6D3B\u52A8\u7684\u4E14\u5DF2\u9009\u53D6\u8D44\u6E90\uFF0C\u4F46\u5E76\u672A\u4F7F\u7528\u7F51\u7EDC",NETWORK_LOADING:"\u6D4F\u89C8\u5668\u6B63\u5728\u4E0B\u8F7D\u6570\u636E",NETWORK_NO_SOURCE:"\u672A\u627E\u5230\u97F3\u9891/\u89C6\u9891\u6765\u6E90",MEDIA_ERR_ABORTED:"\u53D6\u56DE\u8FC7\u7A0B\u88AB\u7528\u6237\u4E2D\u6B62",MEDIA_ERR_NETWORK:"\u7F51\u7EDC\u9519\u8BEF",MEDIA_ERR_DECODE:"\u89E3\u7801\u9519\u8BEF",MEDIA_ERR_SRC_NOT_SUPPORTED:"\u4E0D\u652F\u6301\u7684\u97F3\u9891/\u89C6\u9891\u683C\u5F0F",REPLAY:"\u91CD\u64AD",ERROR:"\u7F51\u7EDC\u8FDE\u63A5\u4F3C\u4E4E\u51FA\u73B0\u4E86\u95EE\u9898",PLAY_TIPS:"\u64AD\u653E",PAUSE_TIPS:"\u6682\u505C",PLAYNEXT_TIPS:"\u4E0B\u4E00\u96C6",DOWNLOAD_TIPS:"\u4E0B\u8F7D",ROTATE_TIPS:"\u65CB\u8F6C",RELOAD_TIPS:"\u91CD\u65B0\u8F7D\u5165",FULLSCREEN_TIPS:"\u8FDB\u5165\u5168\u5C4F",EXITFULLSCREEN_TIPS:"\u9000\u51FA\u5168\u5C4F",CSSFULLSCREEN_TIPS:"\u8FDB\u5165\u6837\u5F0F\u5168\u5C4F",EXITCSSFULLSCREEN_TIPS:"\u9000\u51FA\u6837\u5F0F\u5168\u5C4F",TEXTTRACK:"\u5B57\u5E55",PIP:"\u753B\u4E2D\u753B",SCREENSHOT:"\u622A\u56FE",LIVE:"\u6B63\u5728\u76F4\u64AD",OFF:"\u5173\u95ED",OPEN:"\u5F00\u542F",MINI_DRAG:"\u70B9\u51FB\u6309\u4F4F\u53EF\u62D6\u52A8\u89C6\u9891",MINISCREEN:"\u5C0F\u5C4F\u5E55",REFRESH_TIPS:"\u8BF7\u8BD5\u8BD5",REFRESH:"\u5237\u65B0",FORWARD:"\u5FEB\u8FDB\u4E2D",LIVE_TIP:"\u76F4\u64AD"}});var tY=(0,n.qH)(function e(t,i){(0,n.PA)(this,e);var r,o,a,s=i&&"mobile"===i.isMobileSimulateMode,l=i.isLive,u=[].concat(l?[]:[e6,eJ,tR,tA,e4],[e$,e3,ti,tl,tx,tk,td,tp,te,ta]),h=[ep,eg,ex,ez,ek,tP,tT,tI,eI];this.plugins=[tZ,eh].concat((0,n.u)(u),h,[tU,tB]);var d=s?"mobile":c.device;switch(d){case"pc":(r=this.plugins).push.apply(r,[eY,eO,tC,tj,tG]);break;case"mobile":(o=this.plugins).push.apply(o,[ej]);break;default:(a=this.plugins).push.apply(a,[eY,eO,tC])}(c.os.isIpad||"pc"===d)&&this.plugins.push(tM),c.os.isIpad&&this.plugins.push(eO),this.ignores=[],this.i18n=[]}),tV=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){return(0,n.PA)(this,i),t.apply(this,arguments)}return(0,n.qH)(i)}(el);(0,n._x)(tV,"defaultPreset",tY),(0,n._x)(tV,"Util",a.ZP),(0,n._x)(tV,"Sniffer",c),(0,n._x)(tV,"Errors",w),(0,n._x)(tV,"Events",S),(0,n._x)(tV,"Plugin",M.ZP),(0,n._x)(tV,"BasePlugin",F.ZP),(0,n._x)(tV,"I18N",J),(0,n._x)(tV,"STATE_CLASS",B),(0,n._x)(tV,"InstManager",en)},174118:function(e,t,i){"use strict";i.d(t,{ZP:function(){return l}});var n=i(393178),r=i(522763),o=i(192735),a=i(894263);function s(e,t){o.Z.logError("[".concat(e,"] event or callback cant be undefined or null when call ").concat(t))}var l=function(){function e(t){(0,n.PA)(this,e),r.ZP.checkIsFunction(this.beforeCreate)&&this.beforeCreate(t),(0,a.ZP)(this),this.__args=t,this.__events={},this.__onceEvents={},this.config=t.config||{},this.player=null,this.playerConfig={},this.pluginName="",this.__init(t)}return(0,n.qH)(e,[{key:"beforeCreate",value:function(e){}},{key:"afterCreate",value:function(){}},{key:"beforePlayerInit",value:function(){}},{key:"onPluginsReady",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"destroy",value:function(){}},{key:"__init",value:function(e){this.player=e.player,this.playerConfig=e.player&&e.player.config,this.pluginName=e.pluginName?e.pluginName.toLowerCase():this.constructor.pluginName.toLowerCase(),this.logger=e.player&&e.player.logger}},{key:"updateLang",value:function(e){!e&&(e=this.lang)}},{key:"lang",get:function(){return this.player.lang}},{key:"i18n",get:function(){return this.player.i18n}},{key:"i18nKeys",get:function(){return this.player.i18nKeys}},{key:"domEventType",get:function(){var e=r.ZP.checkTouchSupport()?"touch":"mouse";return this.playerConfig&&("touch"===this.playerConfig.domEventType||"mouse"===this.playerConfig.domEventType)&&(e=this.playerConfig.domEventType),e}},{key:"on",value:function(e,t){var i=this;if(!e||!t||!this.player){s(this.pluginName,"plugin.on(event, callback)");return}"string"==typeof e?(this.__events[e]=t,this.player.on(e,t)):Array.isArray(e)&&e.forEach(function(e){i.__events[e]=t,i.player.on(e,t)})}},{key:"once",value:function(e,t){var i=this;if(!e||!t||!this.player){s(this.pluginName,"plugin.once(event, callback)");return}"string"==typeof e?(this.__onceEvents[e]=t,this.player.once(e,t)):Array.isArray(e)&&e.forEach(function(n){i.__onceEvents[n]=t,i.player.once(e,t)})}},{key:"off",value:function(e,t){var i=this;if(!e||!t||!this.player){s(this.pluginName,"plugin.off(event, callback)");return}"string"==typeof e?(delete this.__events[e],this.player.off(e,t)):Array.isArray(e)&&e.forEach(function(n){delete i.__events[e],i.player.off(n,t)})}},{key:"offAll",value:function(){var e=this;["__events","__onceEvents"].forEach(function(t){Object.keys(e[t]).forEach(function(i){e[t][i]&&e.off(i,e[t][i]),i&&delete e[t][i]})}),this.__events={},this.__onceEvents={}}},{key:"emit",value:function(e){var t;if(!!this.player){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];(t=this.player).emit.apply(t,[e].concat(n))}}},{key:"emitUserAction",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!!this.player){var r=(0,n.Zj)((0,n.Zj)({},i),{},{pluginName:this.pluginName});this.player.emitUserAction(e,t,r)}}},{key:"hook",value:function(e,t){return a.z3.call.apply(a.z3,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(e,t){for(var i=arguments.length,n=Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return a.xn.call.apply(a.xn,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(e,t){for(var i=arguments.length,n=Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return a.v8.call.apply(a.v8,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"registerPlugin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!!this.player)return i&&(t.pluginName=i),this.player.registerPlugin({plugin:e,options:t})}},{key:"getPlugin",value:function(e){return this.player?this.player.getPlugin(e):null}},{key:"__destroy",value:function(){var e=this,t=this.player,i=this.pluginName;this.offAll(),r.ZP.clearAllTimers(this),r.ZP.checkIsFunction(this.destroy)&&this.destroy(),["player","playerConfig","pluginName","logger","__args","__hooks"].map(function(t){e[t]=null}),t.unRegisterPlugin(i),(0,a.Qs)(this)}}],[{key:"defineGetterOrSetter",value:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&Object.defineProperty(e,i,t[i])}},{key:"defineMethod",value:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&"function"==typeof t[i]&&Object.defineProperty(e,i,{configurable:!0,value:t[i]})}},{key:"defaultConfig",get:function(){return{}}},{key:"pluginName",get:function(){return"pluginName"}}]),e}()},894263:function(e,t,i){"use strict";i.d(t,{Qs:function(){return d},ZP:function(){return h},bR:function(){return c},g2:function(){return u},rl:function(){return p},v8:function(){return l},xn:function(){return s},z3:function(){return o}});var n=i(393178);function r(e,t,i){for(var n=arguments.length,r=Array(n>3?n-3:0),o=3;o<n;o++)r[o-3]=arguments[o];var a=t.call.apply(t,[e].concat(r));if(!!i&&"function"==typeof i)a&&a.then?a.then(function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];i.call.apply(i,[e].concat(n))}):i.call.apply(i,[e].concat(r))}function o(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{pre:null,next:null};return!this.__hooks&&(this.__hooks={}),this.__hooks[e]||(this.__hooks[e]=null),(function(){var o,a=arguments,s=this;if(i.pre)try{(o=i.pre).call.apply(o,[this].concat(Array.prototype.slice.call(arguments)))}catch(t){throw t.message="[pluginName: ".concat(this.pluginName,":").concat(e,":pre error] >> ").concat(t.message),t}if(this.__hooks&&this.__hooks[e])try{var l=p(this,e,t);l?l.then?l.then(function(e){!1!==e&&r.apply(void 0,[s,t,i.next].concat((0,n.u)(a)))}).catch(function(e){throw e}):r.apply(void 0,[this,t,i.next].concat(Array.prototype.slice.call(arguments))):void 0===l&&r.apply(void 0,[this,t,i.next].concat(Array.prototype.slice.call(arguments)))}catch(t){throw t.message="[pluginName: ".concat(this.pluginName,":").concat(e,"] >> ").concat(t.message),t}else r.apply(void 0,[this,t,i.next].concat(Array.prototype.slice.call(arguments)))}).bind(this)}function a(e,t){var i=this.__hooks;if(!i||!Array.isArray(i[e]))return -1;for(var n=i[e],r=0;r<n.length;r++)if(n[r]===t)return r;return -1}function s(e,t){var i=this.__hooks;return i?i.hasOwnProperty(e)?(!Array.isArray(i[e])&&(i[e]=[]),-1===a.call(this,e,t)&&i[e].push(t),!0):(console.warn("has no supported hook which name [".concat(e,"]")),!1):void 0}function l(e,t){var i=this.__hooks;if(!!i){if(Array.isArray(i[e])){var n=i[e],r=a.call(this,e,t);-1!==r&&n.splice(r,1)}delete i[e]}}function c(e){if(!!this.plugins&&!!this.plugins[e.toLowerCase()]){for(var t=this.plugins[e.toLowerCase()],i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return t.useHooks&&t.useHooks.apply(t,n)}}function u(e){if(!!this.plugins&&!!this.plugins[e.toLowerCase()]){var t=this.plugins[e.toLowerCase()];if(t){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return t.removeHooks&&t.removeHooks.apply(t,n)}}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.__hooks={},t&&t.map(function(t){e.__hooks[t]=null}),Object.defineProperty(e,"hooks",{get:function(){return e.__hooks&&Object.keys(e.__hooks).map(function(t){if(e.__hooks[t])return t})}})}function d(e){e.__hooks=null}function p(e,t,i){for(var n=arguments.length,r=Array(n>3?n-3:0),o=3;o<n;o++)r[o-3]=arguments[o];if(!(e.__hooks&&Array.isArray(e.__hooks[t])))return i.call.apply(i,[e,e].concat(r));var a=e.__hooks[t],s=-1;return(function e(t,i,n){for(var r=arguments.length,o=Array(r>3?r-3:0),l=3;l<r;l++)o[l-3]=arguments[l];if(s++,0===a.length||s===a.length)return n.call.apply(n,[t,t].concat(o));var c=a[s],u=c.call.apply(c,[t,t].concat(o));return u&&u.then?u.then(function(r){return!1===r?null:e.apply(void 0,[t,i,n].concat(o))}).catch(function(e){console.warn("[runHooks]".concat(i," reject"),e.message)}):!1!==u?e.apply(void 0,[t,i,n].concat(o)):void 0}).apply(void 0,[e,t,i].concat(r))}},61581:function(e,t,i){"use strict";i.d(t,{ZP:function(){return g},kd:function(){return u}});var n=i(393178),r=i(174118),o=i(417277),a=i.n(o),s=i(192735),l=i(522763),c={CONTROLS:"controls",ROOT:"root"},u={ROOT:"root",ROOT_LEFT:"rootLeft",ROOT_RIGHT:"rootRight",ROOT_TOP:"rootTop",CONTROLS_LEFT:"controlsLeft",CONTROLS_RIGTH:"controlsRight",CONTROLS_RIGHT:"controlsRight",CONTROLS_CENTER:"controlsCenter",CONTROLS:"controls"},h="xg-icon-disable";function d(e){return!!e&&e.indexOf&&/^(?:http|data:|\/)/.test(e)}function p(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=null;if(e instanceof window.Element)return l.ZP.addClass(e,i),Object.keys(n).map(function(t){e.setAttribute(t,n[t])}),e;if(d(e)||d(e.url))return n.src=d(e)?e:e.url||"",o=l.ZP.createDom(e.tag||"img","",n,"xg-img ".concat(i));if("function"==typeof e)try{if((o=e())instanceof window.Element)return l.ZP.addClass(o,i),Object.keys(n).map(function(e){o.setAttribute(e,n[e])}),o;s.Z.logWarn("warn>>icons.".concat(t," in config of plugin named [").concat(r,"] is a function mast return an Element Object"));return null}catch(e){return s.Z.logError("Plugin named [".concat(r,"]:createIcon"),e),null}return"string"==typeof e?l.ZP.createDomFromHtml(e,n,i):(s.Z.logWarn("warn>>icons.".concat(t," in config of plugin named [").concat(r,"] is invalid")),null)}var g=function(e){(0,n.XW)(i,e);var t=(0,n.WY)(i);function i(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.PA)(this,i),(e=t.call(this,r)).__delegates=[],e}return(0,n.qH)(i,[{key:"__init",value:function(e){if((0,n.U2)((0,n.IP)(i.prototype),"__init",this).call(this,e),!!e.root){var t=e.root,r=null;this.icons={},this.root=null,this.parent=null,!function(e,t){var i=t.config.icons||t.playerConfig.icons;Object.keys(e).map(function(r){var o,a,s,l,c=e[r],u=c&&c.class?c.class:"",h=c&&c.attr?c.attr:{},d=null;if(i&&i[r]){;o=i[r],a=u,u="object"===(0,n.Ac)(o)&&o.class&&"string"==typeof o.class?"".concat(a," ").concat(o.class):a,s=i[r],l=h,"object"===(0,n.Ac)(s)&&s.attr&&"object"===(0,n.Ac)(s.attr)&&Object.keys(s.attr).map(function(e){l[e]=s.attr[e]}),h=l,d=p(i[r],r,u,h,t.pluginName)}!d&&c&&(d=p(c.icon?c.icon:c,h,u,{},t.pluginName)),t.icons[r]=d})}(this.registerIcons()||{},this),this.langText={},!function(e,t){Object.keys(e).map(function(i){Object.defineProperty(t.langText,i,{get:function(){var n=t.lang,r=t.i18n;return r[i]?r[i]:e[i]&&e[i][n]||""}})})}(this.registerLanguageTexts()||{},this);var o="";try{o=this.render()}catch(e){throw s.Z.logError("Plugin:".concat(this.pluginName,":render"),e),Error("Plugin:".concat(this.pluginName,":render:").concat(e.message))}if(o)(r=i.insert(o,t,e.index)).setAttribute("data-index",e.index);else{if(!e.tag)return;(r=l.ZP.createDom(e.tag,"",e.attr,e.name)).setAttribute("data-index",e.index),t.appendChild(r)}this.root=r,this.parent=t;var a=this.config.attr||{},c=this.config.style||{};this.setAttr(a),this.setStyle(c),this.config.index&&this.root.setAttribute("data-index",this.config.index),this.__registerChildren()}}},{key:"__registerChildren",value:function(){var e=this;if(!!this.root){this._children=[];var t=this.children();t&&"object"===(0,n.Ac)(t)&&Object.keys(t).length>0&&Object.keys(t).map(function(i){var r,o,a=t[i],s={root:e.root};"function"==typeof a?(r=e.config[i]||{},o=a):"object"===(0,n.Ac)(a)&&"function"==typeof a.plugin&&(r=a.options?l.ZP.deepCopy(e.config[i]||{},a.options):e.config[i]||{},o=a.plugin),s.config=r,void 0!==r.index&&(s.index=r.index),r.root&&(s.root=r.root),e.registerPlugin(o,s,i)})}}},{key:"updateLang",value:function(e){!e&&(e=this.lang);var t=this.root,i=this.i18n,n=this.langText;t&&!function e(t,i){for(var n=0;n<t.children.length;n++)t.children[n].children.length>0?e(t.children[n],i):i(t.children[n])}(t,function(t){var r=t.getAttribute&&t.getAttribute("lang-key");if(!!r){var o=i[r.toUpperCase()]||n[r];o&&(t.innerHTML="function"==typeof o?o(e):o)}})}},{key:"lang",get:function(){return this.player.lang}},{key:"changeLangTextKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=this.i18n||{},n=this.langText;e.setAttribute&&e.setAttribute("lang-key",t);var r=i[t]||n[t]||"";r&&(e.innerHTML=r)}},{key:"plugins",value:function(){return this._children}},{key:"disable",value:function(){this.config.disable=!0,l.ZP.addClass(this.find(".xgplayer-icon"),h)}},{key:"enable",value:function(){this.config.disable=!1,l.ZP.removeClass(this.find(".xgplayer-icon"),h)}},{key:"children",value:function(){return{}}},{key:"registerPlugin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.root=t.root||this.root;var o=(0,n.U2)((0,n.IP)(i.prototype),"registerPlugin",this).call(this,e,t,r);return this._children.push(o),o}},{key:"registerIcons",value:function(){return{}}},{key:"registerLanguageTexts",value:function(){return{}}},{key:"find",value:function(e){if(!!this.root)return this.root.querySelector(e)}},{key:"bind",value:function(e,t,n){var r=this;if(arguments.length<3&&"function"==typeof t)Array.isArray(e)?e.forEach(function(e){r.bindEL(e,t)}):this.bindEL(e,t);else{var o=i.delegate.call(this,this.root,e,t,n);this.__delegates=this.__delegates.concat(o)}}},{key:"unbind",value:function(e,t){var i=this;if(arguments.length<3&&"function"==typeof t)Array.isArray(e)?e.forEach(function(e){i.unbindEL(e,t)}):this.unbindEL(e,t);else{for(var n="".concat(e,"_").concat(t),r=0;r<this.__delegates.length;r++)if(this.__delegates[r].key===n){this.__delegates[r].destroy(),this.__delegates.splice(r,1);break}}}},{key:"setStyle",value:function(e,t){var i=this;if(!!this.root){if("String"===l.ZP.typeOf(e))return this.root.style[e]=t;"Object"===l.ZP.typeOf(e)&&Object.keys(e).map(function(t){i.root.style[t]=e[t]})}}},{key:"setAttr",value:function(e,t){var i=this;if(!!this.root){if("String"===l.ZP.typeOf(e))return this.root.setAttribute(e,t);"Object"===l.ZP.typeOf(e)&&Object.keys(e).map(function(t){i.root.setAttribute(t,e[t])})}}},{key:"setHtml",value:function(e,t){if(!!this.root)this.root.innerHTML=e,"function"==typeof t&&t()}},{key:"bindEL",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!!this.root)"on".concat(e)in this.root&&"function"==typeof t&&this.root.addEventListener(e,t,i)}},{key:"unbindEL",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!!this.root)"on".concat(e)in this.root&&"function"==typeof t&&this.root.removeEventListener(e,t,i)}},{key:"show",value:function(e){if(!!this.root){if(this.root.style.display=void 0!==e?e:"block","none"===window.getComputedStyle(this.root,null).getPropertyValue("display"))return this.root.style.display="block"}}},{key:"hide",value:function(){this.root&&(this.root.style.display="none")}},{key:"appendChild",value:function(e,t){if(!this.root)return null;if(arguments.length<2&&arguments[0]instanceof window.Element)return this.root.appendChild(arguments[0]);if(!t||!(t instanceof window.Element))return null;try{if("string"==typeof e)return this.find(e).appendChild(t);return e.appendChild(t)}catch(e){return s.Z.logError("Plugin:appendChild",e),null}}},{key:"render",value:function(){return""}},{key:"destroy",value:function(){}},{key:"__destroy",value:function(){var e=this,t=this.player;this.__delegates.map(function(e){e.destroy()}),this.__delegates=[],this._children instanceof Array&&(this._children.map(function(e){t.unRegisterPlugin(e.pluginName)}),this._children=null),this.root&&(this.root.hasOwnProperty("remove")?this.root.remove():this.root.parentNode&&this.root.parentNode.removeChild(this.root)),(0,n.U2)((0,n.IP)(i.prototype),"__destroy",this).call(this),this.icons={},["root","parent"].map(function(t){e[t]=null})}}],[{key:"insert",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=t.children.length,r=Number(i),o=e instanceof window.Node;if(!n)return o?t.appendChild(e):t.insertAdjacentHTML("beforeend",e),t.children[t.children.length-1];for(var a=0,s=null,l="";a<n;a++){var c=Number((s=t.children[a]).getAttribute("data-index"));if(c>=r){l="beforebegin";break}c<r&&(l="afterend")}return o?"afterend"===l?t.appendChild(e):t.insertBefore(e,s):s.insertAdjacentHTML(l,e),"afterend"===l?t.children[t.children.length-1]:t.children[a]}},{key:"defaultConfig",get:function(){return{}}},{key:"delegate",value:function(e,t,i,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=[];if(e instanceof window.Node&&"function"==typeof n){if(Array.isArray(i))i.forEach(function(i){var s=a()(e,t,i,n,r);s.key="".concat(t,"_").concat(i),o.push(s)});else{var s=a()(e,t,i,n,r);s.key="".concat(t,"_").concat(i),o.push(s)}}return o}},{key:"ROOT_TYPES",get:function(){return c}},{key:"POSITIONS",get:function(){return u}}]),i}(r.ZP)},192735:function(e,t,i){"use strict";i.d(t,{Z:function(){return a},w:function(){return s}});var n="undefined"!=typeof window&&window.location&&window.location.href.indexOf("xgplayerdebugger=1")>-1,r={info:"color: #525252; background-color: #90ee90;",error:"color: #525252; background-color: red;",warn:"color: #525252; background-color: yellow; "},o="%c[xgplayer]",a={config:{debug:n?3:0},logInfo:function(e){for(var t,i=arguments.length,n=Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];this.config.debug>=3&&(t=console).log.apply(t,[o,r.info,e].concat(n))},logWarn:function(e){for(var t,i=arguments.length,n=Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];this.config.debug>=1&&(t=console).warn.apply(t,[o,r.warn,e].concat(n))},logError:function(e){if(!(this.config.debug<1)){for(var t,i=this.config.debug>=2?"trace":"error",n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];(t=console)[i].apply(t,[o,r.error,e].concat(a))}}};function s(e){e.logInfo=a.logInfo.bind(e),e.logWarn=a.logWarn.bind(e),e.logError=a.logError.bind(e)}},522763:function(e,t,i){"use strict";i.d(t,{P2:()=>l,ZP:()=>a,VQ:()=>c,F7:()=>u});var n=i("393178"),r=i("192735"),o=function(){function e(t){(0,n.PA)(this,e),this.bufferedList=t}return(0,n.qH)(e,[{key:"start",value:function(e){return this.bufferedList[e].start}},{key:"end",value:function(e){return this.bufferedList[e].end}},{key:"length",get:function(){return this.bufferedList.length}}]),e}(),a={};a.createDom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=document.createElement(e);return r.className=n,r.innerHTML=t,Object.keys(i).forEach(function(t){var n=i[t];"video"===e||"audio"===e||"live-video"===e?n&&r.setAttribute(t,n):r.setAttribute(t,n)}),r},a.createDomFromHtml=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{var n=document.createElement("div");n.innerHTML=e;var o=n.children;if(n=null,o.length>0)return o=o[0],i&&a.addClass(o,i),t&&Object.keys(t).forEach(function(e){o.setAttribute(e,t[e])}),o;return null}catch(e){return r.Z.logError("util.createDomFromHtml",e),null}},a.hasClass=function(e,t){if(!e||!t)return!1;try{return Array.prototype.some.call(e.classList,function(e){return e===t})}catch(r){var i=e.className&&"object"===(0,n.Ac)(e.className)?e.getAttribute("class"):e.className;return i&&!!i.match(RegExp("(\\s|^)"+t+"(\\s|$)"))}},a.addClass=function(e,t){if(!!e&&!!t)try{t.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(t){t&&e.classList.add(t)})}catch(i){!a.hasClass(e,t)&&(e.className&&"object"===(0,n.Ac)(e.className)?e.setAttribute("class",e.getAttribute("class")+" "+t):e.className+=" "+t)}},a.removeClass=function(e,t){if(!!e&&!!t)try{t.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(t){t&&e.classList.remove(t)})}catch(i){a.hasClass(e,t)&&t.split(/\s+/g).forEach(function(t){var i=RegExp("(\\s|^)"+t+"(\\s|$)");e.className&&"object"===(0,n.Ac)(e.className)?e.setAttribute("class",e.getAttribute("class").replace(i," ")):e.className=e.className.replace(i," ")})}},a.toggleClass=function(e,t){if(!!e)t.split(/\s+/g).forEach(function(t){a.hasClass(e,t)?a.removeClass(e,t):a.addClass(e,t)})},a.classNames=function(){for(var e=arguments,t=[],i=function(i){"String"===a.typeOf(e[i])?t.push(e[i]):"Object"===a.typeOf(e[i])&&Object.keys(e[i]).map(function(n){e[i][n]&&t.push(n)})},n=0;n<arguments.length;n++)i(n);return t.join(" ")},a.findDom=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,i=arguments.length>1?arguments[1]:void 0;try{e=t.querySelector(i)}catch(n){r.Z.logError("util.findDom",n),0===i.indexOf("#")&&(e=t.getElementById(i.slice(1)))}return e},a.getCss=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,!1)[t]},a.padStart=function(e,t,i){for(var n=String(i),r=t>>0,o=Math.ceil(r/n.length),a=[],s=String(e);o--;)a.push(n);return a.join("").substring(0,r-s.length)+s},a.format=function(e){if(window.isNaN(e))return"";e=Math.round(e);var t=a.padStart(Math.floor(e/3600),2,0),i=a.padStart(Math.floor((e-3600*t)/60),2,0),n=a.padStart(Math.floor(e-3600*t-60*i),2,0);return("00"===t?[i,n]:[t,i,n]).join(":")},a.event=function(e){if(e.touches){var t=e.touches[0]||e.changedTouches[0];e.clientX=t.clientX||0,e.clientY=t.clientY||0,e.offsetX=t.pageX-t.target.offsetLeft,e.offsetY=t.pageY-t.target.offsetTop}e._target=e.target||e.srcElement},a.typeOf=function(e){return Object.prototype.toString.call(e).match(/([^\s.*]+)(?=]$)/g)[0]},a.deepCopy=function(e,t){if("Object"===a.typeOf(t)&&"Object"===a.typeOf(e))return Object.keys(t).forEach(function(i){"Object"!==a.typeOf(t[i])||t[i]instanceof Node?"Array"===a.typeOf(t[i])?e[i]="Array"===a.typeOf(e[i])?e[i].concat(t[i]):t[i]:e[i]=t[i]:void 0===e[i]||void 0===e[i]?e[i]=t[i]:a.deepCopy(e[i],t[i])}),e},a.deepMerge=function(e,t){return Object.keys(t).map(function(i){if("Array"===a.typeOf(t[i])&&"Array"===a.typeOf(e[i])){if("Array"===a.typeOf(e[i])){var r;(r=e[i]).push.apply(r,(0,n.u)(t[i]))}}else a.typeOf(e[i])!==a.typeOf(t[i])||null===e[i]||"Object"!==a.typeOf(e[i])||t[i]instanceof window.Node?null!==t[i]&&(e[i]=t[i]):a.deepMerge(e[i],t[i])}),e},a.getBgImage=function(e){var t=(e.currentStyle||window.getComputedStyle(e,null)).backgroundImage;if(!t||"none"===t)return"";var i=document.createElement("a");return i.href=t.replace(/url\("|"\)/g,""),i.href},a.copyDom=function(e){if(!e||1!==e.nodeType)return"";var t=document.createElement(e.tagName);return Array.prototype.forEach.call(e.attributes,function(e){t.setAttribute(e.name,e.value)}),e.innerHTML&&(t.innerHTML=e.innerHTML),t},a.setInterval=function(e,t,i,n){!e._interval[t]&&(e._interval[t]=window.setInterval(i.bind(e),n))},a.clearInterval=function(e,t){clearInterval(e._interval[t]),e._interval[t]=null},a.setTimeout=function(e,t,i){!e._timers&&(e._timers=[]);var n=setTimeout(function(){t(),a.clearTimeout(e,n)},i);return e._timers.push(n),n},a.clearTimeout=function(e,t){var i=e._timers;if("Array"===a.typeOf(i)){for(var n=0;n<i.length;n++)if(i[n]===t){i.splice(n,1),clearTimeout(t);break}}else clearTimeout(t)},a.clearAllTimers=function(e){var t=e._timers;"Array"===a.typeOf(t)&&(t.map(function(e){clearTimeout(e)}),e._timerIds=[])},a.createImgBtn=function(e,t,i,n){var r,o,s,l=a.createDom("xg-".concat(e),"",{},"xgplayer-".concat(e,"-img"));return l.style.backgroundImage='url("'.concat(t,'")'),i&&n&&(["px","rem","em","pt","dp","vw","vh","vm","%"].every(function(e){return!(i.indexOf(e)>-1&&n.indexOf(e)>-1)||(r=parseFloat(i.slice(0,i.indexOf(e)).trim()),o=parseFloat(n.slice(0,n.indexOf(e)).trim()),s=e,!1)}),l.style.width="".concat(r).concat(s),l.style.height="".concat(o).concat(s),l.style.backgroundSize="".concat(r).concat(s," ").concat(o).concat(s),"start"===e?l.style.margin="-".concat(o/2).concat(s," auto auto -").concat(r/2).concat(s):l.style.margin="auto 5px auto 5px"),l},a.Hex2RGBA=function(e,t){var i=[];if(/^\#[0-9A-F]{3}$/i.test(e)){var n="#";e.replace(/[0-9A-F]/ig,function(e){n+=e+e}),e=n}return/^#[0-9A-F]{6}$/i.test(e)?(e.replace(/[0-9A-F]{2}/ig,function(e){i.push(parseInt(e,16))}),"rgba(".concat(i.join(","),", ").concat(t,")")):"rgba(255, 255, 255, 0.1)"},a.getFullScreenEl=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},a.checkIsFunction=function(e){return e&&"function"==typeof e},a.checkIsObject=function(e){return null!==e&&"object"===(0,n.Ac)(e)},a.hide=function(e){e.style.display="none"},a.show=function(e,t){e.style.display=t||"block"},a.isUndefined=function(e){if(null==e)return!0},a.isNotNull=function(e){return null!=e},a.setStyleFromCsstext=function(e,t){if(!!t)"String"===a.typeOf(t)?t.replace(/\s+/g,"").split(";").map(function(t){if(t){var i=t.split(":");i.length>1&&(e.style[i[0]]=i[1])}}):Object.keys(t).map(function(i){e.style[i]=t[i]})};function s(e){var t=(0,n.Ac)(e);return null!==e&&("object"===t||"function"===t)}a.filterStyleFromText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["width","height","top","left","bottom","right","position","z-index","padding","margin","transform"],i=e.style.cssText;if(!i)return{};var n=i.replace(/\s+/g,"").split(";"),r={},o={};return n.map(function(e){if(e){var i=e.split(":");i.length>1&&(function(e,t){for(var i=0,n=t.length;i<n;i++)if(e.indexOf(t[i])>-1)return!0;return!1}(i[0],t)?r[i[0]]=i[1]:o[i[0]]=i[1])}}),e.setAttribute("style",""),Object.keys(o).map(function(t){e.style[t]=o[t]}),r},a.getStyleFromCsstext=function(e){var t=e.style.cssText;if(!t)return{};var i=t.replace(/\s+/g,"").split(";"),n={};return i.map(function(e){if(e){var t=e.split(":");t.length>1&&(n[t[0]]=t[1])}}),n},a.preloadImg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(!!e){var n=new window.Image;n.onload=function(e){n=null,t&&t(e)},n.onerror=function(e){n=null,i&&i(e)},n.src=e}},a.stopPropagation=function(e){e&&e.stopPropagation()},a.scrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},a.scrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},a.checkTouchSupport=function(){return"ontouchstart"in window},a.getBuffered2=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,i=[],n=0;n<e.length;n++)i.push({start:.5>e.start(n)?0:e.start(n),end:e.end(n)});i.sort(function(e,t){var i=e.start-t.start;return i?i:t.end-e.end});var r=[];if(t)for(var a=0;a<i.length;a++){var s=r.length;if(s){var l=r[s-1].end;i[a].start-l<t?i[a].end>l&&(r[s-1].end=i[a].end):r.push(i[a])}else r.push(i[a])}else r=i;return new o(r)},a.getEventPos=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.touches&&e.touches.length>0&&(e=e.touches[0]),{x:e.x/t,y:e.y/t,clientX:e.clientX/t,clientY:e.clientY/t,offsetX:e.offsetX/t,offsetY:e.offsetY/t,pageX:e.pageX/t,pageY:e.pageY/t}},a.requestAnimationFrame=function(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(t)return t(e)},a.getHostFromUrl=function(e){if("String"!==a.typeOf(e))return"";var t=e.split("/"),i="";return t.length>3&&t[2]&&(i=t[2]),i},a.cancelAnimationFrame=function(e){var t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.cancelRequestAnimationFrame;t&&t(e)},a.isMSE=function(e){return e.media&&(e=e.media),!!(e&&e instanceof HTMLMediaElement)&&(/^blob/.test(e.currentSrc)||/^blob/.test(e.src))},a.isBlob=function(e){return"string"==typeof e&&/^blob/.test(e)},a.generateSessionId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Date().getTime();try{e=parseInt(e)}catch(t){e=0}return t+=e,window.performance&&"function"==typeof window.performance.now&&(t+=parseInt(window.performance.now())),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var i=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?i:3&i|8).toString(16)})},a.createEvent=function(e){var t;return"function"==typeof window.Event?t=new Event(e):(t=document.createEvent("Event")).initEvent(e,!0,!0),t},a.adjustTimeByDuration=function(e,t,i){return t&&e?e>t||i&&e<t?t:e:e},a.createPositionBar=function(e,t){var i=a.createDom("xg-bar","",{"data-index":-1},e);return t.appendChild(i),i},a.getTransformStyle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0,scale:1,rotate:0},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i={scale:"".concat(e.scale||1),translate:"".concat(e.x||0,"%, ").concat(e.y||0,"%"),rotate:"".concat(e.rotate||0,"deg")};return Object.keys(i).forEach(function(e){var n=RegExp("".concat(e,"\\([^\\(]+\\)"),"g"),r="".concat(e,"(").concat(i[e],")");n.test(t)?(n.lastIndex=-1,t=t.replace(n,r)):t+="".concat(r," ")}),t},a.convertDeg=function(e){return 1>=Math.abs(e)?360*e:e%360},a.getIndexByTime=function(e,t){var i=t.length,n=-1;if(i<1)return n;if(e<=t[0].end||i<2)n=0;else if(e>t[i-1].end)n=i-1;else for(var r=1;r<i;r++)if(e>t[r-1].end&&e<=t[r].end){n=r;break}return n},a.getOffsetCurrentTime=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,n=-1;if((n=i>=0&&i<t.length?i:a.getIndexByTime(e,t))<0)return -1;var r=t.length,o=t[n],s=o.start,l=o.end,c=o.cTime,u=o.offset;if(e<s)return c;if(e>=s&&e<=l)return e-u;if(e>l&&n>=r-1)return l;return -1},a.getCurrentTimeByOffset=function(e,t){var i=-1;if(!t||t.length<0)return e;for(var n=0;n<t.length;n++)if(e<=t[n].duration){i=n;break}if(-1!==i){var r=t[i].start;return i-1<0?r+e:r+(e-t[i-1].duration)}return e};function l(e,t,i){var n=!0,r=!0;if("function"!=typeof e)throw TypeError("Expected a function");return s(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),function(e,t,i){var n,r,o,a,l,c,u=0,h=!1,d=!1,p=!0,g=!t&&0!==t&&"function"==typeof window.requestAnimationFrame;if("function"!=typeof e)throw TypeError("Expected a function");function f(t){var i=n,o=r;return n=r=void 0,u=t,a=e.apply(o,i)}function y(e,t){return g?(window.cancelAnimationFrame(l),window.requestAnimationFrame(e)):setTimeout(e,t)}t=+t||0,s(i)&&(h=!!i.leading,o=(d="maxWait"in i)?Math.max(+i.maxWait||0,t):o,p="trailing"in i?!!i.trailing:p);function v(e){var i=e-c,n=e-u;return void 0===c||i>=t||i<0||d&&n>=o}function m(){var e,i,n,r,a=Date.now();if(v(a))return x(a);l=y(m,(i=(e=a)-c,n=e-u,r=t-i,d?Math.min(r,o-n):r))}function x(e){return(l=void 0,p&&n)?f(e):(n=r=void 0,a)}function k(){for(var e,i=Date.now(),o=v(i),s=arguments.length,p=Array(s),g=0;g<s;g++)p[g]=arguments[g];if(n=p,r=this,c=i,o){if(void 0===l){;return u=e=c,l=y(m,t),h?f(e):a}if(d)return l=y(m,t),f(c)}return void 0===l&&(l=y(m,t)),a}return k.cancel=function(){void 0!==l&&!function(e){if(g)return window.cancelAnimationFrame(e);clearTimeout(e)}(l),u=0,n=c=r=l=void 0},k.flush=function(){return void 0===l?a:x(Date.now())},k.pending=function(){return void 0!==l},k}(e,t,{leading:n,trailing:r,maxWait:t})}function c(){var e=(document.documentElement.getAttribute("lang")||navigator.language||"zh-cn").toLocaleLowerCase();return"zh-cn"===e&&(e="zh"),e}function u(e,t,i){if(!!e){var n=e.getAttribute(i);return!!n&&n===t&&("VIDEO"===e.tagName||"AUDIO"===e.tagName)||!1}}},188195:function(e,t,i){"use strict";var n=i(160052),r=i.n(n),o=i(570717),a=i.n(o)()(r());a.push([e.id,'.xgplayer.not-allow-autoplay .xgplayer-controls,.xgplayer.xgplayer-inactive .controls-autohide,.xgplayer.xgplayer-nostart .xgplayer-controls{cursor:default;opacity:0;pointer-events:none;visibility:hidden}.xgplayer.not-allow-autoplay .xgplayer-controls-initshow,.xgplayer.xgplayer-nostart .xgplayer-controls-initshow{opacity:1;pointer-events:auto;visibility:visible}.xgplayer .xgplayer-controls{background-image:linear-gradient(180deg,transparent,rgba(0,0,0,.37),rgba(0,0,0,.75),rgba(0,0,0,.75));bottom:0;display:block;height:48px;left:0;opacity:1;position:absolute;right:0;transition:opacity .5s ease,visibility .5s ease;visibility:visible;z-index:10}.xgplayer .xgplayer-controls.show{display:block;opacity:1;pointer-events:auto;visibility:visible}.xgplayer .xg-inner-controls{bottom:0;display:flex;height:40px;justify-content:space-between;position:absolute}.xgplayer .xg-left-grid,.xgplayer .xg-right-grid{display:flex;flex-shrink:1;flex-wrap:wrap;height:100%;position:relative;z-index:1}.xgplayer .xg-right-grid{flex-direction:row-reverse}.xgplayer .xg-right-grid>:first-child{margin-right:0}.xgplayer .xg-left-grid>:first-child,.xgplayer .xg-right-grid xg-icon{margin-left:0}.xgplayer .xg-left-grid xg-icon{margin-right:0}.xgplayer .xg-center-grid{display:block;left:0;outline:none;padding:5px 0;position:absolute;right:0;text-align:center;top:-20px}.xgplayer .flex-controls .xg-inner-controls{bottom:8px;display:flex;justify-content:space-around}.xgplayer .flex-controls .xg-center-grid{align-items:center;display:flex;flex:1 1;height:100%;justify-content:space-between;left:0;padding:0 16px;position:relative;right:0;top:0}.xgplayer.xgplayer-mobile .xg-center-grid{z-index:2}.xgplayer.xgplayer-mobile .flex-controls .xg-center-grid{padding:0 8px}.xgplayer .bottom-controls .xg-center-grid{padding:0;top:20px}.xgplayer .bottom-controls .xg-left-grid,.xgplayer .bottom-controls .xg-right-grid{bottom:10px}.xgplayer .mini-controls{background-image:none}.xgplayer .mini-controls .xg-inner-controls{bottom:0;left:0;right:0}.xgplayer .mini-controls .xg-center-grid{bottom:-28px;padding:0;top:auto}.xgplayer .mini-controls .xg-left-grid,.xgplayer .mini-controls .xg-right-grid{display:none}.xgplayer .controls-follow{bottom:70px;transition:bottom .3s ease}.xgplayer.flex-controls .controls-follow{bottom:45px}.xgplayer.mini-controls .controls-follow,.xgplayer.no-controls .controls-follow,.xgplayer.xgplayer-inactive .controls-follow{bottom:10px}.xgplayer-fullscreen-parent{height:100%;left:0;position:fixed;top:0;width:100%;z-index:9999}.xgplayer-fullscreen-parent .xgplayer.xgplayer-is-cssfullscreen,.xgplayer-fullscreen-parent .xgplayer.xgplayer-is-fullscreen{position:absolute;z-index:10}.xgplayer-rotate-parent{bottom:0;height:100vw;left:100%;position:fixed;right:0;top:0;transform:rotate(90deg);transform-origin:top left;width:100vh;z-index:9999}.xgplayer-rotate-parent .xgplayer.xgplayer-rotate-fullscreen{height:100%;left:0;margin:0;padding:0;position:absolute;top:0;transform:rotate(0);width:100%;z-index:10}.xgplayer-rotate-parent .xgplayer-mobile video{z-index:-1}.xgplayer{background:#000;font-family:PingFang SC,Helvetica Neue,Helvetica,STHeiTi,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif;font-size:14px;font-weight:400;height:100%;overflow:hidden;position:relative;width:100%;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-touch-callout:none;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.xgplayer *{border:0;margin:0;padding:0;vertical-align:baseline;white-space:normal;word-wrap:normal;overflow-wrap:normal}.xgplayer li,.xgplayer ul{list-style:none}.xgplayer .xgplayer-none{display:none}.xgplayer.xgplayer-is-fullscreen{margin:0;padding:0}.xgplayer.xgplayer-is-cssfullscreen,.xgplayer.xgplayer-is-fullscreen{height:100%;left:0;position:fixed;top:0;width:100%;z-index:9999}.xgplayer.xgplayer-rotate-fullscreen{bottom:0;height:100vw;left:100%;position:fixed;right:0;top:0;transform:rotate(90deg);transform-origin:top left;width:100vh;z-index:9999}.xgplayer.xgplayer-rotate-fullscreen.xgplayer-mobile video{z-index:-1}.xgplayer xg-video-container.xg-video-container{bottom:48px;display:block;position:absolute;top:0;width:100%}.xgplayer video{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.xgplayer[data-xgfill=contain] video{object-fit:contain}.xgplayer[data-xgfill=cover] video{object-fit:cover}.xgplayer[data-xgfill=fill] video{object-fit:fill}.xgplayer .xg-pos{left:10px;right:10px}.xgplayer .xg-margin{margin-left:16px;margin-right:16px}.xgplayer .xg-bottom{bottom:0}.xgplayer .btn-text{font-size:13px;height:24px;position:relative;text-align:center;top:50%}.xgplayer .btn-text span{background:rgba(0,0,0,.38);border-radius:12px;display:inline-block;height:24px;line-height:24px;min-width:52px}.xgplayer xg-icon{box-sizing:border-box;color:#fffc;cursor:pointer;height:40px;margin-left:16px;margin-right:16px;position:relative;fill:#fff}.xgplayer xg-icon.xg-icon-disable{cursor:not-allowed}.xgplayer xg-icon .xg-tips{left:50%;top:-30px;transform:translate(-50%)}.xgplayer xg-icon:active .xg-tips,.xgplayer xg-icon:hover .xg-tips{display:block}.xgplayer xg-icon:active .xg-tips.hide,.xgplayer xg-icon:hover .xg-tips.hide{display:none}.xgplayer xg-icon .xgplayer-icon{cursor:pointer;position:relative;top:50%;transform:translateY(-50%)}.xgplayer xg-icon .xg-icon-disable{cursor:not-allowed}.xgplayer xg-icon .xg-img{width:100%}.xgplayer xg-icon img,.xgplayer xg-icon svg{display:block;height:100%}.xgplayer xg-bar{display:block}.xgplayer.xgplayer-inactive xg-bar,.xgplayer.xgplayer-mini xg-bar{display:none}.xgplayer.xgplayer-inactive .xg-top-bar{display:flex}.xgplayer.xgplayer-inactive .xg-top-bar.top-bar-autohide{display:none}.xgplayer .xg-top-bar{display:flex;height:50px;padding:0 16px;position:absolute;top:0;z-index:10}.xgplayer .xg-top-bar xg-icon{left:0;margin-top:0;position:relative;top:10px;width:34px}.xgplayer .xg-top-bar xg-icon:first-child{margin-left:0}.xgplayer .xg-left-bar,.xgplayer .xg-right-bar{bottom:50px;position:absolute;top:50px;width:50px;z-index:9}.xgplayer .xg-left-bar{left:0}.xgplayer .xg-right-bar{right:0}.xgplayer .xg-tips{background:rgba(0,0,0,.54);border-radius:4px;color:#fff;display:none;font-size:12px;opacity:.85;padding:4px 6px;position:absolute;text-align:center;white-space:nowrap}.xgplayer .xg-margin{left:0;right:0}.xgplayer-mobile,.xgplayer-mobile *{-webkit-tap-highlight-color:rgba(0,0,0,0)}.xgplayer-mobile *{text-decoration:none}.xgplayer-mobile.xgplayer-rotate-fullscreen .xg-pos,.xgplayer-mobile.xgplayer-rotate-fullscreen .xg-top-bar{left:6%;right:6%}.xgplayer-mobile xg-icon:hover .xg-tips{display:none}.xg-list-slide-scroll::-webkit-scrollbar-track{background-color:transparent;display:none}.xg-list-slide-scroll:hover::-webkit-scrollbar-track{display:block}.xg-list-slide-scroll::-webkit-scrollbar{-webkit-appearance:none;appearance:none;background:transparent;height:4px;width:4px}.xg-list-slide-scroll::-webkit-scrollbar-corner{background:transparent;display:none}.xg-list-slide-scroll::-webkit-scrollbar-thumb{background:hsla(0,0%,100%,.5);border-radius:3px;display:none;width:4px}.xg-list-slide-scroll:hover::-webkit-scrollbar-thumb{display:block}@media only screen and (max-width:480px){.xgplayer-mobile xg-icon{margin-left:10px;margin-right:10px}.xgplayer-mobile .xg-top-bar{left:10px;right:10px}}@media screen and (orientation:portrait){.xgplayer-mobile.xgplayer-is-cssfullscreen .xgplayer-controls,.xgplayer-mobile.xgplayer-is-fullscreen .xgplayer-controls{bottom:34px;bottom:constant(safe-area-inset-bottom);bottom:env(safe-area-inset-bottom)}.xgplayer-mobile.xgplayer-is-cssfullscreen .xg-top-bar,.xgplayer-mobile.xgplayer-is-fullscreen .xg-top-bar{top:34px;top:constant(safe-area-inset-top);top:env(safe-area-inset-top)}}@media only screen and (orientation:landscape){.xgplayer-mobile.xgplayer-is-fullscreen .xg-pos,.xgplayer-mobile.xgplayer-is-fullscreen .xg-top-bar{left:6%;right:6%}.xgplayer-mobile.xgplayer-rotate-fullscreen{height:100vh;left:0;transform:rotate(0);width:100vw}}.xgplayer .xgplayer-screen-container{display:block;width:100%}.xgplayer .xg-options-icon{cursor:pointer;display:none}.xgplayer .xg-options-icon.show{display:block}@keyframes xg_right_options_active{0%{transform:translate(50%)}to{transform:translate(-50%)}}@keyframes xg_right_options_hide{0%{transform:translate(-50%)}to{transform:translate(50%)}}@keyframes xg_left_options_active{0%{transform:translate(-50%)}to{transform:translate(50%)}}@keyframes xg_left_options_hide{0%{transform:translate(50%)}to{transform:translate(-50%)}}.xgplayer .xg-options-list{background:rgba(0,0,0,.54);border-radius:1px;bottom:100%;color:#fffc;cursor:pointer;display:none;font-size:14px;height:0;opacity:.85;overflow:auto;position:absolute;right:50%;transform:translate(50%);width:78px;z-index:5}.xgplayer .xg-options-list li{color:#fffc;height:20px;line-height:20px;padding:4px 0;position:relative;text-align:center}.xgplayer .xg-options-list li.selected,.xgplayer .xg-options-list li:hover{color:red;opacity:1}.xgplayer .xg-options-list li:first-child{margin-top:12px;position:relative}.xgplayer .xg-options-list li:last-child{margin-bottom:12px;position:relative}.xgplayer .xg-options-list:hover{opacity:1}.xgplayer .xg-options-list.active{display:block;height:auto}.xgplayer .xg-options-list.xg-side-list{background:rgba(0,0,0,.9);bottom:0;box-sizing:border-box;display:flex;flex-direction:column;height:100%;width:20%}.xgplayer .xg-options-list.xg-side-list li{flex:1 1;padding:0;position:relative;width:100%}.xgplayer .xg-options-list.xg-side-list li span{display:block;pointer-events:none;position:relative;top:50%;transform:translateY(-50%)}.xgplayer .xg-options-list.xg-side-list li:first-child{margin-top:20px}.xgplayer .xg-options-list.xg-side-list li:last-child{margin-bottom:20px}.xgplayer .xg-options-list.xg-right-side{right:-10.5%}.xgplayer .xg-options-list.xg-right-side.active{animation:xg_right_options_active .2s ease-out forwards;height:100%}.xgplayer .xg-options-list.xg-right-side.hide{animation:xg_right_options_hide .2s ease-in forwards;height:100%}.xgplayer .xg-options-list.xg-left-side{left:-10.5%;transform:translate(-50%)}.xgplayer .xg-options-list.xg-left-side.active{animation:xg_left_options_active .2s ease-out forwards;height:100%}.xgplayer .xg-options-list.xg-left-side.hide{animation:xg_left_options_hide .2s ease-in forwards;height:100%}@media only screen and (max-width:480px){.xgplayer-mobile .xg-options-icon.portrait{display:none}.xgplayer-mobile .xg-options-list li:hover{color:#fffc}.xgplayer-mobile .xg-options-list li.selected{color:red}}.xgplayer-replay{display:none}.xgplayer .xgplayer-replay{align-items:center;cursor:pointer;display:none;flex-direction:column;height:100px;justify-content:center;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:100px;z-index:5}.xgplayer .xgplayer-replay .xgplayer-replay-txt{color:#fff;display:inline-block;font-size:14px;line-height:34px;text-align:center}.xgplayer.xgplayer-mobile .xgplayer-replay-svg{height:50px;width:50px}.xgplayer.xgplayer-mobile .xgplayer-replay-txt{font-size:12px;line-height:24px}.xgplayer .xgplayer-poster{background-position:50%;background-repeat:no-repeat;background-size:100% auto;display:block;height:100%;left:0;opacity:1;pointer-events:none;position:absolute;top:0;transition:opacity .3s ease,visibility .3s ease;visibility:visible;width:100%}.xgplayer .xgplayer-poster.hide,.xgplayer.xgplayer-playing .xgplayer-poster{opacity:0;visibility:hidden}.xgplayer.not-allow-autoplay .xgplayer-poster,.xgplayer.xgplayer-ended .xgplayer-poster,.xgplayer.xgplayer-is-enter .xgplayer-poster.xg-showplay,.xgplayer.xgplayer-nostart .xgplayer-poster,.xgplayer.xgplayer-playing .xg-not-hidden,.xgplayer.xgplayer-playing .xgplayer-poster.xg-showplay{opacity:1;visibility:visible}.xgplayer.not-allow-autoplay .xgplayer-poster.hide,.xgplayer.xgplayer-ended .xgplayer-poster.hide,.xgplayer.xgplayer-nostart .xgplayer-poster.hide{opacity:0;visibility:hidden}@keyframes playPause{0%{opacity:1;transform:scale(1)}99%{opacity:0;transform:scale(1.3)}to{opacity:0;transform:scale(1)}}.xgplayer xg-start-inner{background:rgba(0,0,0,.38);border-radius:50%;display:block;height:100%;overflow:hidden;width:100%}.xgplayer .xgplayer-start{cursor:pointer;height:70px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:70px;z-index:5}.xgplayer .xgplayer-start svg{height:100%;width:100%}.xgplayer .xgplayer-start.focus-hide,.xgplayer .xgplayer-start.hide{display:none;pointer-events:none}.xgplayer .xgplayer-start:hover{opacity:.85}.xgplayer .xgplayer-start .xg-icon-play{display:block}.xgplayer .xgplayer-start .xg-icon-pause,.xgplayer .xgplayer-start[data-state=pause] .xg-icon-play{display:none}.xgplayer .xgplayer-start.interact,.xgplayer .xgplayer-start[data-state=pause] .xg-icon-pause{display:block}.xgplayer .xgplayer-start.interact xg-start-inner{animation:playPause .4s ease-out .1s forwards}.xgplayer .xgplayer-start.show{display:block}.xgplayer.xgplayer-mobile xg-start-inner{background:transparent none repeat 0 0/auto auto padding-box border-box scroll;background:initial;border-radius:0}.xgplayer.xgplayer-mobile .xgplayer-start{height:50px;width:50px}.xgplayer.xgplayer-mobile .xgplayer-start:hover{opacity:1}.xgplayer.xgplayer-inactive .xgplayer-start.auto-hide,.xgplayer.xgplayer-is-enter .xgplayer-start,.xgplayer.xgplayer-is-enter .xgplayer-start.auto-hide,.xgplayer.xgplayer-is-enter .xgplayer-start.show,.xgplayer.xgplayer-is-error .xgplayer-start,.xgplayer.xgplayer-is-error .xgplayer-start.show,.xgplayer.xgplayer-isloading.xgplayer-playing .xgplayer-start{display:none}.xgplayer-enter{background:rgba(0,0,0,.8);display:none;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%;z-index:5}.xgplayer-enter .show{display:block}.xgplayer-enter .xgplayer-enter-spinner{display:block;height:100px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:100px;z-index:1}.xgplayer-enter .xgplayer-enter-spinner div{animation:fade 1s linear infinite;background-color:#ffffffb3;border-radius:30px;height:13%;left:45%;opacity:0;position:absolute;top:45%;width:6%}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar1{animation-delay:0s;transform:rotate(0) translateY(-140%)}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar2{animation-delay:-.9163s;transform:rotate(30deg) translateY(-140%)}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar3{animation-delay:-.833s;transform:rotate(60deg) translateY(-140%)}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar4{animation-delay:-.7497s;transform:rotate(90deg) translateY(-140%)}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar5{animation-delay:-.6664s;transform:rotate(120deg) translateY(-140%)}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar6{animation-delay:-.5831s;transform:rotate(150deg) translateY(-140%)}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar7{animation-delay:-.4998s;transform:rotate(180deg) translateY(-140%)}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar8{animation-delay:-.4165s;transform:rotate(210deg) translateY(-140%)}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar9{animation-delay:-.3332s;transform:rotate(240deg) translateY(-140%)}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar10{animation-delay:-.2499s;transform:rotate(270deg) translateY(-140%)}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar11{animation-delay:-.1666s;transform:rotate(300deg) translateY(-140%)}.xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar12{animation-delay:-.0833s;transform:rotate(330deg) translateY(-142%)}@keyframes fade{0%{opacity:1}to{opacity:.25}}.xgplayer.xgplayer-is-enter .xgplayer-enter{display:block;opacity:1;transition:opacity .3s}.xgplayer.xgplayer-nostart .xgplayer-enter{display:none}.xgplayer.xgplayer-mobile .xgplayer-enter .xgplayer-enter-spinner{height:70px;width:70px}.xg-mini-layer{background:linear-gradient(180deg,rgba(57,57,57,.9),rgba(57,57,57,0) 50.27%);display:none;z-index:11}.xg-mini-layer,.xg-mini-layer .mask{height:100%;left:0;position:absolute;top:0;width:100%}.xg-mini-layer .mask{background-color:#0006;pointer-events:none}.xg-mini-layer xg-mini-header{box-sizing:border-box;color:#fff;display:flex;font-size:14px;justify-content:space-between;left:0;padding:10px 3px 0 8px;position:absolute;right:40px;top:0;z-index:22}.xg-mini-layer xg-mini-header .xgplayer-pip-disableBtn{pointer-events:all}.xg-mini-layer xg-mini-header #disabledMini{display:none;position:relative}.xg-mini-layer xg-mini-header #disabledMini+label{align-items:center;cursor:pointer;display:flex;position:relative}.xg-mini-layer xg-mini-header #disabledMini+label:before{background-color:transparent;border:1px solid #cdcdcd;border-radius:2px;color:#ff142b;content:"";display:inline-block;height:16px;line-height:16px;margin-right:7px;text-align:center;vertical-align:middle;width:16px}.xg-mini-layer xg-mini-header #disabledMini:checked+label{color:#ff142b}.xg-mini-layer xg-mini-header #disabledMini:checked+label:before{border-color:#ff142b}.xg-mini-layer xg-mini-header #disabledMini:checked+label:after{border-color:#ff142b;border-style:solid;border-width:0 2px 2px 0;content:"";height:8px;left:6px;position:absolute;top:5px;transform:rotate(45deg);width:4px}.xg-mini-layer xg-mini-header .xgplayer-mini-disableBtn xg-tips{background-color:#0000008a;border-radius:4px;bottom:-30px;display:none;padding:4px 6px;position:absolute;right:15px;white-space:nowrap}.xg-mini-layer xg-mini-header .xgplayer-mini-disableBtn:hover #disabledMini+label:before{border-color:#ff142b}.xg-mini-layer xg-mini-header .xgplayer-mini-disableBtn:hover #disabledMini+label{color:#ff142b}.xg-mini-layer xg-mini-header .xgplayer-mini-disableBtn:hover xg-tips{display:block}.xg-mini-layer .mini-cancel-btn{color:#fff;cursor:pointer;display:block;height:38px;line-height:38px;position:absolute;right:0;text-align:center;top:0;width:40px}.xg-mini-layer .play-icon{background:rgba(0,0,0,.54);border-radius:24px;cursor:pointer;height:48px;left:50%;margin:-24px 0 0 -24px;position:absolute;top:50%;width:48px}.xg-mini-layer .play-icon img,.xg-mini-layer .play-icon svg{height:50px;width:50px;fill:#faf7f7}.xg-mini-layer .xg-icon-play{display:none}.xg-mini-layer .xg-icon-pause,.xg-mini-layer[data-state=pause] .xg-icon-play{display:block}.xg-mini-layer[data-state=pause] .xg-icon-pause{display:none}.xgplayer-miniicon{display:block;outline:none;position:relative}.xgplayer-miniicon .name{color:#fffc;font-size:13px;height:20px;line-height:40px;text-align:center}.xgplayer-miniicon .name span{background:rgba(0,0,0,.38);border-radius:10px;display:inline-block;font-size:13px;height:20px;line-height:20px;vertical-align:middle;width:60px}.xgplayer-mini{box-shadow:0 4px 7px 2px #0003;height:180px;position:fixed;width:320px;z-index:91}.xgplayer-mini:hover{cursor:move}.xgplayer-mini:hover .xg-mini-layer{display:block}.xgplayer-mini.xgplayer-ended .xg-mini-layer{display:none}.xgplayer-mobile .xg-mini-layer .play-icon{background:none;border-radius:0;border-radius:initial}.xgplayer.xgplayer-inactive{cursor:none}.xgplayer xg-thumbnail{display:block}.xgplayer xg-trigger{height:100%;left:0;position:absolute;top:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%}.xgplayer xg-trigger .time-preview{color:#fff;display:none;font-size:18px;left:50%;margin:0 auto;padding:0 20px 30px;pointer-events:none;position:absolute;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.54);top:50%;transform:translate(-50%,-50%);width:200px}.xgplayer xg-trigger .time-preview span{line-height:24px}.xgplayer xg-trigger .time-preview .xg-cur{color:red}.xgplayer xg-trigger .time-preview .xg-separator{font-size:14px}.xgplayer xg-trigger .time-preview .xg-seek-show{transform:translate(-10px)}.xgplayer xg-trigger .time-preview .xg-seek-show.xg-back .xg-seek-pre{transform:rotate(180deg) translate(-5px)}.xgplayer xg-trigger .time-preview .xg-seek-show.hide-seek-icon .xg-seek-icon{display:none}.xgplayer xg-trigger .time-preview .xg-bar{background:hsla(0,0%,100%,.3);border-radius:10px;box-sizing:content-box;height:2px;margin:8px auto 0;width:96px}.xgplayer xg-trigger .time-preview .xg-bar .xg-curbar{background-color:red;height:100%;width:0}.xgplayer xg-trigger .time-preview .xg-bar.hide{display:none}.xgplayer xg-trigger .mobile-thumbnail{left:50%;position:relative;transform:translate(-50%)}.xgplayer xg-trigger .xg-top-note{background:rgba(0,0,0,.3);border-radius:100px;color:#fff;height:32px;left:50%;margin-left:-78px;position:absolute;top:26px;width:135px}.xgplayer xg-trigger .xg-top-note span{display:block;font-size:13px;height:32px;line-height:32px;text-align:center}.xgplayer xg-trigger .xg-top-note i{color:red;margin:0 5px}.xgplayer xg-trigger .xg-playbackrate{display:none}.xgplayer xg-trigger[data-xg-action=playbackrate] .xg-playbackrate,.xgplayer xg-trigger[data-xg-action=seeking] .time-preview{display:block}.xgplayer .gradient{background-image:linear-gradient(rgba(0,0,0,.6),rgba(0,0,0,.36) 20%,transparent 36%,transparent 70%,rgba(0,0,0,.24) 77%,rgba(0,0,0,.36) 83%,rgba(0,0,0,.6));display:none;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.xgplayer .gradient.top{background-image:linear-gradient(rgba(0,0,0,.6),rgba(0,0,0,.36) 20%,transparent 36%,transparent 70%)}.xgplayer .gradient.bottom{background-image:linear-gradient(transparent 70%,rgba(0,0,0,.24) 77%,rgba(0,0,0,.36) 83%,rgba(0,0,0,.6))}.xgplayer .gradient.none,.xgplayer-mobile .xgplayer-controls{background-image:none}.xgplayer-mobile.xgplayer-playing .gradient{display:block}.xgplayer-mobile.xgplayer-inactive .gradient{background-image:none}.xgplayer-mobile .xgmask{background-color:#0000;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%;z-index:10}@media (prefers-color-scheme:dark){.xgplayer-mobile xg-trigger .time-preview{color:#fff}.xgplayer-mobile xg-trigger .time-preview span.xg-cur{color:red}.xgplayer-mobile xg-trigger .time-preview .xg-bar{background-color:#ffffff4d}.xgplayer-mobile xg-trigger .time-preview .xg-bar.xg-curbar{background-color:red}}@keyframes loadingRotate{0%{transform:rotate(0)}25%{transform:rotate(90deg)}50%{transform:rotate(180deg)}75%{transform:rotate(270deg)}to{transform:rotate(1turn)}}@keyframes loadingDashOffset{0%{stroke-dashoffset:236}to{stroke-dashoffset:0}}xg-loading-inner{animation:loadingRotate 1s linear .1s infinite;display:block;height:100%;transform-origin:center;width:100%}.xgplayer-loading{display:none;height:70px;left:50%;overflow:hidden;pointer-events:none;position:absolute;top:50%;transform:translate(-50%,-50%);width:70px;z-index:10}.xgplayer-loading img,.xgplayer-loading svg{height:100%;width:100%}.xgplayer-mobile .xgplayer-loading{height:50px;width:50px}.xgplayer-isloading .xgplayer-loading{display:block}.xgplayer-is-ended .xgplayer-loading,.xgplayer-is-enter .xgplayer-loading,.xgplayer-is-error .xgplayer-loading,.xgplayer-nostart .xgplayer-loading,.xgplayer-pause .xgplayer-loading{display:none}.xgplayer .xgplayer-progress{align-items:center;cursor:pointer;display:flex;flex:1 1;height:20px;left:0;min-width:10px;outline:none;position:relative;right:0;top:0}.xgplayer .xgplayer-progress-outer{border-radius:3px;cursor:pointer;height:2px;position:relative;width:100%}.xgplayer .progress-list{border-radius:inherit;display:flex;height:100%;width:100%}.xgplayer .xgplayer-progress-inner{background:hsla(0,0%,100%,.3);border-radius:inherit;flex:1 1;height:100%;margin-right:2px;pointer-events:none;position:relative;transition:height .2s ease-in,opacity .2s ease-out}.xgplayer .xgplayer-progress-inner:last-child,.xgplayer .xgplayer-progress-inner:only-child{margin-right:0}.xgplayer .inner-focus-point{background:#fff;position:relative}.xgplayer .inner-focus-point:after,.xgplayer .inner-focus-point:before{background:#fff;border-radius:3px;content:" ";display:block;height:300%;position:absolute;top:0;top:50%;transform:translateY(-50%);width:2px;z-index:1}.xgplayer .inner-focus-point:before{left:0}.xgplayer .inner-focus-point:after{right:0}.xgplayer .xgplayer-progress-cache,.xgplayer .xgplayer-progress-played{border-radius:inherit;display:block;height:100%;left:0;position:absolute;top:0;width:0}.xgplayer .xgplayer-progress-played{background:linear-gradient(-90deg,#fa1f41,#e31106)}.xgplayer .xgplayer-progress-cache{background:hsla(0,0%,100%,.5)}.xgplayer .xgplayer-progress-btn{background:rgba(255,94,94,.304);border:.5px solid rgba(255,94,94,.057);border-radius:30px;box-shadow:0 0 1px #ff000062;box-sizing:border-box;display:block;height:20px;left:0;pointer-events:none;position:absolute;top:50%;transform:translate(-50%,-50%);width:20px;z-index:1}.xgplayer .xgplayer-progress-btn:before{background:#fff;border-radius:30px;content:" ";display:block;height:12px;left:50%;position:relative;top:50%;transform:translate(-50%,-50%);width:12px}.xgplayer .xgplayer-progress-btn.active{border:4px solid rgba(255,94,94,.064)}.xgplayer .xgplayer-progress-btn.active:before{box-shadow:0 0 3px #f85959b0}.xgplayer .xgplayer-progress-dot{background:#fff;border-radius:6px;display:inline-block;height:100%;position:absolute;top:0;width:5px;z-index:16}.xgplayer .xgplayer-progress-dot .xgplayer-progress-tip{background:rgba(0,0,0,.3);border:1px solid rgba(0,0,0,.8);border-radius:6px;cursor:default;display:none;height:auto;left:25%;line-height:30px;position:absolute;top:-40px;transform:scale(.8) translate(-50%);white-space:nowrap;width:auto}.xgplayer .xgplayer-progress-dot:hover .xgplayer-progress-tip{display:block}.xgplayer .flex-controls .xgplayer-progress{transform:translateY(0)}.xgplayer.xgplayer-pc .xgplayer-progress-btn{transform:translate(-50%,-50%) scale(0)}.xgplayer.xgplayer-pc .xgplayer-progress-outer{height:3px}.xgplayer.xgplayer-pc .xgplayer-progress-inner{margin-right:4px}.xgplayer.xgplayer-pc .xgplayer-progress-inner:last-child,.xgplayer.xgplayer-pc .xgplayer-progress-inner:only-child{margin-right:0}.xgplayer.xgplayer-pc .inner-focus-point:after,.xgplayer.xgplayer-pc .inner-focus-point:before{width:3px}.xgplayer.xgplayer-pc .inner-focus-highlight{background:hsla(0,0%,100%,.8)}.xgplayer.xgplayer-pc .xgplayer-progress.active .xgplayer-progress-outer{height:6px;margin-bottom:3px;transition:height .3s ease,margin-bottom .3s ease}.xgplayer.xgplayer-pc .xgplayer-progress.active .xgplayer-progress-btn{transform:translate(-50%,-50%) scale(1)}.xgplayer.xgplayer-pc .xgplayer-progress.active .inner-focus-point:after,.xgplayer.xgplayer-pc .xgplayer-progress.active .inner-focus-point:before{width:6px}.xgplayer .xgplayer-progress-bottom .xgplayer-progress-outer{top:9px}.xgplayer .xgplayer-progress-bottom .xgplayer-progress-btn:before{height:6px;width:6px}.xgplayer.xgplayer-mobile .xgplayer-progress-bottom .xgplayer-progress-outer{height:4px}@media (prefers-color-scheme:dark){.xgplayer .xgplayer-progress .xgplayer-progress-inner{background-color:#ffffff4d}.xgplayer .xgplayer-progress .inner-focus-highlight{background:hsla(0,0%,100%,.8)}.xgplayer .xgplayer-progress .xgplayer-progress-btn{background:rgba(255,94,94,.304);border:.5px solid rgba(255,94,94,.057);box-shadow:0 0 1px #ff000062}.xgplayer .xgplayer-progress .xgplayer-progress-btn:before{background-color:#fff}.xgplayer .xgplayer-progress .xgplayer-progress-played{background-color:linear-gradient(-90deg,#fa1f41,#e31106)}.xgplayer .xgplayer-progress .xgplayer-progress-cache{background-color:#ffffff80}}.xg-mini-progress{bottom:0;display:none;height:2px;left:0;pointer-events:none;position:absolute;right:0}.xg-mini-progress xg-mini-progress-cache,.xg-mini-progress xg-mini-progress-played{border-radius:inherit;height:100%;left:0;position:absolute;top:0;width:0}.xg-mini-progress xg-mini-progress-played{background:linear-gradient(-90deg,#fa1f41,#e31106)}.xg-mini-progress xg-mini-progress-cache{background:hsla(0,0%,100%,.5)}.xg-mini-progress-show,.xgplayer-inactive .xg-mini-progress,.xgplayer-mini .xg-mini-progress{display:block}.xgplayer .xgplayer-play .xg-icon-play{display:none}.xgplayer .xgplayer-play .xg-icon-pause,.xgplayer .xgplayer-play[data-state=pause] .xg-icon-play{display:block}.xgplayer .xgplayer-fullscreen .xg-exit-fullscreen,.xgplayer .xgplayer-play[data-state=pause] .xg-icon-pause{display:none}.xgplayer .xgplayer-fullscreen .xg-get-fullscreen,.xgplayer .xgplayer-fullscreen[data-state=full] .xg-exit-fullscreen{display:block}.xgplayer .xgplayer-fullscreen[data-state=full] .xg-get-fullscreen{display:none}.xgplayer .xg-top-bar .xgplayer-back{display:none;height:40px;left:0;position:relative;top:16px;width:34px}.xgplayer .xg-top-bar .xgplayer-back.show{display:block}.xgplayer .xgplayer-time{color:#fff;display:inline-block;font-family:PingFangSC-Semibold;font-size:14px;line-height:40px;min-width:40px;pointer-events:none;text-align:center}.xgplayer .xgplayer-time span{display:inline-block;height:40px;line-height:40px}.xgplayer .xgplayer-time span .time-min-width{min-width:2ch;text-align:center}.xgplayer .xgplayer-time span .time-min-width:first-child{text-align:right}.xgplayer .xgplayer-time span .time-min-width:last-child{text-align:left}.xgplayer .xgplayer-time .time-duration{color:#ffffff80}.xgplayer .xgplayer-time .time-live-tag{display:none}.xgplayer .xgplayer-time.xg-time-left{margin-left:0}.xgplayer .xgplayer-time.xg-time-right{margin-right:0}.xgplayer.xgplayer-mobile .xgplayer-time{font-size:12px;min-width:30px}.xgplayer.xgplayer-mobile .xgplayer-time.xg-time-left{margin-right:8px}.xgplayer.xgplayer-mobile .xgplayer-time.xg-time-right{margin-left:8px}.xgplayer .xgplayer-volume.slide-show .xgplayer-slider{display:block}.xgplayer .xgplayer-slider{background:rgba(0,0,0,.54);border-radius:1px;bottom:40px;display:none;height:92px;outline:none;position:absolute;width:28px}.xgplayer .xgplayer-slider:after{bottom:-15px;content:" ";cursor:auto;display:block;height:15px;left:0;position:absolute;width:28px;z-index:20}.xgplayer .xgplayer-value-label{background-color:#0000008a;bottom:100%;color:#fff;font-size:12px;left:0;padding:5px 0 0;position:absolute;right:0;text-align:center}.xgplayer .xgplayer-bar,.xgplayer .xgplayer-drag{background:hsla(0,0%,100%,.3);border-radius:100px;bottom:6px;cursor:pointer;display:block;height:76px;left:12px;outline:none;position:absolute;width:4px}.xgplayer .xgplayer-drag{background:#fa1f41;bottom:0;left:0;max-height:76px}.xgplayer .xgplayer-drag:after{background:#fff;border-radius:50%;box-shadow:0 0 5px #00000042;content:" ";display:inline-block;height:8px;left:-2px;position:absolute;top:-4px;width:8px}.xgplayer .xgplayer-volume[data-state=normal] .xg-volume{display:block}.xgplayer .xgplayer-volume[data-state=normal] .xg-volume-mute,.xgplayer .xgplayer-volume[data-state=normal] .xg-volume-small,.xgplayer .xgplayer-volume[data-state=small] .xg-volume{display:none}.xgplayer .xgplayer-volume[data-state=small] .xg-volume-small{display:block}.xgplayer .xgplayer-volume[data-state=mute] .xg-volume,.xgplayer .xgplayer-volume[data-state=mute] .xg-volume-small,.xgplayer .xgplayer-volume[data-state=small] .xg-volume-mute{display:none}.xgplayer .xgplayer-volume[data-state=mute] .xg-volume-mute{display:block}.xgplayer .xgplayer-pip .xg-exit-pip,.xgplayer.xgplayer-mobile .xgplayer-volume .xgplayer-slider{display:none}.xgplayer .xgplayer-pip .xg-get-pip,.xgplayer .xgplayer-pip[data-state=pip] .xg-exit-pip{display:block}.xgplayer .xgplayer-pip[data-state=pip] .xg-get-pip{display:none}.xgplayer .xgplayer-playnext{cursor:pointer;display:none;position:relative}.xgplayer .xgplayer-playnext .xgplayer-tips .xgplayer-tip-playnext{display:block}.xgplayer .xgplayer-playnext:hover{opacity:.85}.xgplayer .xgplayer-playnext:hover .xgplayer-tips{display:block}.lang-is-en .xgplayer-playnext .xgplayer-tips{margin-left:-25px}.lang-is-jp .xgplayer-playnext .xgplayer-tips{margin-left:-38px}.xgplayer .xgplayer-download{cursor:pointer;display:block;position:relative}.lang-is-en .xgplayer-download .xgplayer-tips{margin-left:-32px}.lang-is-jp .xgplayer-download .xgplayer-tips{margin-left:-40px}.xgplayer .xgplayer-shot{display:none}.xgplayer-definition{cursor:pointer;display:none}.xgplayer .xgplayer-playbackrate{cursor:default;display:none}.xgplayer .xgplayer-cssfullscreen .xg-get-cssfull{display:block}.xgplayer .xgplayer-cssfullscreen .xg-exit-cssfull,.xgplayer .xgplayer-cssfullscreen[data-state=full] .xg-get-cssfull{display:none}.xgplayer .xgplayer-cssfullscreen[data-state=full] .xg-exit-cssfull{display:block}.xgplayer-error{align-items:center;background:#000;color:#fff;display:none;height:100%;justify-content:center;left:0;line-height:100%;position:absolute;text-align:center;top:0;width:100%;z-index:6}.xgplayer-error .xgplayer-error-refresh{color:#fa1f41;cursor:pointer;padding:0 3px}.xgplayer-error .xgplayer-error-text{display:block;line-height:18px;margin:auto 6px 20px}.xgplayer-is-error .xgplayer-error{display:flex}.xgplayer .xgplayer-prompt{background:rgba(0,0,0,.5);border-radius:50px;color:#fff;display:block;font-size:12px;left:10px;line-height:17px;opacity:0;padding:6px 12px 5px;pointer-events:none;position:absolute;text-align:center;z-index:1}.xgplayer .xgplayer-prompt.show{display:block;opacity:1;pointer-events:auto;z-index:10}.xgplayer .xgplayer-prompt.arrow{transform:translate(-50%)}.xgplayer .xgplayer-prompt.arrow:after{border-left:6px solid transparent;border-right:6px solid transparent;border-top:8px solid rgba(0,0,0,.5);bottom:0;content:"";display:block;height:0;left:50%;position:absolute;transform:translate(-50%,100%);width:0}.xgplayer .xgplayer-prompt .highlight{color:red;cursor:pointer;display:inline-block;margin-left:6px}.xgplayer.xgplayer-is-error .xgplayer-prompt.show{display:none;opacity:1}.xgplayer .xgplayer-spot{background:#fff;border-radius:12px;height:100%;left:0;position:absolute;top:0}.xgplayer .xgplayer-spot.mini{min-width:6px;transform:translate(-50%)}.xgplayer .xgplayer-spot.active .xgplayer-spot-pop{display:block;opacity:1;pointer-events:auto}.xgplayer .xgplayer-spot-pop{bottom:5px;display:block;left:50%;opacity:0;padding-bottom:5px;pointer-events:none;position:absolute;transform:translate(-50%)}.xgplayer-mobile .xgplayer-spot{height:3px;min-width:3px;opacity:1;top:50%;transform:translateY(-50%)}.xgplayer-mobile .xgplayer-spot.mini{min-width:3px;transform:translate(-50%,-50%)}.xgplayer .xgplayer-progress.active .xgplayer-spot{opacity:1;transition:opacity .3s;visibility:visible}.xgplayer .xg-spot-info{bottom:100%;display:none;left:0;position:absolute}.xgplayer .xg-spot-info.short-line .xg-spot-line{height:6px}.xgplayer .xg-spot-info.short-line .xg-spot-content{bottom:-4px}.xgplayer .xg-spot-info.no-thumbnail .xg-spot-thumbnail{display:none}.xgplayer .xg-spot-info.no-thumbnail .xgplayer-progress-point{display:block}.xgplayer .xg-spot-info.hide,.xgplayer .xg-spot-info.no-timepoint .xgplayer-progress-point{display:none}.xgplayer .xgplayer-progress.active .xg-spot-info{display:block}.xgplayer .xgplayer-progress.active .xg-spot-info.hide{display:none}.xgplayer .xg-spot-line{background-color:#fff;bottom:-7px;display:block;height:41px;margin-left:50%;pointer-events:none;position:relative;width:1px}.xgplayer .xgplayer-progress-point{background:rgba(0,0,0,.54);border-radius:4px;bottom:-4px;color:#fff;display:none;font-size:11px;left:50%;opacity:.85;padding:4px 6px;position:relative;text-align:center;transform:translate(-50%);white-space:nowrap}.xgplayer .xg-spot-content{border-radius:2px 2px 0 0;color:#fff}.xgplayer .xg-spot-content,.xgplayer .xg-spot-ext-text{bottom:-7px;position:relative}.xgplayer .xg-spot-thumbnail{background-color:#111010;border-radius:2px 2px 0 0;pointer-events:none;position:relative}.xgplayer .xg-spot-time{bottom:2px;font-size:12px;left:50%;line-height:16.8px;pointer-events:none;position:absolute;transform:translate(-50%)}.xgplayer .progress-thumbnail{display:block;margin:0 auto}.xgplayer .xg-spot-text{background:rgba(0,0,0,.8);border-radius:0 0 2px 2px;box-sizing:border-box;display:none;padding:5px 8px;pointer-events:none}.xgplayer .spot-inner-text{display:-webkit-box;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:12px;line-height:20px;max-height:40px}.xgplayer .xg-spot-content.show-text .xg-spot-text{display:block}.xgplayer .product .xg-spot-text{background:#3370ff}.xgplayer .product .xg-spot-line{background:none;border-left:10px solid transparent;border-right:10px solid transparent;border-top:7px solid #3370ff;height:15px;left:-10px;width:0}.xgplayer .xgvideo-preview{background-color:#000;height:100%;left:0;opacity:0;position:absolute;top:0;transition:visibility .3s,opacity .3s;visibility:hidden;width:100%}.xgplayer .xgvideo-preview .xgvideo-thumbnail{border-radius:0;left:50%;position:relative;top:50%;transform:translate(-50%,-50%)}.xgplayer .xgvideo-preview.show{opacity:1;visibility:visible}.xgplayer-dynamic-bg,.xgplayer-dynamic-bg canvas,.xgplayer-dynamic-bg xgfilter,.xgplayer-dynamic-bg xgmask{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.xgplayer-dynamic-bg canvas{transform:translateZ(0)}.xgplayer-dynamic-bg xgmask{background:rgba(0,0,0,.7)}',""]),t.Z=a},650596:function(e,t,i){"use strict";var n=i(866466),r=i.n(n),o=i(462669),a=i.n(o),s=i(318249),l=i.n(s),c=i(294754),u=i.n(c),h=i(13355),d=i.n(h),p=i(876846),g=i.n(p),f=i(188195),y={};y.styleTagTransform=g(),y.setAttributes=u(),y.insert=l().bind(null,"head"),y.domAPI=a(),y.insertStyleElement=d(),r()(f.Z,y),f.Z&&f.Z.locals&&f.Z.locals}}]);
//# sourceMappingURL=https://sourcemap-redirect.coze.cn/obj/coze-sourcemap/ol-sourcemap/bot/1.0.2.2452/89797.d7761579.js.map