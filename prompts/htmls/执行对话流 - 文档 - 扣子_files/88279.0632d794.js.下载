"use strict";(self.webpackChunkapp_botstudio_main=self.webpackChunkapp_botstudio_main||[]).push([["88279"],{897893:function(e,t){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var u in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.isOpenAPIConfigValid=t.getOpenAPIConfig=t.setOpenAPIConfig=void 0;var r={ak:"",sk:"",origin:""};t.setOpenAPIConfig=function(e){return r=Object.assign({},e),function(){return{siteId:r.app_id,pageId:r.page_id}}};t.getOpenAPIConfig=function(){return n({},r)};t.isOpenAPIConfigValid=function(){var e=r.ak,t=r.sk,n=r.origin;return!!(e&&t&&n)}},953713:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(u,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function a(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?u(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(i,a)}s((r=r.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,r,u,o,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(s){return function(a){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(u=2&a[0]?r.return:a[0]?r.throw||((u=r.return)&&u.call(r),0):r.next)&&!(u=u.call(r,a[1])).done)return u;switch(r=0,u&&(a=[2&a[0],u.value]),a[0]){case 0:case 1:u=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!u||a[1]>u[0]&&a[1]<u[3])){i.label=a[1];break}if(6===a[0]&&i.label<u[1]){i.label=u[1],u=a;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(a);break}u[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=u=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.useSiteHook=t.createRequest=void 0;var o=n(897893),i=n(918122),a=i.Request.instance;function s(e,t){return r(this,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:if(!(0,o.isOpenAPIConfigValid)())return[3,2];return[4,a.openapi(e,t)];case 1:return[2,n.sent()];case 2:return[2,(0,i.fail)("OpenAPI \u914D\u7F6E\u4E0D\u6B63\u786E\uFF0CHooks \u65E0\u6CD5\u6B63\u786E\u8BF7\u6C42",(0,o.getOpenAPIConfig)())]}})})}t.createRequest=s,t.useSiteHook=s},566296:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useGetBusDetailById=void 0;var r=n(953713);t.useGetBusDetailById=r.createRequest.bind(null,"GetBusDetailById")},427341:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useGetBusiness=void 0;var r=n(953713);t.useGetBusiness=r.createRequest.bind(null,"GetBusiness")},302753:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useDeleteDoc=void 0;var r=n(953713);t.useDeleteDoc=r.createRequest.bind(null,"DeleteDoc")},798751:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useGetBusStructureById=void 0;var r=n(953713);t.useGetBusStructureById=r.createRequest.bind(null,"GetBusStructureById")},502751:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useGetDocById=void 0;var r=n(953713);t.useGetDocById=r.createRequest.bind(null,"GetDocById")},208137:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useGetDocDetailByPath=void 0;var r=n(953713);t.useGetDocDetailByPath=r.createRequest.bind(null,"GetDocDetailByPath")},920188:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useGetDocEffective=void 0;var r=n(953713);t.useGetDocEffective=r.createRequest.bind(null,"GetDocEffective")},815340:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useGetPageDetailById=void 0;var r=n(953713);t.useGetPageDetailById=r.createRequest.bind(null,"GetPageDetailById")},55529:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useGetPageDetailByPath=void 0;var r=n(953713);t.useGetPageDetailByPath=r.createRequest.bind(null,"GetPageDetailByPath")},219753:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useGetPages=void 0;var r=n(953713);t.useGetPages=r.createRequest.bind(null,"GetPages")},512200:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useGetSiteByAppId=void 0;var r=n(953713);t.useGetSiteByAppId=r.createRequest.bind(null,"GetSiteByAppId")},565398:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useGetSiteMenu=void 0;var r=n(953713);t.useGetSiteMenu=r.createRequest.bind(null,"GetSiteMenu")},119649:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useMoveDoc=void 0;var r=n(953713);t.useMoveDoc=r.createRequest.bind(null,"MoveDoc")},209383:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useSearch=void 0;var r=n(953713);t.useSearch=r.createRequest.bind(null,"Search")},389449:function(e,t,n){t.setOpenAPIConfig=t.useSiteHook=t.useGetDocDetailByPath=t.useGetDocById=t.useGetBusStructureById=t.useSearch=t.useGetBusiness=void 0;var r,u=n(512200),o=n(566296),i=n(427341);Object.defineProperty(t,"useGetBusiness",{enumerable:!0,get:function(){return i.useGetBusiness}});var a=n(219753),s=n(565398),c=n(209383);Object.defineProperty(t,"useSearch",{enumerable:!0,get:function(){return c.useSearch}});var l=n(798751);Object.defineProperty(t,"useGetBusStructureById",{enumerable:!0,get:function(){return l.useGetBusStructureById}});var f=n(502751);Object.defineProperty(t,"useGetDocById",{enumerable:!0,get:function(){return f.useGetDocById}});var d=n(208137);Object.defineProperty(t,"useGetDocDetailByPath",{enumerable:!0,get:function(){return d.useGetDocDetailByPath}});var p=n(302753),v=n(815340),y=n(55529),b=n(119649),h=n(920188),_=n(953713);Object.defineProperty(t,"useSiteHook",{enumerable:!0,get:function(){return _.useSiteHook}});var g=n(517348),P=n(897893);Object.defineProperty(t,"setOpenAPIConfig",{enumerable:!0,get:function(){return P.setOpenAPIConfig}})},918122:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var u in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e}).apply(this,arguments)},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(u,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function a(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?u(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(i,a)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,u,o,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(s){return function(a){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(u=2&a[0]?r.return:a[0]?r.throw||((u=r.return)&&u.call(r),0):r.next)&&!(u=u.call(r,a[1])).done)return u;switch(r=0,u&&(a=[2&a[0],u.value]),a[0]){case 0:case 1:u=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!u||a[1]>u[0]&&a[1]<u[3])){i.label=a[1];break}if(6===a[0]&&i.label<u[1]){i.label=u[1],u=a;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(a);break}u[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=u=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Request=t.fail=t.success=void 0;var a=i(n(574266)),s=n(390475);Object.defineProperty(t,"fail",{enumerable:!0,get:function(){return s.fail}}),Object.defineProperty(t,"success",{enumerable:!0,get:function(){return s.success}});var c=n(897893),l=n(517348),f=function(){function e(){}return e.prototype.openapi=function(e,t){return u(this,void 0,void 0,function(){var n,u,i,a,s,f,d,p;return o(this,function(o){switch(o.label){case 0:return u=(n=(0,c.getOpenAPIConfig)()).ak,i=n.sk,a=n.origin,s=JSON.stringify(r(r({},t),{req_source:t.req_source||"site"})),f=(0,l.cryptoContent)(s),d=(0,l.cryptoSignature)({action:e,content:f,ak:u,sk:i}),p={url:a,method:"POST",data:s,headers:{"Content-Type":"application/json","x-arcosite-action":e,"x-arcosite-content":f,authorization:d}},[4,this.request(p)];case 1:return[2,o.sent()]}})})},e.prototype.api=function(e,t){return u(this,void 0,void 0,function(){var n,u,i;return o(this,function(o){switch(o.label){case 0:return n="".concat((0,s.isController)()?"/sites":"","/api/arcosite?Action=").concat(e),u=JSON.stringify(r(r({},t),{req_source:t.req_source||"site"})),i={url:n,method:"POST",data:u,headers:{"Content-Type":"application/json","arcosites-app-id":t.app_id}},[4,this.request(i)];case 1:return[2,o.sent()]}})})},e.prototype.request=function(e){var t,n,r;return u(this,void 0,void 0,function(){var u,i,c,l;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(0,a.default)(e)];case 1:if(i=(u=o.sent()).data,200!==u.status)return c="status: ".concat(u.status," ; message: ").concat((null===(n=null===(t=null==i?void 0:i.ResponseMetadata)||void 0===t?void 0:t.Error)||void 0===n?void 0:n.Message)||"\u54CD\u5E94\u72B6\u6001\u4E0D\u4E3A 200"),[2,(0,s.fail)(c,null===(r=null==i?void 0:i.ResponseMetadata)||void 0===r?void 0:r.Error)];if(!i)return[2,(0,s.fail)("Hook \u8C03\u7528\u6210\u529F\uFF0C\u4F46\u672A\u643A\u5E26\u4FE1\u606F",void 0)];if(i&&i.ResponseMetadata&&i.ResponseMetadata.Error)return[2,(0,s.fail)(i.ResponseMetadata.Error.Message,i.ResponseMetadata.Error)];return[2,(0,s.success)("Hook \u8C03\u7528\u6210\u529F",i.Result)];case 2:return l=o.sent(),[2,(0,s.fail)("Hook \u56E0\u5F02\u5E38\uFF0C\u8C03\u7528\u5931\u8D25",l)];case 3:return[2]}})})},e.instance=new e,e}();t.Request=f},390475:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.fail=t.success=t.isController=void 0;t.isController=function(){return"sites"===location.pathname.split("/")[1]};t.success=function(e,t){return{status:!0,message:e,data:t}};t.fail=function(e,t){return{status:!1,message:e,data:t}}},517348:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.cryptoSignature=t.cryptoContent=void 0;var u=r(n(609329));t.cryptoContent=function(e){return u.default.enc.Hex.stringify(u.default.MD5(e))};t.cryptoSignature=function(e){var t=e.action,n=e.content,r=e.ak,o=e.sk,i="POST\n/api/arcosite\nx-arcosite-action:".concat(t,"\nx-arcosite-content:").concat(n),a=u.default.enc.Base64.stringify(u.default.HmacSHA1(i,o));return"Arcosite ".concat(r,":").concat(a)}}}]);
//# sourceMappingURL=https://sourcemap-redirect.coze.cn/obj/coze-sourcemap/ol-sourcemap/bot/1.0.2.2365/88279.0632d794.js.map