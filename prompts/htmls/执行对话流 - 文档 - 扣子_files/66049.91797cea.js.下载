"use strict";(self.webpackChunkapp_botstudio_main=self.webpackChunkapp_botstudio_main||[]).push([["66049"],{923026:function(e,t,o){o.d(t,{O:function(){return n.O},j:function(){return l.jM}});var n=o(215505),l=o(11722)},270272:function(e,t,o){o.d(t,{W:()=>x});var n=o("341333"),l=o("265489"),r=o("556923"),i=o("938809"),a=o("723530"),s=o("142969"),d=o("644685"),u=o("387294"),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[o,n]=(0,a.useState)(0),l=(0,a.useRef)(),r=(0,a.useRef)(()=>void 0);return r.current=e,(0,a.useLayoutEffect)(()=>{if(!!o){var e=l.current||[];return r.current(...e)}},[o,...t]),function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];l.current=t,n(e=>e+1)}},p=e=>{var{getId:t,listRef:o,getMoreListService:n,defaultList:l}=e,[r,i]=(0,a.useState)(""),{data:s,loadingMore:d,loading:p,loadMore:m}=(0,u.Z)(e=>n(e),{target:o,isNoMore:e=>!(null==e?void 0:e.hasMore)}),x=(0,a.useMemo)(()=>{var e,t;return l?{list:l.concat(null!==(e=null==s?void 0:s.list)&&void 0!==e?e:[]),hasMore:!!(null==s?void 0:s.hasMore)}:{list:null!==(t=null==s?void 0:s.list)&&void 0!==t?t:[],hasMore:!!(null==s?void 0:s.hasMore)}},[s]),{list:f}=x,g=e=>{if(!e){i("");return}if(!o.current)return;var n=f.find(o=>t(e)===t(o));if(!!n)i(t(n))},_=c(e=>{var n,l=t(e),r=null===(n=o.current)||void 0===n?void 0:n.querySelector('[data-id="'.concat(l,'"]'));if(!!r)r.scrollIntoView({behavior:"instant",block:"nearest"})});return{activeId:r,focusFirst:()=>{var e=f[0];e&&g(e)},focusTo:g,scrollToFirst:()=>{if(!!o.current)o.current.scrollTop=0},scrollIntoView:_,goNext:()=>{var e=f.find(e=>t(e)===r);if(!!e){var{item:o,reachLimit:n}=v({getId:t,list:f,curItem:e});n&&m(),!d&&(g(o),_(o))}},goPrev:()=>{var e=f.find(e=>t(e)===r);if(!!e){var{item:o,reachLimit:n}=h({getId:t,list:f,curItem:e});n&&m(),g(o),_(o)}},loadingMore:d,data:x,loading:p}},m=e=>{var{getId:t,list:o,target:n}=e,l=-1;return{targetItem:o.find((e,o)=>t(e)===t(n)&&(l=o,!0)),targetIndex:l}},v=e=>{var{curItem:t,list:o,getId:n}=e,{targetIndex:l}=m({getId:n,list:o,target:t});if(l<0)return{reachLimit:!1,item:t};var r=l>=o.length-3,i=(l+1)%o.length;return{reachLimit:r,item:o.at(i)||t}},h=e=>{var{curItem:t,list:o,getId:n}=e,{targetIndex:l}=m({getId:n,list:o,target:t});if(l<0)return{reachLimit:!1,item:t};var r=(l-1)%o.length;return{reachLimit:0===l,item:o.at(r)||t}},x=e=>{var t,{className:o,onSelect:u,getId:c,itemRender:m,onActiveId:v,getMoreListService:h,defaultId:x,listTopSlot:f,defaultList:g}=e,_=(0,r._)(e,["className","onSelect","getId","itemRender","onActiveId","getMoreListService","defaultId","listTopSlot","defaultList"]),y=(0,a.useRef)(),b=(0,a.useRef)(!1),j=(0,a.useRef)(null),w=(0,a.useRef)(null),{data:M,scrollIntoView:N,activeId:I,focusTo:T,goNext:C,goPrev:z,loadingMore:D,loading:A}=p({getMoreListService:h,getId:e=>c(e),listRef:j,defaultList:g}),k=null!==(t=null==M?void 0:M.list)&&void 0!==t?t:[];return(0,a.useEffect)(()=>{null==v||v(I)},[I]),(0,s.Z)(()=>{if(!A){var e=k.find(e=>c(e)===x);e&&(T(e),N(e),null==v||v(x||c(e)))}},[A]),(0,i.jsxs)("div",(0,l._)((0,n._)({ref:j,tabIndex:1,className:o,onMouseLeave:()=>{T(null)},onMouseMove:()=>{clearTimeout(y.current),b.current=!0,y.current=setTimeout(()=>{b.current=!1},50)},onKeyDown:e=>{if("ArrowDown"===e.key){e.preventDefault(),C();return}if("ArrowUp"===e.key){e.preventDefault(),z();return}if("Enter"===e.key){var t=k.find(e=>c(e)===I);t&&(null==u||u(t))}}},_),{children:[f,k.map(e=>(0,i.jsx)("div",{"data-id":c(e),ref:c(e)===I?w:null,onClick:()=>{null==u||u(e)},onMouseEnter:()=>{if(b.current){var t;T(e),null===(t=j.current)||void 0===t||t.focus()}},children:m(e)},c(e))),D||A?(0,i.jsx)("div",{className:"flex justify-center items-center",children:(0,i.jsx)(d.Z,{style:{color:"#4D53E8"},spin:!0})}):null]}))}},620785:function(e,t,o){o.d(t,{rR:()=>eh.rR,i9:()=>ef,RV:()=>ev});var n=o("341333"),l=o("938809"),r=o("723530"),i=o("856306"),a=o.n(i),s=o("396842"),d=o("168074"),u=o("495159"),c=o("971975"),p=o("81973"),m=o("16242"),v=o("866466"),h=o.n(v),x=o("462669"),f=o.n(x),g=o("318249"),_=o.n(g),y=o("294754"),b=o.n(y),j=o("13355"),w=o.n(j),M=o("876846"),N=o.n(M),I=o("310999"),T={};T.styleTagTransform=N(),T.setAttributes=b(),T.insert=_().bind(null,"head"),T.domAPI=f(),T.insertStyleElement=w(),h()(I.Z,T);var C=I.Z&&I.Z.locals?I.Z.locals:void 0,z=o("265489"),D=o("416304"),A=o("811012"),k=o("486154"),S=o("273094"),E=o("642385"),L=(e,t)=>{var o=e;return Object.keys(t).forEach(e=>{o=o.replace(RegExp("\\{\\{".concat(e,"\\}\\}"),"g"),t[e])}),o},Z=()=>{var e=(0,s.eh)();return t=>{var o,{queryTemplate:l,onBeforeSend:r,options:i,shortcut:a}=t,{tool_type:s}=a,d=void 0!==s&&[u.qK.ToolTypeWorkFlow,u.qK.ToolTypePlugin].includes(s),p={payload:{text:l,mention_list:[]}},m=d?W(a):{},v=(0,D.Z)({extendFiled:(0,z._)((0,n._)({},m),{device_id:String(k.Z.deviceId)})},i),{message:h,options:x}=(null==r?void 0:r({message:p,options:v}))||{message:p,options:v};e({text:h.payload.text,mentionList:h.payload.mention_list},"shortcut",x),(0,E.Gg)(E.Kg.shortcut_use,{tool_type:s,use_components:!!(null===(o=a.components_list)||void 0===o?void 0:o.length),show_panel:(0,c.Q$)(a)})}},O=()=>{var e=(0,s.to)();return t=>{var o,l,{shortcut:r,options:i,componentsFormValues:a,onBeforeSendTemplateShortcut:d,withoutComponentsList:p=!1}=t,{tool_type:m}=r,v=R(r,a,p),h=void 0!==m&&[u.qK.ToolTypeWorkFlow,u.qK.ToolTypePlugin].includes(m)?P(r,a):{},x=$(a),f={payload:{mixList:[{type:s.zc.Text,text:v||" "},...x],mention_list:[]}},g=(0,D.Z)({extendFiled:(0,z._)((0,n._)({},h),{device_id:String(k.Z.deviceId)})},i),_=(null==d?void 0:d({message:(0,A.Z)(f),options:(0,A.Z)(g),shortcut:r}))||{message:f,options:g};e(null!==(l=_.message)&&void 0!==l?l:f,"shortcut",_.options),(0,E.Gg)(E.Kg.shortcut_use,{tool_type:m,use_components:!!(null===(o=r.components_list)||void 0===o?void 0:o.length),show_panel:!(0,c.Q$)(r)})}},U=(e,t)=>Object.keys(e).reduce((o,n)=>{var l,r,i,a=null==t?void 0:null===(l=t.find(e=>e.parameter===n))||void 0===l?void 0:l.name;return a&&(o[a]=null!==(i=null===(r=e[n])||void 0===r?void 0:r.value)&&void 0!==i?i:""),o},{}),P=(e,t)=>{var{plugin_id:o,plugin_api_name:n,components_list:l,tool_info:{tool_params_list:r}={}}=e,i=V(t,e=>{var{fileInstance:t,url:o}=e;return{value:o,resource_type:t?"uri":""}},e=>({value:e,resource_type:""})),a=(null!=r?r:[]).reduce((e,t)=>{var o,{default_value:n,name:r,refer_component:a}=t;if(!r)return e;if(!a)return e[r]={value:null!=n?n:"",resource_type:""},e;var s=null==l?void 0:null===(o=l.find(e=>e.parameter===r))||void 0===o?void 0:o.name,d=s&&i[s];return d&&(e[r]=d),e},{});if(!Object.keys(a).length)return{shortcut_cmd_id:e.command_id,toolList:[]};var s={command_id:e.command_id,parameters:U(a,l)};return{shortcut_cmd_id:e.command_id,shortcut_command:s,toolList:[{plugin_id:o,api_name:null!=n?n:"",parameters:a}]}},W=e=>{var{plugin_id:t,plugin_api_name:o,tool_info:{tool_params_list:n}={},components_list:l}=e,r=(null!=n?n:[]).reduce((e,t)=>{var{default_value:o,name:n}=t;return n?(e[n]={value:null!=o?o:"",resource_type:""},e):e},{});return{shortcut_command:{command_id:e.command_id,parameters:U(r,l)},shortcut_cmd_id:e.command_id,toolList:[{plugin_id:t,api_name:null!=o?o:"",parameters:r}]}},R=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{template_query:n,components_list:l}=e;if(!n)throw Error("template_query is not defined");var r=F(l,t);return o?L(n,null!=t?t:{}):L(n,r)},V=(e,t,o)=>Object.keys(e).reduce((n,l)=>{var r=e[l];return"object"==typeof r&&r.fileInstance?(n[l]=t(r),n):(n[l]=o(r),n)},{}),$=e=>Object.keys(e).reduce((t,o)=>{var n=e[o];return B(n)?(t.push({type:s.zc.File,file:n.fileInstance,uri:n.uri}),t):(Q(n)&&t.push({type:s.zc.Image,file:n.fileInstance,uri:n.uri,width:n.width||0,height:n.height||0}),t)},[]),B=e=>{var t;return!!("object"==typeof e&&e.fileInstance&&(null===(t=(0,S.hr)(e.fileInstance))||void 0===t?void 0:t.fileType)!=="image")},Q=e=>{var t;return!!("object"==typeof e&&e.fileInstance&&(null===(t=(0,S.hr)(e.fileInstance))||void 0===t?void 0:t.fileType)==="image")},F=(e,t)=>{var o=V(t,e=>{var t;return null==e?void 0:null===(t=e.fileInstance)||void 0===t?void 0:t.name},e=>e);return(null!=e?e:[]).reduce((e,t)=>{var n,{default_value:l,name:r,hide:i}=t;if(!r)return e;if(i)return e[r]=null!==(n=null==l?void 0:l.value)&&void 0!==n?n:"",e;var a=o[r];return a&&(e[r]=a),e},{})},Y=o("270272"),G=o("717601"),q=e=>{var{bot_info:t}=e,o=!!(null==t?void 0:t.icon_url),n=!!(null==t?void 0:t.name);return{iconVisible:o,nameVisible:n,splitLineVisible:o||n}},{Text:X}=d.ZT,H=e=>{var{shortcuts:t,onSelect:o,onBeforeSendTextMessage:n,defaultId:i}=e,s=Z(),[d,c]=(0,r.useState)("");return(0,l.jsxs)("div",{className:"p-2",children:[(0,l.jsx)("div",{className:"text-xs coz-fg-secondary mb-2 pl-2 pt-1",children:m.o.t("bot_ide_shortcut")}),(0,l.jsx)(Y.W,{className:a()("w-full max-h-[312px] overflow-y-auto cursor-pointer",C["load-more-list"]),defaultId:i,getId:e=>e.command_id,onActiveId:e=>c(e),getMoreListService:()=>Promise.resolve({list:t,hasMore:!1}),onSelect:e=>{if(null==o||o(e),e.send_type===u.nu.SendTypeQuery){(null==e?void 0:e.template_query)&&s({queryTemplate:e.template_query,onBeforeSend:n,shortcut:e});return}},itemRender:e=>{var t,o,n,r,{splitLineVisible:i,iconVisible:s,nameVisible:u}=q(e);return(0,l.jsxs)("div",{className:a()("flex justify-start items-center max-w-full overflow-hidden h-[52px] px-2 py-[6px]",{"coz-mg-primary-hovered":d===e.command_id,"rounded-md":d===e.command_id}),children:[(0,l.jsx)("img",{src:(null===(t=e.shortcut_icon)||void 0===t?void 0:t.url)||G.Z,alt:"icon",className:"w-9 h-9 p-[10px] rounded bg-white border-[0.5px] border-solid coz-stroke-primary mr-2"}),(0,l.jsx)("div",{className:"grow-0 shrink max-w-[37%] overflow-hidden box-border mr-3 flex items-center",children:(0,l.jsx)(X,{className:"text-sm coz-fg-plus font-medium",ellipsis:{showTooltip:{opts:{content:e.command_name,position:"top",style:{wordBreak:"break-word"}}}},children:e.command_name})}),e.description?(0,l.jsx)("div",{className:"flex-0 max-w-[60%] overflow-hidden box-border mr-3 flex items-center",children:(0,l.jsx)(X,{className:"coz-fg-secondary text-xs",ellipsis:{showTooltip:{opts:{content:e.description,position:"top",style:{wordBreak:"break-word"}}}},children:e.description})}):null,(0,l.jsxs)("div",{className:"flex items-center max-w-full flex-0 overflow-hidden box-border min-w-[100px]",children:[i?(0,l.jsx)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDIgMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGlkPSJWZWN0b3IgMjU5NCIgZD0iTTEgMFYxMiIgc3Ryb2tlPSIjMUQxQzIzIiBzdHJva2Utb3BhY2l0eT0iMC4xMiIvPgo8L3N2Zz4K",alt:""}):null,s?(0,l.jsx)("img",{alt:"bot icon",className:"w-[14px] h-[14px] rounded-full mr-1 ml-3",src:null===(o=e.bot_info)||void 0===o?void 0:o.icon_url}):null,u?(0,l.jsx)(X,{className:"coz-fg-secondary text-xs",ellipsis:{showTooltip:{opts:{content:null===(n=e.bot_info)||void 0===n?void 0:n.name,position:"top",style:{wordBreak:"break-word"}}}},children:null===(r=e.bot_info)||void 0===r?void 0:r.name}):null]})]})}})]})},J=o("182956"),K=o("466883"),ee=(0,K.j)(["mr-8px","rounded-[99px]","border-[1px]","border-solid","overflow-hidden"],{variants:{color:{grey:["coz-stroke-primary","coz-mg-secondary","backdrop-blur-[3.45px]"],white:["coz-stroke-primary","coz-bg-max","backdrop-blur-[3.45px]"],blur:["coz-stroke-image-bots","coz-bg-image-bots","backdrop-blur-[20px]"]}}}),et=(0,K.j)(["text-lg","font-medium"],{variants:{color:{grey:["coz-fg-primary"],white:["coz-fg-primary"],blur:["coz-fg-images-bots"]}}}),eo=o("308729"),{Paragraph:en,Text:el}=d.ZT,er=e=>{var{children:t,shortcut:o,toolTipFooterSlot:n,showBotInfo:i=!1}=e,a=(0,s.wX)()!==eo.Ar.MOBILE,[d,u]=(0,r.useState)(!1),{description:c,command_name:p}=o,{icon_url:m,name:v}=o.bot_info||{},h=i&&!!(v||m),x=()=>(0,l.jsxs)("div",{className:"flex flex-col items-start justify-center min-w-9",children:[p?(0,l.jsx)("div",{className:"max-w-[250px] mb-1",children:(0,l.jsx)(en,{ellipsis:!0,className:"coz-fg-plus font-bold text-sm",children:p})}):null,c?(0,l.jsx)("div",{className:"max-w-[250px]",children:(0,l.jsx)("div",{className:"coz-fg-secondary text-xs",children:c})}):null,h?(0,l.jsxs)("div",{className:"flex mt-3 gap-1 items-center",children:[m?(0,l.jsx)("img",{className:"rounded-full w-[14px] h-[14px]",src:m,alt:"bot_icon"}):null,v?(0,l.jsx)(el,{className:"coz-fg-secondary text-xs",children:v}):null]}):null,n]});return(0,l.jsx)(J.Tooltip,{trigger:"custom",visible:d,style:{maxWidth:"283px",padding:"16px"},content:()=>x(),children:(0,l.jsx)("div",{onMouseEnter:()=>u(a),onMouseLeave:()=>u(!1),children:t})})},ei=e=>{var t,{shortcut:o,onClick:n,onBeforeSend:i,toolTipFooterSlot:a,popoverTipShowBotInfo:d=!1}=e,c=Z(),p=(0,r.useRef)(null),m=(0,s.Br)(),v=()=>{var{template_query:e,agent_id:t,object_id:l}=o;if(!!e)null==n||n(),c({queryTemplate:e,options:{extendFiled:{extra:{bot_state:JSON.stringify({agent_id:t,bot_id:l})}}},onBeforeSend:i,shortcut:o})};return o.send_type!==u.nu.SendTypeQuery?null:(0,l.jsx)("div",{className:ee({color:e.uiMode}),children:(0,l.jsx)(er,{shortcut:o,toolTipFooterSlot:a,showBotInfo:d,children:(0,l.jsx)(J.Button,{disabled:m,"data-testid":"chat-area.chat-input-shortcut.shortcut-button-".concat(o.command_name),contentClassName:et({color:e.uiMode}),onClick:()=>v(),color:"secondary",icon:(null===(t=o.shortcut_icon)||void 0===t?void 0:t.url)?(0,l.jsx)("img",{alt:"icon",src:o.shortcut_icon.url,className:"h-[14px]"}):null,children:(0,l.jsx)("div",{ref:p,className:"max-w-[198px] overflow-hidden text-ellipsis",children:o.command_name})})})})},ea=o("666428"),es=e=>{var t,{shortcut:o,onClick:n,uiMode:i,toolTipFooterSlot:a,popoverTipShowBotInfo:s=!1}=e,d=(0,r.useRef)(null),p=()=>{null==n||n()};if(o.send_type!==u.nu.SendTypePanel)return null;var m=(0,c.Q$)(o);return(0,l.jsx)("div",{className:ee({color:i}),children:(0,l.jsx)(er,{shortcut:o,toolTipFooterSlot:a,showBotInfo:s,children:(0,l.jsx)(J.Button,{"data-testid":"chat-area.chat-input-shortcut.shortcut-button-".concat(o.command_name),contentClassName:et({color:i}),color:"secondary",icon:(null===(t=o.shortcut_icon)||void 0===t?void 0:t.url)?(0,l.jsx)("img",{alt:"icon",src:o.shortcut_icon.url,className:"h-[14px]"}):null,iconPosition:"left",onClick:()=>p(),children:(0,l.jsxs)("div",{className:"inline-flex items-center",children:[(0,l.jsx)("div",{ref:d,className:"max-w-[176px] overflow-hidden text-ellipsis",children:o.command_name}),!m&&(0,l.jsx)(ea.QHI,{className:"ml-[10px]"})]})})})})},ed=e=>{var{onOpen:t,uiMode:o,onClose:n,isLoadMoreActive:r}=e;return(0,l.jsx)("div",{className:a()(C["load-more-shortcut-wrapper"],{[C["shortcut-white"]||""]:"white"===o,[C["shortcut-blur"]||""]:"blur"===o}),children:(0,l.jsxs)(d.y3,{"data-testid":"chat-area.shortcut.load-more-button",className:a()(C["load-more-button"],C["shortcut-button"],{"!coz-mg-primary-pressed":r&&"white"===o}),onClick:()=>{r?null==n||n():null==t||t()},children:[(0,l.jsx)("span",{className:"mr-1",children:m.o.t("More")}),r?(0,l.jsx)("img",{className:"arraw-icon",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMiAxMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9ImNvel9hcnJvd19kb3duX2ZpbGwiPgo8cGF0aCBpZD0iVW5pb24iIGQ9Ik02LjAwMjQxIDQuODI1MzRMOS41Mzc5NCA4LjM2MDg4QzkuNzMzMiA4LjU1NjE0IDEwLjA0OTggOC41NTYxNCAxMC4yNDUgOC4zNjA4OEwxMC41OTg2IDguMDA3MzJDMTAuNzkzOSA3LjgxMjA2IDEwLjc5MzkgNy40OTU0OCAxMC41OTg2IDcuMzAwMjJMNi43MDk1MSAzLjQxMTEzQzYuMzE4OTkgMy4wMjA2MSA1LjY4NTgyIDMuMDIwNjEgNS4yOTUzIDMuNDExMTNMMS40MDYyMSA3LjMwMDIyQzEuMjEwOTUgNy40OTU0OCAxLjIxMDk1IDcuODEyMDYgMS40MDYyMSA4LjAwNzMyTDEuNzU5NzcgOC4zNjA4OEMxLjk1NTAzIDguNTU2MTQgMi4yNzE2MSA4LjU1NjE0IDIuNDY2ODcgOC4zNjA4OEw2LjAwMjQxIDQuODI1MzRaIiBmaWxsPSJjdXJyZW50Q29sb3IiIGZpbGwtb3BhY2l0eT0iMC41Ii8+CjwvZz4KPC9zdmc+Cg==",alt:"up"}):(0,l.jsx)("img",{className:"arraw-icon",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMiAxMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9ImNvel9hcnJvd19kb3duX2ZpbGwiPgo8cGF0aCBpZD0iVW5pb24iIGQ9Ik02LjAwMjQxIDcuMTc0NjZMOS41Mzc5NCAzLjYzOTEyQzkuNzMzMiAzLjQ0Mzg2IDEwLjA0OTggMy40NDM4NiAxMC4yNDUgMy42MzkxMkwxMC41OTg2IDMuOTkyNjhDMTAuNzkzOSA0LjE4Nzk0IDEwLjc5MzkgNC41MDQ1MiAxMC41OTg2IDQuNjk5NzhMNi43MDk1MSA4LjU4ODg3QzYuMzE4OTkgOC45NzkzOSA1LjY4NTgyIDguOTc5MzkgNS4yOTUzIDguNTg4ODdMMS40MDYyMSA0LjY5OTc4QzEuMjEwOTUgNC41MDQ1MiAxLjIxMDk1IDQuMTg3OTQgMS40MDYyMSAzLjk5MjY4TDEuNzU5NzcgMy42MzkxMkMxLjk1NTAzIDMuNDQzODYgMi4yNzE2MSAzLjQ0Mzg2IDIuNDY2ODcgMy42MzkxMkw2LjAwMjQxIDcuMTc0NjZaIiBmaWxsPSJjdXJyZW50Q29sb3IiIGZpbGwtb3BhY2l0eT0iMC41Ii8+CjwvZz4KPC9zdmc+Cg==",alt:"down"})]})})},eu=e=>{var{shortcuts:t,activeShortcut:o,onActiveShortcutChange:n,onClear:l}=e,i=(0,r.useRef)(null==o?void 0:o.command_id);(0,r.useEffect)(()=>{if(!(null==o?void 0:o.command_id)){i.current=void 0;return}!t.some(e=>e.command_id===o.command_id)&&i.current===o.command_id&&(null==n||n(void 0,!1),null==l||l()),i.current=null==o?void 0:o.command_id},[t,o,n,l])},ec=o("820694"),ep={};ep.styleTagTransform=N(),ep.setAttributes=b(),ep.insert=_().bind(null,"head"),ep.domAPI=f(),ep.insertStyleElement=w(),h()(ec.Z,ep);var em=ec.Z&&ec.Z.locals?ec.Z.locals:void 0,ev=e=>{var{shortcuts:t,onActiveShortcutChange:o,className:i,wrapperClassName:m,defaultId:v,uiMode:h="white",wrapperStyle:x,toolTipFooterSlot:f,onBeforeSendTemplateShortcut:g,onBeforeSendTextMessage:_,popoverTipShowBotInfo:y=!1}=e,b=(0,r.useRef)(null),[j,w]=(0,r.useState)(!1),[M,N]=(0,r.useState)(void 0),[I,T]=(0,r.useState)(!1),C=O(),z=(0,s.Lx)(),D=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];N(e);var n=(null==e?void 0:e.send_type)===u.nu.SendTypePanel&&!t;null==o||o(e,n),T(n)},A=e=>{var t=(0,c.Q$)(e);t&&S((0,c.Rw)(e),e),D(e,t),w(!1)},k=()=>{T(!1),D(void 0)},S=(e,t)=>{if(!!t){var{agent_id:o,object_id:n,components_list:l,tool_info:r}=t,i=!!(null==r?void 0:r.tool_name)&&!(null==l?void 0:l.length);C({shortcut:t,options:{extendFiled:{extra:{bot_state:JSON.stringify({agent_id:o,bot_id:n})}}},componentsFormValues:e,onBeforeSendTemplateShortcut:g,withoutComponentsList:i}),k()}};return(eu({shortcuts:t,activeShortcut:M,onActiveShortcutChange:o,onClear:()=>{N(void 0),T(!1)}}),null==t?void 0:t.length)?I&&M?(0,l.jsx)(p.n,{shortcut:M,onSubmit:e=>{if(!!M){var{agent_id:t,object_id:o}=M;C({shortcut:M,options:{extendFiled:{extra:{bot_state:JSON.stringify({agent_id:t,bot_id:o})}}},componentsFormValues:e,onBeforeSendTemplateShortcut:g}),k()}},visible:I,onClose:()=>{D(void 0)}}):(0,l.jsx)("div",{className:a()(em["shortcut-bar"],i,"flex justify-center items-center w-full"),children:(0,l.jsx)(d.J2,{content:(0,l.jsx)(H,{defaultId:v,shortcuts:t,onBeforeSendTextMessage:_,onSelect:A}),onVisibleChange:w,position:"topLeft",trigger:"custom",visible:j,spacing:{x:0,y:9},getPopupContainer:()=>b.current||document.body,onClickOutSide:()=>w(!1),onEscKeyDown:()=>w(!1),children:(0,l.jsx)("div",{ref:b,className:a()(m,"relative flex justify-start pb-4"),style:(0,n._)({maxWidth:z},x),children:(0,l.jsx)(d.Dj,{style:{width:"100%"},minVisibleItems:1,items:t,visibleItemRenderer:e=>(0,l.jsxs)(l.Fragment,{children:[e.send_type===u.nu.SendTypeQuery&&(0,l.jsx)(ei,{uiMode:h,shortcut:e,onBeforeSend:_,toolTipFooterSlot:f,popoverTipShowBotInfo:y,onClick:()=>A(e)},e.command_id),e.send_type===u.nu.SendTypePanel&&(0,l.jsx)(es,{uiMode:h,shortcut:e,toolTipFooterSlot:f,popoverTipShowBotInfo:y,onClick:()=>A(e)},e.command_id)]}),overflowRenderer:e=>e.length?(0,l.jsx)(ed,{uiMode:h,isLoadMoreActive:j,shortcuts:t,onOpen:()=>w(!0),onClose:()=>w(!1),getPopupContainer:()=>b.current}):null})})})}):null};o("999709");var eh=o("956341"),ex=o("882979"),ef=e=>{var{bizScene:t,showBackground:o}=e;if("agentApp"===t)return"grey";if("home"===t)return o?"blur":"white";if("store"===t||"debug"===t||"websdk"===t)return o?"blur":"grey";return(0,ex.Sn)(t),"white"}},81973:function(e,t,o){o.d(t,{n:()=>et});var n=o("938809"),l=o("723530"),r=o("396842"),i=o("168074"),a=o("666428"),s=o("819125"),d=o("273094"),u=()=>{var e=(0,r.CJ)(),t=(0,r.ag)();return o=>{var n,l,{file:r,onProgress:i,onError:a,onSuccess:s}=o,u=e("upload-plugin");if(!!u){var c=new u({file:r,type:(null===(n=(0,d.hr)(r))||void 0===n?void 0:n.fileType)==="image"?"image":"object",conversationId:null!=t?t:void 0}),p=!1,m=50,v=()=>{m<85&&(m+=5,null==i||i(m))},h=setTimeout(()=>{p=!0,l=window.setInterval(v,100)},1500);c.on("progress",e=>{var{percent:t}=e;if(!p)h&&x(),null==i||i(t)}),c.on("error",e=>{null==a||a({status:e.extra.errorCode}),x()}),c.on("complete",e=>{var{uploadResult:{Url:t,Uri:o,ImageHeight:n=0,ImageWidth:l=0}}=e;null==s||s({uri:o||"",url:t||o||"",width:l,height:n}),x()})}function x(){clearTimeout(h),clearInterval(l),l=void 0,l=void 0,p=!1}}},c=o("341333"),p=o("556923"),m=(0,l.createContext)({isSendMessageLock:!1}),v=o("265489"),h=o("856306"),x=o.n(h),f=o("16242"),g=o("866466"),_=o.n(g),y=o("462669"),b=o.n(y),j=o("318249"),w=o.n(j),M=o("294754"),N=o.n(M),I=o("13355"),T=o.n(I),C=o("876846"),z=o.n(C),D=o("156525"),A={};A.styleTagTransform=z(),A.setAttributes=N(),A.insert=w().bind(null,"head"),A.domAPI=b(),A.insertStyleElement=T(),_()(D.Z,A);var k=D.Z&&D.Z.locals?D.Z.locals:void 0,S=e=>{var{name:t,description:o,required:l=!0}=e;return(0,n.jsxs)("div",{className:"w-full flex items-center px-2 mb-[2px]",children:[(0,n.jsx)(i.l0.Label,{text:(0,n.jsx)(i.ZT.Text,{ellipsis:{showTooltip:!0},className:k.text,children:t}),required:l,className:k.label}),!!o&&(0,n.jsx)(i.u,{content:o,children:(0,n.jsx)(a.aUG,{className:k.icon})})]})},E=o("484355"),L=o("55722"),Z={};Z.styleTagTransform=z(),Z.setAttributes=N(),Z.insert=w().bind(null,"head"),Z.domAPI=b(),Z.insertStyleElement=T(),_()(L.Z,Z);var O=L.Z&&L.Z.locals?L.Z.locals:void 0,U=e=>{var t,o,{file:l,disabled:r,inputType:s,onRemove:u,onRetry:c}=e,p="uploadFail"===l.status,m="uploading"===l.status,v=l.fileInstance&&(null===(t=(0,d.hr)(l.fileInstance))||void 0===t?void 0:t.fileType),h=v&&(null===(o=(0,E.Td)(v))||void 0===o?void 0:o.icon);return(0,n.jsxs)("div",{className:x()(O.file,"flex border border-solid rounded-lg items-center w-full coz-stroke-primary",{[O["file-uploading"]||""]:m}),style:{"--var-percent":"".concat(l.percent,"%")},children:[(0,n.jsx)("img",{src:null!=h?h:l.url,className:x()("w-6 h-6","image"===v&&"rounded border border-solid coz-stroke-primary")}),(0,n.jsx)(i.ZT.Text,{ellipsis:!0,className:"mx-2 flex-1 text-sm",children:l.name}),p?(0,n.jsxs)("div",{onClick:e=>{e.stopPropagation(),!r&&c()},className:O.retry,children:[(0,n.jsx)(a.bMz,{className:"coz-fg-hglt-red"}),(0,n.jsx)("div",{children:f.o.t("Retry")})]}):null,(0,n.jsx)(i.hU,{className:x()("close-btn w-5 h-5",O["delete-btn"]),disabled:r,onClick:e=>{e.stopPropagation(),u()},theme:"borderless",size:"small",icon:(0,n.jsx)(a.s3j,{className:O["delete-icon"]})})]})},P=e=>{var{value:t,name:o,uploadFile:r,onChange:s,inputType:d,disabled:u,toggle:m}=e,h=(0,p._)(e,["value","name","uploadFile","onChange","inputType","disabled","toggle"]),[g,_]=(0,l.useState)(),y=(0,i.CP)(o),b=(0,l.useRef)(null==g?void 0:g.uid),j=e=>{e.fileInstance&&(_((0,v._)((0,c._)({},e),{percent:0,status:"uploading"})),y.setError(!0),b.current=null==e?void 0:e.uid,null==r||r({file:e.fileInstance,onProgress:t=>{if(b.current===e.uid)_((0,v._)((0,c._)({},e),{percent:t,status:"uploading"}))},onSuccess:t=>{var{uri:o,url:n,width:l=0,height:r=0}=t;if(b.current===e.uid)null==s||s({fileInstance:e.fileInstance,uri:o,url:n,width:l,height:r}),_((0,v._)((0,c._)({},e),{response:n,percent:100,status:"success"}))},onError:()=>{if(b.current===e.uid)y.setError(!1),_((0,v._)((0,c._)({},e),{status:"uploadFail"}))}}))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.gq,(0,v._)((0,c._)({action:"",className:"w-full",draggable:!0,limit:1},h),{disabled:u,onAcceptInvalid:()=>{i.FN.error(f.o.t("shortcut_Illegal_file_format"))},onSizeError:()=>{h.maxSize&&i.FN.error(f.o.t("file_too_large",{max_size:"".concat(h.maxSize/1024,"MB")}))},customRequest:e=>{var{onSuccess:t}=e;t("")},showUploadList:!1,onChange:e=>{var t,{currentFile:o}=e;b.current!==o.uid&&(!h.maxSize||(null===(t=o.fileInstance)||void 0===t?void 0:t.size)&&o.fileInstance.size<=1024*h.maxSize)&&j(o)},children:g?(0,n.jsx)(U,{file:g,inputType:d,onRemove:()=>{b.current=void 0,_(void 0),null==s||s(""),setTimeout(()=>{y.setError(!0)})},onRetry:()=>{g&&j(g)}}):(0,n.jsx)(i.y3,{icon:(0,n.jsx)(a.N_R,{}),disabled:u,className:x()(O["upload-button"],"w-full"),children:(0,n.jsx)("span",{className:O["upload-button-text-short"],children:f.o.t("shortcut_component_upload_component_placeholder")})})})),!g&&(0,n.jsx)(i.hU,{disabled:u,icon:(0,n.jsx)(a.xu0,{}),onClick:m})]})},W=e=>{var{disabled:t,onChange:o,toggle:l}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.u3,{disabled:t,onChange:o,className:O.input}),(0,n.jsx)(i.hU,{disabled:t,icon:(0,n.jsx)(a.s3j,{}),onClick:l})]})},R=(0,i.Q2)(e=>{var[t,o]=(0,l.useState)(!1),r="error"===e.validateStatus,a=(0,i.CP)(e.name);return(0,l.useEffect)(()=>{setTimeout(()=>{var t;null===(t=e.onChange)||void 0===t||t.call(e,""),setTimeout(()=>{a.setError(!0)})})},[t]),(0,n.jsx)("div",{className:x()("flex items-center justify-start gap-2",O.container,r&&O["container-error"]),children:t?(0,n.jsx)(W,(0,c._)({toggle:()=>{o(!1)}},e)):(0,n.jsx)(P,(0,c._)({toggle:()=>{o(!0)}},e))})}),V=e=>e.map(e=>e.required?(0,v._)((0,c._)({},e),{validator:(e,t)=>!!(null==t?void 0:t.trim())}):e),$=()=>(0,l.useContext)(m),B=o("812476"),Q={};Q.styleTagTransform=z(),Q.setAttributes=N(),Q.insert=w().bind(null,"head"),Q.domAPI=b(),Q.insertStyleElement=T(),_()(B.Z,Q);var F=B.Z&&B.Z.locals?B.Z.locals:void 0,Y=e=>{var{context:{readonly:t,dsl:o},props:{formFields:n=[]}}=e,l=(0,i.cl)(),r=n.some(e=>{var t,n,r,i=!l.values[e],a=!!(null===(t=l.errors)||void 0===t?void 0:t[e]),d=null===(r=(0,s.y3)(o,e))||void 0===r?void 0:null===(n=r.props)||void 0===n?void 0:n.defaultValue;return(null==d?void 0:d.value)?a:a||i}),{isSendMessageLock:a}=$();return t||r||a},G={"@flowpd/cici-components/Input":e=>{var{context:{readonly:t},props:{name:o,description:l,rules:r,defaultValue:a}}=e,s=(0,p._)(e.props,["name","description","rules","defaultValue"]),d=!(null==a?void 0:a.value);return(0,n.jsxs)("div",{children:[(0,n.jsx)(S,{required:d,name:o,description:l}),(0,n.jsx)(i.l0.Input,(0,c._)({disabled:t,fieldStyle:{padding:0},placeholder:null==a?void 0:a.value,className:"w-full",field:o,noLabel:!0,rules:V(r)},s))]})},"@flowpd/cici-components/Select":e=>{var{context:{readonly:t},props:{name:o,description:l,defaultValue:r}}=e,a=(0,p._)(e.props,["name","description","defaultValue"]),s=!(null==r?void 0:r.value);return(0,n.jsxs)("div",{children:[(0,n.jsx)(S,{name:o,description:l,required:s}),(0,n.jsx)(i.N5,(0,c._)({disabled:t,fieldStyle:{padding:0},className:"w-full",field:o,initValue:null==r?void 0:r.value,noLabel:!0},a))]})},"@flowpd/cici-components/Upload":e=>{var{context:{uploadFile:t,readonly:o},props:{name:l,description:r,rules:i}}=e,a=(0,p._)(e.props,["name","description","rules"]);return(0,n.jsxs)("div",{children:[(0,n.jsx)(S,{name:l,description:r}),(0,n.jsx)(R,(0,c._)({field:l,noLabel:!0,name:l,fieldStyle:{padding:0},uploadFile:t,disabled:o,rules:o?void 0:i},a))]})},"@flowpd/cici-components/Placeholder":()=>(0,n.jsx)("div",{className:"flex items-center justify-center rounded-lg coz-bg-plus text-center text-xs font-medium coz-fg-secondary ",style:{height:58},children:f.o.t("shortcut_modal_components")}),"@flowpd/cici-components/ColumnLayout":e=>{var{children:t}=e;return(0,n.jsx)("div",{className:"flex items-center justify-between w-full mb-3 gap-2",children:t})},"@flowpd/cici-components/Form":e=>{var{context:{onChange:t,onSubmit:o,dsl:r},children:a}=e,d=(0,l.useRef)();return(0,n.jsx)(i.l0,{className:"w-full",autoComplete:"off",getFormApi:e=>d.current=e,onChange:e=>null==t?void 0:t(e.values),onSubmit:e=>{if(!!o){var t=(0,s.lD)(r),n=Object.entries(e).reduce((e,o)=>{var[n,l]=o,r=t.find(e=>e.id===n);return r&&!l?e[n]=r.defaultValue:e[n]=l,e},{});t.forEach(e=>{var{id:t,defaultValue:o}=e;t&&!(t in n)&&(n[t]=o)}),o(n)}},children:a})},"@flowpd/cici-components/PageContainer":e=>{var{children:t}=e;return(0,n.jsx)(n.Fragment,{children:t})},"@flowpd/cici-components/Button":e=>{var{context:t,props:o}=e,l=Y({context:t,props:o});return(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)(i.hU,{theme:"borderless",className:F.button,htmlType:"submit",size:"small",disabled:l,icon:(0,n.jsx)(a.h9l,{})})})}},q=e=>{var t,o,n,l;return null!==(l=e.children)&&void 0!==l?l:null===(t=null!==(n=null===(o=e.props)||void 0===o?void 0:o.Columns)&&void 0!==n?n:[])||void 0===t?void 0:t.reduce((e,t)=>(t.children&&e.push(...t.children),e),[])},X=e=>{var{elementId:t}=e,o=(0,p._)(e,["elementId"]),{dsl:l}=o,r=null==l?void 0:l.elements[t],i=(null==r?void 0:r.type)||"",a=i in G?G[i]:null,s=r&&q(r);return a?(0,n.jsx)(a,{context:o,props:null==r?void 0:r.props,children:null==s?void 0:s.map(e=>(0,n.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,n.jsx)(X,(0,c._)({elementId:e},o),e)}))}):null},H=e=>{var{dsl:t}=e,o=(0,p._)(e,["dsl"]),l=(0,r.Br)();return(0,n.jsx)(m.Provider,{value:{isSendMessageLock:l},children:(0,n.jsx)(X,(0,c._)({elementId:t.rootID,dsl:t},o))})},J=o("567667"),K={};K.styleTagTransform=z(),K.setAttributes=N(),K.insert=w().bind(null,"head"),K.domAPI=b(),K.insertStyleElement=T(),_()(J.Z,K);var ee=J.Z&&J.Z.locals?J.Z.locals:void 0,et=e=>{var t,{shortcut:o,onClose:d,visible:c,readonly:p,onSubmit:m}=e,v=(0,l.useRef)(null),h=u(),x=(0,r.Lx)(),f=(0,l.useMemo)(()=>{var e,t,n=null!==(t=null===(e=o.components_list)||void 0===e?void 0:e.filter(e=>!e.hide))&&void 0!==t?t:[];return(0,s.Wo)(n)},[o.components_list]);return c?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{ref:v,className:ee["shortcut-template"],style:{width:"calc(".concat(x," - 48px)")},children:[(0,n.jsxs)("div",{className:"flex items-center text-sm coz-fg-primary px-4 py-[6px] coz-bg-primary rounded-t-3xl h-8",children:[(null===(t=o.shortcut_icon)||void 0===t?void 0:t.url)?(0,n.jsx)("img",{src:o.shortcut_icon.url,alt:"icon",className:"mr-1 h-[14px]"}):null,(0,n.jsx)("div",{children:o.command_name}),(0,n.jsx)(i._3,{icon:(0,n.jsx)(a.ses,{}),onClick:d,wrapperClass:"ml-auto"})]}),(0,n.jsx)("div",{className:"p-3",children:(0,n.jsx)(H,{uploadFile:e=>{var{file:t,onError:o,onProgress:n,onSuccess:l}=e;null==h||h({file:t,onProgress:n,onError:o,onSuccess:l})},readonly:p,onSubmit:e=>{null==m||m(e)},dsl:f})})]})}):null}},999709:function(e,t,o){o.d(t,{D:()=>eD});var n=o("255721"),l=o("938809"),r=o("723530"),i=o("353774"),a=o("16242"),s=o("168074"),d=o("666428"),u=o("495159"),c=o("188612"),p=o("230409"),m=o("684838"),v=o("300779"),h=o("341333"),x=o("265489"),f=o("556923"),g=o("856306"),_=o.n(g),y=o("61888"),b=o("182956"),j=e=>e.map(e=>(0,x._)((0,h._)({},e),{id:(0,v.h1)()})),w=e=>e.map(e=>{var{id:t,options:o}=e,n=(0,f._)(e,["id","options"]);return(0,x._)((0,h._)({},n),{options:n.input_type===u.n$.Select?o:[]})}),M=(e,t)=>{var o={};return e.forEach((e,t)=>{if(e.name){if(o[e.name]){var n;null===(n=o[e.name])||void 0===n||n.push(t)}else o[e.name]=[t]}}),setTimeout(()=>{Object.entries(o).forEach(e=>{var[o,n]=e,l=n.length>1;n.forEach(e=>{t.setError("values.".concat(e,".name"),!l)})})}),Object.entries(o).some(e=>{var[t,o]=e;return o.length>1})},N=()=>({type:"text"}),I={text:()=>({input_type:u.n$.TextInput}),select:e=>{var{type:t}=e;if("select"===t)return{input_type:u.n$.Select,options:e.options}},upload:e=>{if("upload"===e.type){var{uploadTypes:t}=e;return t.length>1?{input_type:u.n$.MixUpload,upload_options:t}:{input_type:t.at(0),upload_options:void 0}}}},T=e=>{var{type:t}=e,o=I[t],n=o&&o(e);return n?n:{input_type:u.n$.TextInput}},C=e=>[u.n$.UploadImage,u.n$.UploadDoc,u.n$.UploadTable,u.n$.UploadAudio,u.n$.CODE,u.n$.ARCHIVE,u.n$.PPT,u.n$.VIDEO,u.n$.TXT,u.n$.MixUpload].includes(e),z={[u.n$.TextInput]:()=>({type:"text"}),[u.n$.Select]:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"select",options:e}},upload:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"upload",uploadTypes:e}}},D=e=>{var{input_type:t,options:o,upload_options:n}=e;if(!t)return N();if(C(t))return(0,z.upload)(n);var l=z[t];return l?l(o):N()},A=e=>{var{components:t,record:o,checked:n}=e;return t.map(e=>e.id===o.id?(0,x._)((0,h._)({},e),{hide:!n}):e)},k=e=>{var t,o,{components:n,record:l,toolInfo:r}=e,{default_value:i}=null!=l?l:{},a=!!(null==i?void 0:i.value);var s=(null==r?!void 0:!r.tool_name)||!!(null==r?void 0:null===(o=r.tool_params_list)||void 0===o?void 0:null===(t=o.find(e=>e.name===l.parameter))||void 0===t?void 0:t.required),d=l.hide&&n.filter(e=>!e.hide).length>=10;return s&&!a||d},S=o("602831"),E=o("484355"),L=o("866466"),Z=o.n(L),O=o("462669"),U=o.n(O),P=o("318249"),W=o.n(P),R=o("294754"),V=o.n(R),$=o("13355"),B=o.n($),Q=o("876846"),F=o.n(Q),Y=o("990168"),G={};G.styleTagTransform=F(),G.setAttributes=V(),G.insert=W().bind(null,"head"),G.domAPI=U(),G.insertStyleElement=B(),Z()(Y.Z,G);var q=Y.Z&&Y.Z.locals?Y.Z.locals:void 0,{Checkbox:X,CheckboxGroup:H}=s.l0,J=[u.n$.UploadImage,u.n$.UploadAudio,u.n$.UploadDoc,u.n$.UploadTable,u.n$.CODE,u.n$.ARCHIVE,u.n$.PPT,u.n$.VIDEO,u.n$.TXT],K=e=>{var{value:t=J,onChange:o}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"coz-fg-plus text-[16px] font-medium",children:a.o.t("shortcut_modal_upload_component_supported_file_formats")}),(0,l.jsx)(H,{field:"values.uploadTypes",onChange:e=>{null==o||o(e)},initValue:t,className:_()("flex flex-wrap flex-row",q["upload-content"]),noLabel:!0,noErrorMessage:!0,rules:[{validator:(e,t)=>!!(null==t?void 0:t.length),message:a.o.t("shortcut_modal_please_select_file_formats_for_upload_component_tip")}],children:E.W_.map(e=>{var{type:o,label:n,icon:r}=e;return(0,l.jsx)("div",{className:"flex-1 basis-1/2",children:(0,l.jsx)(X,{className:"flex-row-reverse justify-end",noLabel:!0,defaultChecked:null==t?void 0:t.includes(o),value:o,children:(0,l.jsxs)("div",{className:"flex gap-1",children:[(0,l.jsx)("img",{src:r,alt:n,className:"w-5 h-[25px] mr-2"}),n]})})},o)})})]})},ee=o("272391"),et=Symbol.for("chat-area-plugins-chat-shortcuts-component-options-dnd-list"),eo=e=>{var{options:t,onChange:o}=e,n=t.length>1,i=(0,r.useMemo)(()=>e=>{var{data:i,connect:u}=e,c=(0,r.useRef)(null),p=(0,r.useRef)(null);return u(c,p),(0,l.jsxs)("div",{ref:c,className:"flex items-center mb-6 last:mb-0",children:[(0,l.jsx)(s.u3,{className:"flex-1",value:i.value,maxLength:20,onChange:e=>{o(t=>{var o=t.findIndex(e=>e.id===i.id);return t.splice(o,1,{value:e,id:i.id}),[...t]})}}),(0,l.jsx)("div",{className:"ml-2",ref:p,children:(0,l.jsx)(s.hU,{size:"small",className:n?"cursor-grab":"",icon:(0,l.jsx)(d.SdY,{}),disabled:!n,theme:"borderless",type:"tertiary"})}),(0,l.jsx)("div",{className:"ml-2",children:(0,l.jsx)(s.u,{content:a.o.t("Remove"),children:(0,l.jsx)(s.hU,{size:"small",icon:(0,l.jsx)(d.bQR,{}),type:"tertiary",theme:"borderless",disabled:t.length<=1,onClick:()=>{o(e=>e.filter(e=>e.id!==i.id))}})})})]})},[n]);return(0,l.jsx)(ee.c,{type:et,list:t,itemRender:i,onChange:o,enabled:n})},en=(0,s.Q2)(e=>{var{value:t,onChange:o,hasError:n}=e,[i,u]=(0,r.useState)([]);return(0,r.useEffect)(()=>{u(((null==t?void 0:t.length)?t:[""]).map(e=>({value:e,id:(0,v.h1)()})))},[]),(0,r.useEffect)(()=>{var e=i.map(e=>{var t;return null===(t=e.value)||void 0===t?void 0:t.trim()}).filter(e=>!!e);null==o||o(e)},[i]),(0,l.jsxs)("div",{className:"flex flex-col items-start",children:[(0,l.jsx)("div",{className:"coz-fg-plus mb-[14px] font-medium",children:a.o.t("shortcut_modal_selector_component_options")}),(0,l.jsx)("div",{className:"flex justify-between",children:(0,l.jsx)(s.y3,{size:"small",type:"tertiary",theme:"borderless",disabled:i.length>=20,icon:(0,l.jsx)(d.N_R,{}),className:"!coz-fg-hglt text-sm font-medium",onClick:()=>{u([...i,{value:"",id:(0,v.h1)()}])},children:a.o.t("shortcut_modal_selector_component_options")})}),(0,l.jsx)("div",{className:"max-h-40 my-6 overflow-y-auto",children:(0,l.jsx)(eo,{options:i,onChange:u})})]})}),el=e=>{var t,o=(0,s.tL)(e.field),n=(0,s.CP)(e.field);return(0,l.jsx)("div",{onMouseEnter:()=>n.setError(""),children:(0,l.jsx)(en,(0,x._)((0,h._)({},e),{pure:!0,hasError:!!(null===(t=o.error)||void 0===t?void 0:t.length),trigger:"custom",rules:[{validator:(e,t)=>!!(null==t?void 0:t.length),message:a.o.t("shortcut_modal_selector_component_no_options_error")}]}))})},er=e=>{var{type:t}=e;return"text"===t?{type:t}:"select"===t?{type:t,options:e.options}:"upload"===t?{type:t,uploadTypes:e.uploadTypes}:e},{RadioGroup:ei,Radio:ea}=s.l0,es={text:a.o.t("shortcut_component_type_text"),select:a.o.t("shortcut_component_type_selector"),upload:a.o.t("shortcut_modal_components_modal_upload_component")},ed=e=>{var t,{value:o,onSubmit:i,disabled:d=!1}=e,[u,c]=(0,r.useState)(o),[p,m]=(0,r.useState)(o),[v,h]=(0,r.useState)(!1),x=(0,r.useRef)(null);var f=(t=(0,n._)(function*(){var e;if(yield null===(e=x.current)||void 0===e?void 0:e.formApi.validate()){if(!p)return;null==i||i(p),c(p),h(!1)}}),function(){return t.apply(this,arguments)});return(0,r.useEffect)(()=>{c(o)},[o]),(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.J2,{trigger:"custom",footer:null,visible:v,position:"topRight",onClickOutSide:()=>h(!1),content:()=>(0,l.jsxs)("div",{className:"p-6 w-[288px]",children:[(0,l.jsx)(eu,{ref:x,value:u,onChange:m}),(0,l.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,l.jsx)(b.Button,{color:"highlight",onClick:()=>h(!1),children:a.o.t("cancel")}),(0,l.jsx)(b.Button,{onClick:f,children:a.o.t("Confirm")})]})]}),children:(0,l.jsx)(s.u3,{className:_()("w-full",d&&"!pointer-events-auto"),suffix:(0,l.jsx)(S.Z,{onClick:()=>h(!v)}),placeholder:a.o.t("shortcut_modal_selector_component_default_text"),value:es[null==u?void 0:u.type],onClick:()=>h(!v),disabled:d,readonly:!0})})})})})},eu=(0,r.forwardRef)((e,t)=>{var{value:o,onChange:i}=e,[d,u]=(0,r.useState)(o.type),c=ec(o),p=(0,r.useRef)(null);return(0,r.useImperativeHandle)(t,()=>({formApi:{validate:(0,n._)(function*(){try{var e,t;if("select"===d)return!!(yield null===(e=p.current)||void 0===e?void 0:e.formApi.validate(["values.options"]));if("upload"===d)return!!(yield null===(t=p.current)||void 0===t?void 0:t.formApi.validate(["values.uploadTypes"]));return!0}catch(e){if("select"===d){var o,n=null==e?void 0:null===(o=e.values)||void 0===o?void 0:o.options;n&&s.FN.error(n)}if("upload"===d){var l,r=null==e?void 0:null===(l=e.values)||void 0===l?void 0:l.uploadTypes;r&&s.FN.error(r)}return!1}})}})),(0,l.jsxs)(s.l0,{autoComplete:"off",ref:p,initValues:{values:o},className:"flex flex-col gap-6",onValueChange:e=>{var{values:t}=e;null==i||i(er(t))},children:[(0,l.jsx)("div",{className:"coz-fg-plus text-[16px] font-medium",children:a.o.t("shortcut_modal_components_modal_component_type")}),(0,l.jsx)(ei,{fieldStyle:{padding:0},className:"flex flex-col !p-0 gap-3",defaultValue:d,field:"values.type",noLabel:!0,onChange:e=>{u(e.target.value)},children:Object.entries(c).map(e=>{var[t,{label:o}]=e;return(0,l.jsx)(ea,{value:t,children:o})})}),Object.entries(c).map(e=>{var[t,{render:o}]=e;return(0,l.jsx)("div",{className:_()({hidden:t!==d}),children:null==o?void 0:o()},t)})]})}),ec=e=>({text:{label:a.o.t("shortcut_component_type_text")},select:{label:a.o.t("shortcut_component_type_selector"),render:()=>(0,l.jsx)(el,{field:"values.options",value:null==e?void 0:e.options})},upload:{label:a.o.t("shortcut_modal_components_modal_upload_component"),render:()=>(0,l.jsx)(K,{value:null==e?void 0:e.uploadTypes})}}),{Text:ep}=s.ZT,em=e=>{var{toolInfo:t,parameter:o}=e,{tool_params_list:n=[]}=t,{name:r,type:i,required:s,desc:u}=n.find(e=>e.name===o)||{};return(0,l.jsxs)("div",{className:"px-2 flex items-center justify-center coz-fg-secondary max-w-[86px]",children:[(0,l.jsx)(ep,{className:"mr-1",ellipsis:!0,children:r}),(0,l.jsx)(b.Tooltip,{className:"max-w-[226px]",content:(0,l.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(ep,{ellipsis:{showTooltip:{opts:{content:r||"",position:"top"}}},children:(0,l.jsx)("span",{className:"text-sm font-medium mr-[9px]",children:r||"-"})}),(0,l.jsx)("span",{className:"rounded coz-mg-primary px-[6px] py-[1px] mr-[3px]",children:i}),!!s&&(0,l.jsx)("span",{className:"rounded coz-mg-primary px-[6px] py-[1px]",children:a.o.t("workflow_add_parameter_required")})]}),(0,l.jsx)("span",{className:"mt-[3px] coze-fg-primary text-sm",children:u||"-"})]},r),children:(0,l.jsx)(d.aUG,{})})]})},ev=()=>(0,l.jsx)(s.u3,{disabled:!0}),eh=(0,s.Q2)(e=>{var{value:t,onSelect:o}=e,n=(0,f._)(e,["value","onSelect"]);return(0,l.jsx)(s.Ph,(0,x._)((0,h._)({},n),{showClear:!!(null==t?void 0:t.value),onClear:()=>{null==o||o({type:u.n$.TextInput,value:""})},value:null==t?void 0:t.value,onSelect:e=>{var n={type:(null==t?void 0:t.type)||u.n$.TextInput,value:e};return null==o||o(n),n}}))},{valueKey:"value",onKeyChangeFnName:"onSelect"}),ex=(0,s.Q2)(e=>{var{value:t,onChange:o}=e,n=(0,f._)(e,["value","onChange"]);return(0,l.jsx)(s.u3,(0,x._)((0,h._)({value:null==t?void 0:t.value},n),{maxLength:100,onChange:e=>{var n={type:(null==t?void 0:t.type)||u.n$.TextInput,value:e};return null==o||o(n),n}}))},{valueKey:"value",onKeyChangeFnName:"onChange"}),ef=e=>{var{componentType:t,field:o,disabled:n=!1}=e,{type:r}=t;return"text"===r?(0,l.jsx)(ex,{noLabel:!0,value:{type:u.n$.TextInput,value:""},field:o,noErrorMessage:!0,placeholder:a.o.t("shortcut_modal_use_tool_parameter_default_value_placeholder"),disabled:n}):"select"===r?(0,l.jsx)(eh,{value:{type:u.n$.TextInput,value:""},noLabel:!0,style:{width:"100%"},field:o,noErrorMessage:!0,optionList:t.options.map(e=>({label:e,value:e})),disabled:n}):"upload"===r?(0,l.jsx)(ev,{}):(0,l.jsx)(l.Fragment,{})},eg=e=>{var{disabled:t,children:o}=e,n=(0,f._)(e,["disabled","children"]);return t?(0,l.jsx)(l.Fragment,{children:o}):(0,l.jsx)(s.u,(0,x._)((0,h._)({},n),{children:o}))},e_=e=>{var{components:t,onChange:o,toolType:n,disabled:r,toolInfo:i}=e,u=!r,c=void 0===n;return{key:"operation",title:null,width:c?"80px":"40px",render:(e,n)=>(0,l.jsxs)("div",{className:"flex items-center pl-[12px]",children:[(0,l.jsx)(b.Switch,{checked:!n.hide,disabled:k({components:t,record:n,toolInfo:i}),size:"mini",onChange:e=>null==o?void 0:o(A({components:t,record:n,checked:e}))}),c?(0,l.jsx)("div",{className:"px-2",children:(0,l.jsx)(eg,{content:a.o.t("Remove"),disabled:!u,children:(0,l.jsx)(s.hU,{size:"small",theme:"borderless",type:"tertiary",disabled:!u,icon:(0,l.jsx)(d.bQR,{}),onClick:()=>{null==o||o(t.filter(e=>e.id!==n.id))}})})}):null]})}},ey=e=>{var{components:t,disabled:o}=e,n=t.length>1&&!o;return{name:{key:"name",title:(0,l.jsx)(s.l0.Label,{className:"leading-5 p-0 m-0",text:a.o.t("shortcut_modal_component_name"),required:!0}),width:1,render:(e,t,r)=>(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{id:eM,className:_()("px-[2px]",n?"cursor-grab":"cursor-not-allowed"),children:(0,l.jsx)(d.IsH,{})}),(0,l.jsx)(s.l0.Input,{noLabel:!0,maxLength:20,field:"values.[".concat(r,"].name"),noErrorMessage:!0,placeholder:a.o.t("shortcut_modal_component_name"),rules:[{required:!0}],disabled:o||t.hide})]})},description:{key:"description",title:(0,l.jsx)(s.l0.Label,{className:"leading-5 p-0 m-0",text:a.o.t("Description")}),width:"190px",render:(e,t,n)=>(0,l.jsx)("div",{className:"pl-[2px]",children:(0,l.jsx)(s.l0.Input,{noLabel:!0,maxLength:100,field:"values.[".concat(n,"].description"),noErrorMessage:!0,placeholder:a.o.t("Description"),disabled:o||t.hide})})},inputType:{key:"input_type",title:(0,l.jsx)(s.l0.Label,{className:"leading-5 p-0 m-0",text:a.o.t("shortcut_modal_component_type"),required:!0}),render:(t,n,r)=>(0,l.jsx)("div",{className:"pl-[2px]",children:(0,l.jsx)(ed,{value:D({input_type:n.input_type,options:n.options,upload_options:n.upload_options}),disabled:o||n.hide,onSubmit:t=>{var o,{input_type:n,options:l,upload_options:i}=T(t);null==e||null===(o=e.onChange)||void 0===o||o.call(e,e.components.map((e,t)=>t===r?(0,x._)((0,h._)({},e),{input_type:n,options:l,default_value:{value:""},upload_options:i}):e))}})})},defaultValue:{key:"default_value",title:(0,l.jsx)(s.l0.Label,{className:"leading-5 p-0 m-0",text:a.o.t("shortcut_modal_use_tool_parameter_default_value")}),render:(e,t,n)=>(0,l.jsx)("div",{className:"pl-[2px] max-w-[136px]",children:(0,l.jsx)(ef,{componentType:D({input_type:t.input_type,options:t.options,upload_options:t.upload_options}),field:"values.[".concat(n,"].default_value"),disabled:o||t.hide})})},parameter:{key:"parameter",title:(0,l.jsx)(s.l0.Label,{className:"leading-5 p-0 m-0",text:a.o.t("shortcut_modal_component_plugin_wf_parameter")}),dataIndex:"parameter",render:t=>(0,l.jsx)(em,{toolInfo:e.toolInfo,parameter:t})},operations:e_(e)}},eb=(e,t)=>Object.assign({},e,{width:t}),ej=e=>{var{toolType:t}=e,o=ey(e);return t===u.qK.ToolTypePlugin||t===u.qK.ToolTypeWorkFlow?[eb(o.name,"103px"),eb(o.description,"103px"),eb(o.inputType,"103px"),eb(o.defaultValue,"126px"),eb(o.parameter,"86px"),o.operations]:[eb(o.name,"125px"),eb(o.description,"125px"),eb(o.inputType,"125px"),eb(o.defaultValue,"136px"),o.operations]},ew=Symbol.for("chat-area-plugins-chat-shortcuts-components-table-item"),eM="chat-area-plugins-chat-shortcuts-components-drag-handle",eN={body:{row:e=>{var{id:t,onMove:o,children:n,sortable:i}=e,a=(0,r.useRef)(null),{connect:s}=(0,y.a)({type:ew,id:t,onMove:o,enabled:i});return(0,r.useEffect)(()=>{var e,t,o={current:null!==(t=null===(e=a.current)||void 0===e?void 0:e.querySelector("#".concat(eM)))&&void 0!==t?t:null};s(a,o)},[]),(0,l.jsx)("tr",{ref:a,children:n})}}},eI=o("221317"),eT={};eT.styleTagTransform=F(),eT.setAttributes=V(),eT.insert=W().bind(null,"head"),eT.domAPI=U(),eT.insertStyleElement=B(),Z()(eI.Z,eT);var eC=eI.Z&&eI.Z.locals?eI.Z.locals:void 0,ez=(e,t)=>(0,l.jsx)("div",{className:eC.empty,children:e?t?a.o.t("shortcut_modal_skill_has_no_param_tip"):a.o.t("shortcut_modal_skill_select_button"):a.o.t("shortcut_modal_form_to_be_filled_up_tip")}),eD=(0,r.forwardRef)((e,t)=>{var{components:o,onChange:h,toolType:x,disabled:f,toolInfo:g}=e,[_,y]=(0,r.useState)(j(o)),b=(0,r.useRef)(),N=e=>{var t;y(e),null===(t=b.current)||void 0===t||t.setValues({values:e},{isOverride:!0}),null==h||h(w(e))};(0,r.useImperativeHandle)(t,()=>({formApi:b.current?{validate:(0,n._)(function*(){for(var e,t,o=arguments.length,n=Array(o),l=0;l<o;l++)n[l]=arguments[l];if(_.some(e=>{var t;return e.input_type===u.n$.Select&&!(null===(t=e.options)||void 0===t?void 0:t.length)}))throw s.FN.error(a.o.t("shortcut_modal_selector_component_no_options_error")),Error("shortcut_modal_selector_component_no_options_error");if(b.current&&M(_,b.current))throw Error("duplicated names");var r=yield null===(e=b.current)||void 0===e?void 0:e.validate(...n);return w(null!==(t=null==r?void 0:r.values)&&void 0!==t?t:[])}),setValues:e=>{var t,o,n,l=j(e);y(l),null===(t=b.current)||void 0===t||t.setValues({values:l},{isOverride:!0}),null===(o=b.current)||void 0===o||o.setTouched("values",!1),null===(n=b.current)||void 0===n||n.setError("values","")}}:void 0}));var I=(e,t,o)=>{var n,l,r,i=[..._],a=i.findIndex(t=>t.id===e),s=(null===(n=b.current)||void 0===n?void 0:n.getError("values"))||[],d=s.splice(a,1)[0],u=i.splice(a,1)[0],c=i.findIndex(e=>e.id===t)+(o?0:1);u&&i.splice(c,0,u),s.splice(c,0,d),a!==c&&(N(i),null===(l=b.current)||void 0===l||l.setValues({values:i},{isOverride:!0}),null===(r=b.current)||void 0===r||r.setError("values",s))},T=void 0===x||![u.qK.ToolTypeWorkFlow,u.qK.ToolTypePlugin].includes(x),C=!!(null==g?void 0:g.tool_name),z=_.length>=10,D=(0,l.jsx)(m.Z,{icon:(0,l.jsx)(d.N_R,{}),disabled:z||f,onClick:()=>{N([..._,{id:(0,v.h1)(),input_type:u.n$.TextInput}])},children:a.o.t("add")}),A=z?(0,l.jsx)(s.u,{content:a.o.t("shortcut_modal_max_component_tip",{maxCount:10}),children:D}):D;return(0,l.jsxs)("div",{className:"pb-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between pb-1.5",children:[(0,l.jsx)(p.Z,{tip:(0,c.B)(),children:a.o.t("shortcut_modal_components")}),T?A:null]}),(0,l.jsx)(i.W,{children:(0,l.jsx)(s.l0,{initValues:{values:_},trigger:"custom",autoComplete:"off",disabled:f,getFormApi:e=>b.current=e,onValueChange:(e,t)=>{var o,n=Object.keys(t);1===n.length&&(null===(o=n[0])||void 0===o?void 0:o.startsWith("values.["))&&(N([...e.values]),setTimeout(()=>{var t;b.current&&M(e.values,b.current),null===(t=b.current)||void 0===t||t.validate([n[0]])}))},children:(0,l.jsx)("div",{className:eC.table,children:(0,l.jsx)(s.iA,{dataSource:_,size:"small",columns:ej({components:_,onChange:N,toolInfo:g,toolType:x,disabled:f}),components:eN,pagination:!1,onRow:e=>{var t,o;return{id:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"",sortable:(null!==(o=null==_?void 0:_.length)&&void 0!==o?o:0)>1&&!f,onMove:I}},empty:ez(!T,C)})})})})]})})},684838:function(e,t,o){var n=o(938809),l=o(168074),r=o(175003);t.Z=e=>{var{onClick:t,icon:o,children:i,disabled:a}=e;return(0,n.jsx)(l._3,{icon:o,wrapperClass:r.Z.btn,onClick:t,disabled:a,children:i})}},230409:function(e,t,o){o.d(t,{Q:function(){return c}});var n=o(341333),l=o(265489),r=o(938809);o(723530);var i=o(856306),a=o.n(i),s=o(182956),d=o(168074),u=o(666428),c=e=>{var{children:t,className:o,tooltip:i,tip:c,required:p=!1}=e;return(0,r.jsxs)("div",{className:"flex items-center mb-[6px]",children:[(0,r.jsx)(d.l0.Label,{text:t,className:"!coz-fg-primary !text-[14px] !leading-[20px] !m-0",required:p}),!!c&&(0,r.jsx)(s.Tooltip,(0,l._)((0,n._)({content:c},i),{children:(0,r.jsx)(u.aUG,{className:a()("coz-fg-secondary ml-[-12px]",o)})}))]})};t.Z=c},188612:function(e,t,o){o.d(t,{B:function(){return u},G:function(){return d}});var n=o(938809),l=o(16242),r={color:"var(--semi-color-primary-hover)"},i=e=>(0,n.jsxs)("span",{style:r,children:["{{",e,"}}"]}),a=i(l.o.t("shortcut_modal_query_message_hover_tip_component_mode_var1")),s=i(l.o.t("shortcut_modal_query_message_hover_tip_component_mode_var2")),d=()=>(0,n.jsxs)("div",{className:"p[16px] leading-[16px] text-[12px] font-normal coz-fg-secondary",children:[(0,n.jsx)("h2",{className:"m-0 mb-[12px] text-[14px] font-medium leading-[20px] coz-fg-plus",children:l.o.t("shortcut_modal_query_message_hover_tip_title")}),(0,n.jsxs)("ul",{className:"pl-[12px]",children:[(0,n.jsx)("li",{children:l.o.t("shortcut_modal_query_message_hover_tip_send_query_mode")}),(0,n.jsx)("li",{children:l.o.t("shortcut_modal_query_message_hover_tip_component_mode",{var1:a,var2:s})})]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"coz-fg-hglt-red w-[12px] inline-block",children:"*"}),l.o.t("shortcut_modal_query_message_hover_tip_how_to_insert_components")]})]}),u=()=>l.o.t("shortcut_modal_components_hover_tip",{var1:a,var2:s})},971975:function(e,t,o){o.d(t,{Hs:function(){return g},Q$:function(){return _},Rw:function(){return y},mj:function(){return s}});var n=o(341333),l=o(265489),r=o(495159),i=o(936428),a=o(819125),s=e=>{var t=(0,n._)({},e);d(t);var{send_type:o,use_tool:l=!1}=t;return h(t),v(t),o!==r.nu.SendTypeQuery||l?u(t):p(t),!l&&m(t),t},d=e=>{var t;(null==e?void 0:null===(t=e.components_list)||void 0===t?void 0:t.length)?e.send_type=r.nu.SendTypePanel:e.send_type=r.nu.SendTypeQuery},u=e=>{var{components_list:t,tool_info:{tool_params_list:o}={}}=e;if(!!t&&!!o)t.forEach(e=>{var{default_value:t,hide:n}=e,l=c(o,e);if(!!l)l.refer_component=!n,l.default_value=n?null==t?void 0:t.value:""})},c=(e,t)=>null==e?void 0:e.find(e=>e.name===t.parameter),p=e=>{e.tool_type=void 0,e.plugin_id="",e.work_flow_id="",e.plugin_api_name="",e.tool_info={tool_name:"",tool_params_list:[]},e.components_list=[],e.card_schema=""},m=e=>{var t;e.tool_type=void 0,e.plugin_id="",e.work_flow_id="",e.plugin_api_name="",e.tool_info={tool_name:"",tool_params_list:[]},null===(t=e.components_list)||void 0===t||t.forEach(e=>{e.parameter=""})},v=e=>{var{components_list:t}=e,o=t?(0,a.Wo)(t):"";e.card_schema=JSON.stringify(o)},h=e=>{var{shortcut_command:t}=e;t&&(e.shortcut_command="/".concat(t.trim()))},x=(e,t)=>{var o=e.slice();return t.forEach(t=>{var{name:n,default_value:l,desc:i,refer_component:a}=t;!e.find(e=>e.parameter===n)&&o.push({name:n,description:i,parameter:n,input_type:r.n$.TextInput,hide:!a,default_value:{type:r.n$.TextInput,value:l}})}),o},f=e=>e.map(e=>{var{input_type:t,upload_options:o}=e;return!(null==o?void 0:o.length)&&t&&[r.n$.UploadImage,r.n$.UploadDoc,r.n$.UploadTable,r.n$.UploadAudio].includes(t)?(0,l._)((0,n._)({},e),{upload_options:[t]}):e}),g=e=>{if(!e)return{send_type:r.nu.SendTypeQuery,use_tool:!1};var{shortcut_command:t,tool_type:o,components_list:a,tool_info:{tool_params_list:s=[]}={}}=e,d=f(x(null!=a?a:[],s));return(0,l._)((0,n._)({},e),{shortcut_command:null==t?void 0:t.replace(/^\//,""),use_tool:(0,i.GK)(o),components_list:d})},_=e=>{if((null==e?void 0:e.send_type)!==r.nu.SendTypePanel)return!1;var t,o,{tool_params_list:n,tool_name:l}=null!==(o=null==e?void 0:e.tool_info)&&void 0!==o?o:{};return l?!!(null==n?void 0:n.length)&&n.every(e=>!e.refer_component):!!(null==e?void 0:null===(t=e.components_list)||void 0===t?void 0:t.length)&&e.components_list.every(e=>e.hide)},y=e=>{var t,o,{tool_params_list:n,tool_name:l}=null!==(o=null==e?void 0:e.tool_info)&&void 0!==o?o:{};if(l)return(null==n?void 0:n.length)?n.reduce((e,t)=>{var o=t.name,n=null==t?void 0:t.default_value;return o&&n?(e[o]=n,e):e},{}):{};return(null==e?void 0:null===(t=e.components_list)||void 0===t?void 0:t.length)?e.components_list.reduce((e,t)=>{var o,n=t.name,{value:l}=null!==(o=null==t?void 0:t.default_value)&&void 0!==o?o:{};return n&&l?(e[n]=l,e):e},{}):{}}},819125:function(e,t,o){o.d(t,{y3:()=>y,Wo:()=>x,lD:()=>_});var n,l,r=o("495159"),i=o("300779"),a=o("484355");var s=((n={}).SLOT="slot",n.WORKSPACE_SLOT="workspaceSlot",n.EXPRESSION="expression",n.ACTION="action",n);var d=((l={}).EXPRESSION="expression",l),u=()=>({elements:{root:{id:"root",name:"Root",type:"@flowpd/cici-components/PageContainer",children:["form"],directives:{}},form:{id:"form",name:"FlowpdCiciComponentsForm",type:"@flowpd/cici-components/Form",props:{value:{type:s.EXPRESSION,value:"{{formValue}}"},onChange:{type:s.ACTION,value:"{{onChange}}"},ruls:{}},children:["submitButton"]},submitButton:{id:"submitButton",name:"FlowpdCiciComponentsButton",type:"@flowpd/cici-components/Button",props:{onClick:{type:s.ACTION,value:"{{onSubmit}}"}}}},rootID:"root",variables:{formValue:{id:"formValue",defaultValue:{}}},actions:{onSubmit:{id:"onSubmit",type:"submit",data:{type:d.EXPRESSION,value:"{{formValue}}"}},onChange:{id:"onChange",type:"updateVar",target:"formValue"}}}),c=e=>{var t=[],{input_type:o,upload_options:n}=e;return t=o===r.n$.MixUpload?null!=n?n:[]:o?[o]:[],(0,a.wT)(t)},p=e=>{var t;return{id:null!==(t=e.name)&&void 0!==t?t:(0,i.h1)(),name:"FlowpdCiciComponentsUpload",type:"@flowpd/cici-components/Upload",props:{name:e.name,description:e.description,maxSize:(e.input_type,r.n$.UploadImage,512e3),inputType:e.input_type,accept:c(e),rules:[{required:!0}],noErrorMessage:!0}}},m=()=>({id:(0,i.h1)(),name:"FlowpdCiciComponentsFormItemPlaceholder",type:"@flowpd/cici-components/Placeholder"}),v=e=>({id:(0,i.h1)(),name:"FlowpdCiciComponentsColumnLayout",type:"@flowpd/cici-components/ColumnLayout",props:{Columns:e.map(e=>({children:[e.id],config:{vertical:"top",weight:1,width:"weighted"},type:"slot"})),action:"enableUrl",backgroundColor:"transparent",enableClickEvent:!1}}),h={[r.n$.TextInput]:e=>{var t;return{id:null!==(t=e.name)&&void 0!==t?t:(0,i.h1)(),name:"FlowpdCiciComponentsInput",type:"@flowpd/cici-components/Input",props:{name:e.name,description:e.description,defaultValue:e.default_value,rules:[],noErrorMessage:!0}}},[r.n$.Select]:e=>{var t,o;return{id:null!==(o=e.name)&&void 0!==o?o:(0,i.h1)(),name:"FlowpdCiciComponentsSelect",type:"@flowpd/cici-components/Select",props:{name:e.name,description:e.description,defaultValue:e.default_value,optionList:null===(t=e.options)||void 0===t?void 0:t.map(e=>({label:e,value:e})),rules:[{required:!0}],noErrorMessage:!0}}},[r.n$.UploadImage]:p,[r.n$.UploadDoc]:p,[r.n$.UploadTable]:p,[r.n$.UploadAudio]:p,[r.n$.MixUpload]:p,[r.n$.PPT]:p,[r.n$.ARCHIVE]:p,[r.n$.CODE]:p,[r.n$.TXT]:p,[r.n$.VIDEO]:p},x=e=>{var t,o,n=e.map(f),l=g(n),r=u();return null===(o=r.elements.form)||void 0===o||null===(t=o.children)||void 0===t||t.unshift(...l.map(e=>e.id)),[...n,...l].forEach(e=>r.elements[e.id]=e),r.elements.submitButton.props.formFields=n.map(e=>e.id),r},f=e=>void 0!==e.input_type?h[e.input_type](e):m(),g=e=>{for(var t=[],o=[...e];o.length;)t.push(v(o.splice(0,2)));return t},_=e=>(null==e?void 0:e.elements)?Object.values(e.elements).map(e=>{var t,o=null==e?void 0:null===(t=e.props)||void 0===t?void 0:t.defaultValue;return{defaultValue:null==o?void 0:o.value,type:e.type,id:e.id}}).filter(e=>"@flowpd/cici-components/Input"===e.type&&!!e.defaultValue):[],y=(e,t)=>{var o;return(null==e?void 0:e.elements)?null!==(o=Object.values(e.elements).filter(e=>"@flowpd/cici-components/Input"===e.type).find(e=>e.id===t))&&void 0!==o?o:null:null}},484355:function(e,t,o){o.d(t,{Td:function(){return c},W_:function(){return a},wT:function(){return u}});var n=o(273268),l=o(273094),r=o(16242),i=o(495159),a=[{type:i.n$.UploadImage,label:r.o.t("shortcut_modal_upload_component_file_format_img"),icon:n.XB},{type:i.n$.UploadTable,label:r.o.t("shortcut_modal_upload_component_file_format_table"),icon:n.P8},{type:i.n$.UploadDoc,label:r.o.t("shortcut_modal_upload_component_file_format_doc"),icon:n.ti},{type:i.n$.UploadAudio,label:r.o.t("shortcut_modal_upload_component_file_format_audio"),icon:n.f4},{type:i.n$.CODE,label:r.o.t("shortcut_modal_upload_component_file_format_code"),icon:n.dN},{type:i.n$.ARCHIVE,label:r.o.t("shortcut_modal_upload_component_file_format_zip"),icon:n.eO},{type:i.n$.PPT,label:r.o.t("shortcut_modal_upload_component_file_format_ppt"),icon:n.Nl},{type:i.n$.VIDEO,label:r.o.t("shortcut_modal_upload_component_file_format_video"),icon:n.Od},{type:i.n$.TXT,label:r.o.t("shortcut_modal_upload_component_file_format_txt"),icon:n.VL}],s={[l.Wz.IMAGE]:i.n$.UploadImage,[l.Wz.AUDIO]:i.n$.UploadAudio,[l.Wz.PDF]:i.n$.UploadDoc,[l.Wz.DOCX]:i.n$.UploadDoc,[l.Wz.EXCEL]:i.n$.UploadTable,[l.Wz.CSV]:i.n$.UploadTable,[l.Wz.VIDEO]:i.n$.VIDEO,[l.Wz.PPT]:i.n$.PPT,[l.Wz.TXT]:i.n$.TXT,[l.Wz.ARCHIVE]:i.n$.ARCHIVE,[l.Wz.CODE]:i.n$.CODE,[l.Wz.DEFAULT_UNKNOWN]:i.n$.UploadDoc},d=l.Co.reduce((e,t)=>{var o=s[t.fileType];if(o){var n=e[o];n?e[o]="".concat(n,",").concat(t.accept.join(",")):e[o]=t.accept.join(",")}return e},{}),u=e=>{var t=[];for(var o of e){if(!o)continue;var n=d[o];if(!!n)t.push(...n.split(","))}return t.join(",")},c=e=>{var t=s[e];return t?a.find(e=>e.type===t):null}},936428:function(e,t,o){o.d(t,{GK:function(){return i},QU:function(){return a},bA:function(){return s},d$:function(){return d},ho:function(){return l},xc:function(){return r}});var n=o(495159),l=e=>{if(!e)return{tool_type:"",tool_name:"",plugin_id:"",plugin_api_name:"",tool_params_list:[]};var{tool_info:{tool_params_list:t=[],tool_name:o=""}={},tool_type:n,plugin_id:l,plugin_api_name:r,work_flow_id:i}=e;return{tool_type:n,tool_name:o,plugin_id:l,plugin_api_name:r,tool_params_list:t,work_flow_id:i}},r=e=>/^[a-zA-Z0-9_]+$/.test(e)&&!/^[0-9]+$/.test(e),i=e=>void 0!==e&&[n.qK.ToolTypeWorkFlow,n.qK.ToolTypePlugin].includes(e),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.length)return{isSuccess:t,inValidType:"empty"};var o=e.every(e=>{var{type:t}=e;return void 0!==t&&!["array","object"].includes(t)});return{isSuccess:o,inValidType:o?"":"complex"}},s=(e,t)=>{var{shortcut_command:o,command_id:n}=e;return!t.some(e=>n!==e.command_id&&e.shortcut_command===o)},d=(e,t)=>{var{command_name:o,command_id:n}=e;return!t.some(e=>n!==e.command_id&&e.command_name===o)}},300779:function(e,t,o){o.d(t,{h1:function(){return l}});var n=o(306769),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,{alphabet:o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",length:l=10}=t||{},r=(0,n.kP)(o,l);return"".concat(e).concat(r())}},175003:function(e,t,o){var n=o(866466),l=o.n(n),r=o(462669),i=o.n(r),a=o(318249),s=o.n(a),d=o(294754),u=o.n(d),c=o(13355),p=o.n(c),m=o(876846),v=o.n(m),h=o(757604),x={};x.styleTagTransform=v(),x.setAttributes=u(),x.insert=s().bind(null,"head"),x.domAPI=i(),x.insertStyleElement=p(),l()(h.Z,x),t.Z=h.Z&&h.Z.locals?h.Z.locals:void 0},717601:function(e,t,o){o(938809),o(723530),t.Z="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9ImNvel9iYW4iPgo8cGF0aCBpZD0iVW5pb24iIGQ9Ik0wLjY2Njk5MiA4LjAwMDA4QzAuNjY2OTkyIDEyLjA1MDIgMy45NTAyNCAxNS4zMzM0IDguMDAwMzMgMTUuMzMzNEMxMi4wNTA0IDE1LjMzMzQgMTUuMzMzNyAxMi4wNTAyIDE1LjMzMzcgOC4wMDAwOEMxNS4zMzM3IDMuOTQ5OTkgMTIuMDUwNCAwLjY2Njc0OCA4LjAwMDMzIDAuNjY2NzQ4QzMuOTUwMjQgMC42NjY3NDggMC42NjY5OTIgMy45NDk5OSAwLjY2Njk5MiA4LjAwMDA4Wk0xMS43NDUzIDEyLjY4ODFDMTAuNzE4OSAxMy41MDkxIDkuNDE2OTQgMTQuMDAwMSA4LjAwMDMzIDE0LjAwMDFDNC42ODY2MiAxNC4wMDAxIDIuMDAwMzMgMTEuMzEzOCAyLjAwMDMzIDguMDAwMDhDMi4wMDAzMyA2LjU4MzQ2IDIuNDkxMjcgNS4yODE1MSAzLjMxMjI5IDQuMjU1MDhMMTEuNzQ1MyAxMi42ODgxWk0xMi42ODgyIDExLjc0NTNMNC4yNTUwOCAzLjMxMjI1QzUuMjgxNTQgMi40OTExIDYuNTgzNTkgMi4wMDAwOCA4LjAwMDMzIDIuMDAwMDhDMTEuMzE0IDIuMDAwMDggMTQuMDAwMyA0LjY4NjM3IDE0LjAwMDMgOC4wMDAwOEMxNC4wMDAzIDkuNDE2ODEgMTMuNTA5MyAxMC43MTg5IDEyLjY4ODIgMTEuNzQ1M1oiIGZpbGw9IiMwNjA3MDkiIGZpbGwtb3BhY2l0eT0iMC4zIi8+CjwvZz4KPC9zdmc+Cg=="},156525:function(e,t,o){var n=o(160052),l=o.n(n),r=o(570717),i=o.n(r)()(l());i.push([e.id,".label--AXSbb1Nfj6Uo77fk{margin-bottom:0;max-width:calc(100 - 16px);overflow-x:hidden;padding-right:0;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.label--AXSbb1Nfj6Uo77fk .semi-form-field-label-text{align-items:center;display:flex;flex-wrap:nowrap;width:100%}.text--apuXA5KftZIbjQ0B{font-size:12px;font-weight:500;line-height:18px}.icon--qN6JaIh1Ak4zgd1j{margin-left:2px;padding:2px}.icon--qN6JaIh1Ak4zgd1j svg{height:12px;width:12px}",""]),i.locals={label:"label--AXSbb1Nfj6Uo77fk",text:"text--apuXA5KftZIbjQ0B",icon:"icon--qN6JaIh1Ak4zgd1j"},t.Z=i},812476:function(e,t,o){var n=o(160052),l=o.n(n),r=o(570717),i=o.n(r)()(l());i.push([e.id,"",""]),i.locals={},t.Z=i},55722:function(e,t,o){var n=o(160052),l=o.n(n),r=o(570717),i=o.n(r)()(l());i.push([e.id,'.upload-button--HWwsOlY6GE4iCyAa{border-style:dashed;min-width:0;padding:8px}button.delete-btn--VsfBQUa7mdsxWuZl{border-radius:6px;height:20px;line-height:1}.delete-icon--gFeniWT8v4Te6m4p svg{height:12px;width:12px}.file--IDCwrVxxc4HqrwD9{padding:3px;position:relative}.file--IDCwrVxxc4HqrwD9 *{z-index:1}.file--IDCwrVxxc4HqrwD9:focus{border-color:#4e40e5}.file-uploading--OM7fkLcffM3CFWx_:after{background-color:#e6e8ff;content:"";display:block;height:100%;left:0;min-width:15%;position:absolute;top:0;width:var(--var-percent)}.container--l5vAPfrTWdgz6enN.container-error--hsi6LlIZgLk6u0Ul .file--IDCwrVxxc4HqrwD9,.container--l5vAPfrTWdgz6enN.container-error--hsi6LlIZgLk6u0Ul .input--OJt3DRBuGxspSNV8,.container--l5vAPfrTWdgz6enN.container-error--hsi6LlIZgLk6u0Ul .upload-button--HWwsOlY6GE4iCyAa{border-color:#f22435}.retry--V43JP6FT9VUk_r6c{align-items:center;color:#4e40e5;cursor:pointer;display:flex;flex-shrink:0;flex-wrap:nowrap;font-size:12px;font-weight:500;gap:8px;justify-content:flex-start;line-height:16px;margin-right:12px}.retry--V43JP6FT9VUk_r6c svg{height:12px;width:12px}',""]),i.locals={"upload-button":"upload-button--HWwsOlY6GE4iCyAa",uploadButton:"upload-button--HWwsOlY6GE4iCyAa","delete-btn":"delete-btn--VsfBQUa7mdsxWuZl",deleteBtn:"delete-btn--VsfBQUa7mdsxWuZl","delete-icon":"delete-icon--gFeniWT8v4Te6m4p",deleteIcon:"delete-icon--gFeniWT8v4Te6m4p",file:"file--IDCwrVxxc4HqrwD9","file-uploading":"file-uploading--OM7fkLcffM3CFWx_",fileUploading:"file-uploading--OM7fkLcffM3CFWx_",container:"container--l5vAPfrTWdgz6enN","container-error":"container-error--hsi6LlIZgLk6u0Ul",containerError:"container-error--hsi6LlIZgLk6u0Ul",input:"input--OJt3DRBuGxspSNV8",retry:"retry--V43JP6FT9VUk_r6c"},t.Z=i},820694:function(e,t,o){var n=o(160052),l=o.n(n),r=o(570717),i=o.n(r)()(l());i.push([e.id,".shortcut-bar--aiUaAKJLkj0n8wOe{display:flex;justify-content:center;position:relative}.shortcut-bar--aiUaAKJLkj0n8wOe .semi-portal-inner{max-width:100%;min-width:100%;width:100%}",""]),i.locals={"shortcut-bar":"shortcut-bar--aiUaAKJLkj0n8wOe",shortcutBar:"shortcut-bar--aiUaAKJLkj0n8wOe"},t.Z=i},567667:function(e,t,o){var n=o(160052),l=o.n(n),r=o(570717),i=o.n(r)()(l());i.push([e.id,".shortcut-template--BwIgy4qAgrMXGEwj{background:#fff;border:1px solid #4e40e5;border-radius:24px;margin:0 24px 36px}.template-icon--nlVpe8wlM14meV_r{margin-right:4px}",""]),i.locals={"shortcut-template":"shortcut-template--BwIgy4qAgrMXGEwj",shortcutTemplate:"shortcut-template--BwIgy4qAgrMXGEwj","template-icon":"template-icon--nlVpe8wlM14meV_r",templateIcon:"template-icon--nlVpe8wlM14meV_r"},t.Z=i},990168:function(e,t,o){var n=o(160052),l=o.n(n),r=o(570717),i=o.n(r)()(l());i.push([e.id,".upload-content--lt7kPUfpvG0GBLCi .semi-checkbox-content{flex:0 1 auto}",""]),i.locals={"upload-content":"upload-content--lt7kPUfpvG0GBLCi",uploadContent:"upload-content--lt7kPUfpvG0GBLCi"},t.Z=i},221317:function(e,t,o){var n=o(160052),l=o.n(n),r=o(570717),i=o.n(r)()(l());i.push([e.id,".table--vYuP03xT50Uu0nAY{border:1px solid var(--coz-stroke-primary);border-radius:8px;padding:0 12px}.table--vYuP03xT50Uu0nAY .semi-table-placeholder{border-bottom:0}.table--vYuP03xT50Uu0nAY .semi-form-field{padding:4px 0}.table--vYuP03xT50Uu0nAY .semi-table-tbody tr:first-child td{padding-top:8px}.table--vYuP03xT50Uu0nAY .semi-table-tbody tr:last-child td{padding-bottom:12px}.empty--dkEyyIPTUAH22h5c{color:var(--coz-fg-dim);text-align:left}",""]),i.locals={table:"table--vYuP03xT50Uu0nAY",empty:"empty--dkEyyIPTUAH22h5c"},t.Z=i},757604:function(e,t,o){var n=o(160052),l=o.n(n),r=o(570717),i=o.n(r)()(l());i.push([e.id,".btn--LtYWuGUroDfR2Raw .semi-icon{color:var(--coz-fg-secondary)}.btn--LtYWuGUroDfR2Raw button{padding:2px 8px}.btn--LtYWuGUroDfR2Raw .semi-button-content-right{color:var(--coz-fg-secondary);font-weight:500;margin-left:4px}",""]),i.locals={btn:"btn--LtYWuGUroDfR2Raw"},t.Z=i},310999:function(e,t,o){var n=o(160052),l=o.n(n),r=o(570717),i=o.n(r)()(l());i.push([e.id,".shortcut-command--Zejvf2Z8EY99T3S8{margin-right:10px}.shortcut-button--ZLCNgTekWBUUgpyB{border-radius:99px;box-sizing:border-box;font-size:14px;font-style:normal;font-weight:400;height:32px;line-height:16px;min-width:unset!important;padding:4px 12px}.shortcut-button--ZLCNgTekWBUUgpyB .semi-button-content-left{margin-right:0}.shortcut-white--IlyXyZONt85EVY4L .shortcut-button--ZLCNgTekWBUUgpyB{-webkit-backdrop-filter:blur(3.45px);backdrop-filter:blur(3.45px);background-color:rgba(6,7,9,.04);border:1px solid var(--coz-stroke-primary);color:rgba(6,7,9,.8)!important}.shortcut-white--IlyXyZONt85EVY4L .shortcut-button--ZLCNgTekWBUUgpyB:hover{background:linear-gradient(0deg,rgba(0,0,0,.06) 0,rgba(0,0,0,.06) 100%),var(--coz-bg-primary);border:1px solid var(--coz-stroke-primary)}.shortcut-blur--fXkfRuAJ5D85_lHb .shortcut-button--ZLCNgTekWBUUgpyB{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);background-color:var(--coze-bg-image-bots,hsla(0,0%,98%,.8));border:1px solid var(--coze-stroke-image-bots,rgba(6,7,9,.1));border-radius:12px;color:var(--coze-fg-image-bots,rgba(6,7,9,.8))}.shortcut-blur--fXkfRuAJ5D85_lHb .shortcut-button--ZLCNgTekWBUUgpyB:hover{background:hsla(0,0%,88%,.6);border:1px solid var(--coze-stroke-image-bots,rgba(6,7,9,.1))}.shortcut-blur--fXkfRuAJ5D85_lHb .shortcut-button--ZLCNgTekWBUUgpyB .semi-typography{color:hsla(0,0%,100%,.79)}.load-more-shortcut-wrapper--fS2LihaCodwzK20m{position:relative}.load-more-shortcut-wrapper--fS2LihaCodwzK20m .load-more-button--EWw_drzfwgXn20_L{align-items:center;border-radius:12px;display:flex;gap:4px;height:32px;justify-content:center;padding:4px 12px}.load-more-list--rmrpswCCIQsbCoM2::-webkit-scrollbar-thumb{background:rgba(29,28,35,.3);border-radius:3px}.load-more-list--rmrpswCCIQsbCoM2::-webkit-scrollbar{background:transparent;width:6px}",""]),i.locals={"shortcut-command":"shortcut-command--Zejvf2Z8EY99T3S8",shortcutCommand:"shortcut-command--Zejvf2Z8EY99T3S8","shortcut-button":"shortcut-button--ZLCNgTekWBUUgpyB",shortcutButton:"shortcut-button--ZLCNgTekWBUUgpyB","shortcut-white":"shortcut-white--IlyXyZONt85EVY4L",shortcutWhite:"shortcut-white--IlyXyZONt85EVY4L","shortcut-blur":"shortcut-blur--fXkfRuAJ5D85_lHb",shortcutBlur:"shortcut-blur--fXkfRuAJ5D85_lHb","load-more-shortcut-wrapper":"load-more-shortcut-wrapper--fS2LihaCodwzK20m",loadMoreShortcutWrapper:"load-more-shortcut-wrapper--fS2LihaCodwzK20m","load-more-button":"load-more-button--EWw_drzfwgXn20_L",loadMoreButton:"load-more-button--EWw_drzfwgXn20_L","load-more-list":"load-more-list--rmrpswCCIQsbCoM2",loadMoreList:"load-more-list--rmrpswCCIQsbCoM2"},t.Z=i}}]);
//# sourceMappingURL=https://sourcemap-redirect.coze.cn/obj/coze-sourcemap/ol-sourcemap/bot/1.0.2.2388/66049.91797cea.js.map