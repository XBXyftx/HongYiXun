"use strict";(self.webpackChunkapp_botstudio_main=self.webpackChunkapp_botstudio_main||[]).push([["52206"],{851234:function(e,l,s){s.d(l,{r:()=>I,in:()=>k,Py:()=>W});var i=s("938809"),t=s("842197"),o=s("723530"),n=s("856306"),a=s.n(n),p=s("801368"),r=s("16242"),d=s("826498"),c=s("988726"),u=s("182956"),x=s("666428"),h=s("347784"),f=s("555307"),v=e=>"pinned"===e||"ellipsised"===e,m=()=>{var e=p.D.getValue("playground-side-menu-default-status");return v(e)?e:"pinned"},b=s("409587"),_=e=>{var l,{item:s,depth:t}=e,n=(0,o.useRef)(null);return(0,o.useEffect)(()=>{if(s.isActive){var e;null===(e=n.current)||void 0===e||e.scrollIntoView({block:"center"})}},[s.isActive]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{ref:n,className:a()("flex items-center justify-center min-w-[8px] rounded-[1px] h-[3px] mb-[12px]"),style:{width:16-4*t,backgroundColor:s.isActive?"var(--coz-fg-plus)":"var(--coz-stroke-plus)"}}),null===(l=s.children)||void 0===l?void 0:l.map((e,l)=>(0,i.jsx)(_,{item:e,depth:t+1},l))]})},j=e=>{var{items:l,className:s,onMouseEnter:t}=e;return(0,i.jsx)("div",{className:a()("relative max-h-[60%] overflow-y-hidden",s),children:(0,i.jsx)("div",{onMouseEnter:t,children:l.map((e,l)=>(0,i.jsx)(_,{item:e,depth:0},l))})})},y={guides:(0,i.jsx)(x.Se0,{}),guides_fill:(0,i.jsx)(x.HxW,{}),developer_guides:(0,i.jsx)(x.J9N,{}),developer_guides_fill:(0,i.jsx)(x.xNd,{}),coze_pro:(0,i.jsx)(x.RIi,{}),coze_pro_fill:(0,i.jsx)(x.E9v,{}),cozeloop:(0,i.jsx)(x.Se0,{}),cozeloop_fill:(0,i.jsx)(x.HxW,{}),cozespace:(0,i.jsx)(x.Se0,{}),cozespace_fill:(0,i.jsx)(x.HxW,{}),dev_how_to_guides:(0,i.jsx)(x.Se0,{}),dev_how_to_guides_fill:(0,i.jsx)(x.HxW,{}),customers:(0,i.jsx)(x.Se0,{}),customers_fill:(0,i.jsx)(x.HxW,{}),tutorial:(0,i.jsx)(x.Se0,{}),tutorial_fill:(0,i.jsx)(x.HxW,{})},g=(e,l)=>e.map(e=>{var s;return{isActive:!(null===(s=e.items)||void 0===s?void 0:s.length)&&l.endsWith("/open/docs/".concat(e.url_key)),children:e.items?g(e.items,l):void 0}}),k=()=>{var e=(0,h.L)(e=>e.docMenuList),l=(0,d.bc)(),[s,n]=(0,o.useState)(null),[x,v]=(0,o.useState)(m()),{pathname:_}=(0,t.useLocation)(),k=(0,o.useMemo)(()=>g(e,_),[e,_]);return(0,o.useEffect)(()=>{"settling"!==l&&h.L.getState().fetchDocInfo("logined"===l)},[l]),(0,i.jsxs)("div",{className:a()("w-full h-full overflow-hidden flex items-stretch relative coz-bg-max","pinned"===x?"":"pl-[24px]"),children:["ellipsised"===x?(0,i.jsx)("div",{className:"absolute left-0 top-0 w-fit h-full pt-[24px]",children:(0,i.jsx)(j,{items:k,onMouseEnter:()=>v("hovered")})}):null,["hovered","pinned"].includes(x)?(0,i.jsx)("div",{className:a()("pinned"===x?"shrink-0":"absolute left-0 top-0 z-10 backdrop-blur-[72px] bg-[#F7F7FCE5] h-full","coz-stroke-primary border-solid border-0 border-r-[1px]"),onMouseLeave:()=>{"hovered"===x&&v("ellipsised")},children:(0,i.jsxs)("div",{className:"w-[240px] border-box h-full overflow-y-auto pt-[24px] flex flex-col items-stretch",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between px-[12px] pb-[14px]",children:[r.o.t("coze_doc_site_dir"),(0,i.jsx)(u.Button,{size:"small",color:"secondary",icon:"pinned"===x?(0,i.jsx)(c.PNu,{}):(0,i.jsx)(c.WMx,{}),onClick:()=>{v("pinned"===x?"hovered":"pinned"),p.D.setValue("playground-side-menu-default-status","pinned"===x?"ellipsised":"pinned")},children:"pinned"===x?r.o.t("coze_doc_site_unfix"):r.o.t("coze_doc_site_fix")})]}),(0,i.jsx)("div",{className:"flex-1 overflow-y-auto px-[12px] pb-[24px]",children:e.map((l,t)=>{var o={path:"/open/docs/".concat(l.url_key),label:l.title,icon:y[l.url_key],activeIcon:y["".concat(l.url_key,"_fill")],app:f.pZ.DOCS};return(0,i.jsx)(b.l,{subMenu:o,apiList:l.items,isOpen:s===o.path,onOpenChange:e=>{n(e?o.path:null)},lastIndex:e.length-t-1},o.path)})})]})}):null,(0,i.jsx)("div",{className:"flex-1",onMouseMove:()=>{"hovered"===x&&v("ellipsised")},children:(0,i.jsx)(t.Outlet,{})})]})},N=s("716486"),z=s("368006"),w=s("986415"),C=s("951623"),L=s("301464"),S=s("698363"),A=s("274372"),Z=s("448082"),E=s("449001"),M=(e,l)=>(e.app!==f.pZ.ANALYTICS||!!l["bot.studio.open_analytics"])&&(e.app!==f.pZ.TOKEN||!!l["bot.community.token"])&&e.app!==f.pZ.DOCS||!1,O=[{path:"/open/playground",label:"Playground",app:f.pZ.PLAYGROUND},{path:"/open/token",label:"Coze_token_title",app:f.pZ.TOKEN},{path:"/open/oauth",label:"auth_tab_auth",app:f.pZ.OAUTH},{path:"/open/analytics",label:"api_analytics_title",app:f.pZ.ANALYTICS},{path:"/open/docs",label:"api_docs",app:f.pZ.DOCS},{path:"/open/callback",label:"callback_management_callback_tab",app:f.pZ.CALLBACK}],W=()=>{var e="logined"===(0,d.bc)(),[l,s]=(0,o.useState)(!1);(0,o.useEffect)(()=>{E.c3.GetTradeConf({scenes:["device_benefit_admin"]},{paramsSerializer:e=>L.Z.stringify(e,{arrayFormat:"comma"})}).then(e=>{var l,i;s((null===(i=e.data)||void 0===i?void 0:null===(l=i.scene_switch)||void 0===l?void 0:l.device_benefit_admin)===1)})},[]);var[n]=(0,Z.V)(),p=(0,S.y6)(),c=(0,S.zD)(),u=(0,t.useNavigate)(),x=n["bot.studio.openapi_callback_manage"]&&(p||c===A.ZQ.super_admin2||c===A.ZQ.admin2),h=O.filter(e=>M(e,n)).filter(e=>e.app!==f.pZ.DEVICE||l).filter(e=>e.app!==f.pZ.CALLBACK||x),{pathname:v}=(0,t.useLocation)();return!e||h.length<=1?null:(0,i.jsx)("div",{className:"h-[64px] flex items-center justify-start shrink-0 px-[24px]",children:h.map(e=>(0,i.jsx)("div",{className:a()("px-[8px] py-[5px] text-[16px] leading-[22px] font-medium cursor-pointer",v.startsWith(e.path)?"coz-fg-hglt":"coz-fg-secondary"),onClick:()=>{u(e.path)},children:r.o.t(e.label)},e.path))})},D={path:"/open/playground",label:"Playground",icon:(0,i.jsx)(x.CKD,{}),activeIcon:(0,i.jsx)(x.fcx,{}),app:f.pZ.PLAYGROUND},I=()=>{var[e,l]=(0,o.useState)(m()),s=(0,w.C)(e=>e.apiList),n=(0,t.useNavigate)(),{pathname:d}=(0,t.useLocation)(),x="/open/playground"===d;(0,C.r)();var[h,v]=(0,o.useState)(d.startsWith(f.Ef));return(0,i.jsxs)("div",{className:"flex flex-col h-full overflow-y-hidden bg-cover bg-no-repeat",style:{backgroundImage:x?"url(".concat((0,z.q)("coze/playground-bg.png"),")"):"",scrollbarWidth:"none"},children:[(0,i.jsx)(W,{}),(0,i.jsxs)("div",{className:a()("flex-1 w-full overflow-hidden flex items-stretch relative","pinned"===e?"border-0 border-solid border-t coz-stroke-primary":""),children:["ellipsised"===e?(0,i.jsx)("div",{className:"absolute left-0 top-0 w-fit h-full pt-[24px]",children:(0,i.jsx)(j,{items:[{isActive:"/open/playground"===d,children:s.map(e=>({children:e.items.map(e=>({isActive:d.endsWith("/open/playground/".concat(e.url_key))}))}))}],onMouseEnter:()=>l("hovered")})}):null,["hovered","pinned"].includes(e)?(0,i.jsx)("div",{className:a()("pinned"===e?"shrink-0 coz-stroke-primary border-solid border-0 border-r-[1px]":"absolute pl-[4px] top-0 z-10 pb-[10vh] w-[200px] h-full","w-[204px]"),children:(0,i.jsxs)("div",{className:a()("border-box w-full h-full overflow-y-auto pt-[12px] flex flex-col items-stretch","pinned"===e?"":"backdrop-blur-[72px] bg-[#F7F7FCE5] rounded-[12px] border border-solid coz-stroke-primary"),onMouseLeave:()=>{"hovered"===e&&l("ellipsised")},children:[(0,i.jsxs)("div",{className:"flex items-center justify-between px-[12px] pb-[12px]",children:[r.o.t("coze_doc_site_dir"),(0,i.jsx)(u.Button,{size:"small",color:"secondary",icon:"pinned"===e?(0,i.jsx)(c.PNu,{}):(0,i.jsx)(c.WMx,{}),onClick:()=>{l("pinned"===e?"hovered":"pinned"),p.D.setValue("playground-side-menu-default-status","pinned"===e?"ellipsised":"pinned")},children:"pinned"===e?r.o.t("coze_doc_site_unfix"):r.o.t("coze_doc_site_fix")})]}),(0,i.jsx)("div",{className:"flex-1 overflow-y-auto px-[12px]",children:(0,i.jsx)(b.l,{onClickParent:()=>{v(d!==f.Ef||!h),n("/open/playground")},subMenu:D,apiList:s.map(e=>({title:e.title,items:e.items.map(e=>({title:e.title,url_key:e.url_key,type:"api",items:[]})),type:"api"})),isOpen:h,onOpenChange:N.Z},"playground")})]})}):null,(0,i.jsx)("div",{className:a()("flex-1 overflow-y-auto","pinned"===e?"":"pl-[24px]"),onMouseMove:()=>{"hovered"===e&&l("ellipsised")},children:(0,i.jsx)(t.Outlet,{})})]})]})}}}]);
//# sourceMappingURL=https://sourcemap-redirect.coze.cn/obj/coze-sourcemap/ol-sourcemap/bot/1.0.2.2457/52206.19781e7c.js.map