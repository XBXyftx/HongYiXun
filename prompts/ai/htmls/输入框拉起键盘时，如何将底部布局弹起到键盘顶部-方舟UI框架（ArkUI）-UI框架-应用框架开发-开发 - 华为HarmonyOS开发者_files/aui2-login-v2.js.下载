!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){"use strict";const o={};function i(){return o}t.a={checkEnv:function(e){let t=e=>{if(-1!=e.indexOf(".")){let t=i();e.split(".").forEach(n=>{if(!t[n])throw new Error("env: pls provider config item "+e);t=t[n]})}else if(!i()[e]||"{}"==JSON.stringify(i()[e]))throw new Error("env: pls provider config item "+e)};Array.isArray(e)?e.forEach(e=>{t(e)}):t(e)},setEnv:function(e,t){!function(e,t,n){if("string"==typeof t){let o=n||t;"[object Object]"===Object.prototype.toString.call(e[t])&&(o=Object.assign(Object.assign({},e[t]),n)),e[t]=o}else if("[object Array]"===Object.prototype.toString.call(t))t.forEach(t=>{"string"==typeof t&&(e[t]=t)});else for(let n in t)e[n]=t[n]}(o,e,t)},getEnv:i}},function(e,t,n){"use strict";function o(e){let t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))&&decodeURIComponent(t[2])?decodeURIComponent(t[2]):null}t.a={getUTCDate:function(e){return new Date(e.getTime()+60*(new Date).getTimezoneOffset()*1e3)},dateFormat:function(e,t){let n={"q+":Math.floor((e.getMonth()+3)/3),"h+":e.getHours(),"d+":e.getDate(),"M+":e.getMonth()+1,"s+":e.getSeconds(),"m+":e.getMinutes(),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in n)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1!=RegExp.$1.length?("00"+n[e]).substr((""+n[e]).length):n[e]));return t},rand:function(e){let t=(new Date).getTime();return Math.ceil((t=(9301*t+49297)%233280,t/233280*e))},setCookie:function(e,t,n){let o=n||{},i=`${e}=${t};path=${o.path||"/"};`+(o.domain?`domain=${o.domain};`:"")+(o.secure?"secure;":"")+(o.expires?`expires=${function(e){if(e&&-1!==e.toString().indexOf("GMT")){let t=e.toString().split(" ");return t[5]="GMT+0000",new Date(t.join(" ")).toUTCString()}return e}(o.expires)};`:"");document.cookie=i},getCookie:o,delCookie:function(e,t){let n=t||{},i=new Date;i.setTime(i.getTime()-1);let r=o(e);if(null!=r){let t=`${e}=${r};expires=${i.toGMTString()};path=${n.path||"/"};`+(n.domain?`domain=${n.domain};`:"");document.cookie=t}},getUrlArgs:function(){const e={},t=function(t){let n=t.split("&");for(let t=0;t<n.length;t++){let o=n[t].indexOf("=");if(-1==o)continue;let i=n[t].substring(0,o),r=n[t].substring(o+1);r=decodeURIComponent(r),e[i]=r}};return location.search&&t(location.search.substring(1)),location.hash&&t(location.hash.substring(1)),e},createXHR:function(){let e=null;return window.XMLHttpRequest?e=new window.XMLHttpRequest:window.ActiveXobiect&&(e=new window.ActiveXobiect("Microsoft.XMLHTTP")),e},isMobile:function(){return/Android|webOS|iPhone|iPod|iPad|BlackBerry|Mobile|Phone; OpenHarmony|Phone; HarmonyOS/i.test(navigator.userAgent)},getUrlOrigin:function(e){const t=document.createElement("a");return t.href=e,t.origin||`${t.protocol}//${t.host.replace(":443","").replace(":80","")}`},isSafeUrl:function(e){return!(!(e=String(e)).match(/^(?:(?:https?|mailto|ftp|tel|file|sms|blob):|[^&:/?#]*(?:[/?#]|$))/gi)&&!e.match(/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i))},isInAllianceApp:function(){const e=navigator.userAgent.match(new RegExp("AllianceApp(\\d*)","i"));return e&&!!e[1]},isInAllianceAppHMOS:function(){const e=navigator.userAgent.match(new RegExp("AllianceAppHMOS(\\d*)","i"));return e&&!!e[1]},dateStrToDate:function(e){let t=e;if(!e)return;e.includes("T")&&(t=e.replace("T","").replace("Z",""));let n=t.substr(0,4),o=t.substr(4,2),i=t.substr(6,2),r=t.substr(8,2),s=t.substr(10,2),a=t.substr(12,2);return new Date(n,o-1,i,r,s,a)}}},function(e,t,n){"use strict";var o=n(0),i=n(1),r=n(3),s="undefined"==typeof Promise?n(5).Promise:Promise;function a(e,t,n){return n=n||{},new s((s,a)=>{o.a.checkEnv(["oAuthConfig.codeServerURL","site"]);const c=i.a.createXHR();let u=o.a.getEnv().oAuthConfig.codeServerURL[n.siteId||o.a.getEnv().site.china]+e;e.includes("refreshAccessToken")&&sessionStorage.getItem("siteid-member")&&(u=o.a.getEnv().oAuthConfig.codeServerURL[sessionStorage.getItem("siteid-member")]+e),c.open("POST",u,!0),c.withCredentials=!0,c.setRequestHeader("Content-type","application/json;charset=UTF-8"),c.setRequestHeader("X-HD-DATE",i.a.dateFormat(i.a.getUTCDate(new Date),"yyyyMMddThhmmssZ")),c.setRequestHeader("X-HD-SERIALNO",i.a.rand(1e7)+"");let l=r.a.getCsrftoken();l&&c.setRequestHeader("X-HD-CSRF",l),c.send(JSON.stringify(t)),c.onreadystatechange=function(){try{if(4==this.readyState)if(200===c.status){const e=JSON.parse(""===this.response?null:this.response);if(e&&("90910012"==(e.returnCode||e.code)||"90910005"==(e.returnCode||e.code)||"90910003"==(e.returnCode||e.code)||95980002==e.rtnCode))return void r.a.reLogin();s(JSON.parse(""===this.response?null:this.response))}else a(JSON.parse(""===this.response?null:this.response))}catch(e){a(e)}}})}function c(e,t){return(n,i)=>{if(o.a.checkEnv("site"),!(t=Object.assign(Object.assign({},t),i)||{}).siteId){let e=o.a.getEnv().site.china;t.cn||(e=r.a.getSiteId()),t.siteId=e}let c=t.prefix&&function(e){o.a.checkEnv("site"),e=e.indexOf(".Server.")>0||e.indexOf(".Server4User.")>0?"OpenCommon.DelegateTm."+e.replace(new RegExp("\\.","g"),"_"):"OpenCommon.Delegate."+e.replace(new RegExp("\\.","g"),"_");return e}(e)||e;return new s((e,o)=>{r.a.checkLogin(()=>{a("/Common/v1/delegate",{svc:c,reqType:t.reqType||0,reqJson:JSON.stringify(n)},t).then(t=>{t&&t.resJson?e(JSON.parse(t.resJson)):e(t)}).catch(e=>o(e))})})}}t.a={csCall:a,createGWService:c,getCasUserInfo:c("GOpen.User.getInfo"),getDeveloperInfo:c("OpenUP.Server4User.getInfo",{prefix:!0}),getUserRouteInfo:c("OpenUP.Server4User.getUserRouteInfo",{prefix:!0,cn:!0}),setAccountLoginTime:c("OpenUP.Server4User.setAccountLoginTime",{prefix:!0}),isGreyDeveloper:c("OpenUP.Server4User.isGreyDeveloper",{prefix:!0,cn:!0}),recordLoginInfo:c("PartnerCommunityService/v1/registerGuide/developer/recordLoginInfo",{reqType:1}),getAgeGroupFlag:c("OpenCommon.DelegateTm.OpenUP_Server4User_getAgeGroupFlag",{prefix:!1,reqType:0}),addNotRealName:c("OpenCommon.DelegateTm.OpenUP_Server4User_addNotRealName",{reqType:0})}},function(e,t,n){"use strict";var o=n(0),i=n(1),r=n(2),s=n(4);const a=new class{constructor(){this.callbacks={},this.callbackStatus={NO_RESULT:0,OK:1,CANCEL:2},this.hwbrCallbackId=Math.floor(2e9*Math.random()),this.isProcessing=!1,this.messagesFromNative=[]}nextTick(e){const t=setTimeout(()=>{clearTimeout(t),e()},0)}callbackFromNative(e,t,n,o,i){const r=this.callbacks[e];r&&(t&&n===this.callbackStatus.OK?r.success.call(null,o):t||r.fail.call(null,o,n),i||delete this.callbacks[e])}exec(e,t,n,o,i){const r=n+this.hwbrCallbackId++,s=JSON.stringify(i||[]);(e||t)&&(this.callbacks[r]={success:e,fail:t});const a=window._hwbrNative&&"function"==typeof window._hwbrNative.invoke&&window._hwbrNative.invoke(n,o,r,[s],-1);a&&(this.messagesFromNative.push(a),this.nextTick(this.processMessages))}invoke(e,t,n,o,i){window.hwbr||(window.hwbr={}),window.hwbr.callbackFromNative=(e,t,n,o,i)=>{this.callbackFromNative(e,t,n,o,i)},window._hwbrNative?this.exec(o?e=>{o(e)}:null,i?(e,t)=>{i(e,t)}:null,e,t,n):i()}buildPayload(e,t){const n={s:function(e){return e.slice(1)},t:function(){return!0},f:function(){return!1},N:function(){return null},n:function(e){return Number(e.slice(1))},A:function(e){return atob(e.slice(1))},S:function(e){return atob(e.slice(1))}};e.push((n[t.charAt(0)]||function(e){return JSON.parse(e)})(t))}processMessage(e){const t=e.charAt(0);if("S"===t||"F"===t){const n="S"===t,o="1"===e.charAt(1),i=e.indexOf(" ",2),r=Number(e.slice(2,i)),s=e.indexOf(" ",i+1),a=e.slice(i+1,s),c=e.slice(s+1);let u=[];this.buildPayload(u,c),1===u.length&&(u=u[0]),this.callbackFromNative(a,n,r,u,o)}}processMessages(){if(!this.isProcessing&&0!==this.messagesFromNative.length){this.isProcessing=!0;try{const e=this.popMessageFromQueue();this.processMessage(e)}finally{this.isProcessing=!1,this.messagesFromNative.length>0&&this.nextTick(this.processMessages)}}}popMessageFromQueue(){let e=this.messagesFromNative.shift();if("*"===e)return"*";const t=e.indexOf(" "),n=Number(e.slice(0,t)),o=e.substring(t+1,t+1+n);return e=e.slice(t+n+1),e&&this.messagesFromNative.unshift(e),o}},c=(e,t,n,o,i)=>{try{a.invoke(e,t,n,o,i)}catch(e){i()}};var u="undefined"==typeof Promise?n(5).Promise:Promise;let l=!1,f=!1;async function h(e,t,n=!0){o.a.checkEnv("site");const a=i.a.getUrlArgs();let c=i.a.getCookie("urlBeforeLogin"),l=!1,f=e=>{alert("Login fail, please try again later."),c&&(location.href=c,l&&history.go(0))};if(a.authorization_code||a.code){const t=()=>{n?c&&(location.href=c,l&&history.go(0)):e&&e(c)};new u((e,t)=>{let n=i.a.getUrlArgs(),o=n&&(n.authorization_code||n.code);o&&n.state&&i.a.getCookie("state")==n.state?r.a.csCall("/oauth2/v1/getAccessToken",{authorizeCode:o,redirectUrl:location.href.split("?")[0].split("#")[0]}).then(r=>{if(0==r.returnCode){let t=i.a.getCookie("urlBeforeLogin");L("x-country"),L("x-hd-grey"),L("x-siteId"),L("x-teamId"),R(r),e({urlBeforeLogin:t,expires:r.expireTime,zoneId:r.siteID,state:n.state,access_token:r.accessToken,cookieExpireTime:r.cookieExpireTime})}else t(o)},e=>{t(o)}):t(o)}).then(async e=>{if(!await D())return;await r.a.addNotRealName({req:{loginChannel:o.a.getEnv().oAuthConfig.loginChannel}});let n=i.a.getCookie("urlBeforeLogin");l=-1!=n.indexOf("#")&&location.href.split("#")[0]==n.split("#")[0];let s=o.a.getEnv().oAuthConfig.extraCookies||["x-siteId","x-userType","x-country","x-hd-grey"];-1!=s.indexOf("x-siteId")&&E("x-siteId",e.zoneId),r.a.getUserRouteInfo({req:{}}).then(e=>{let i=e.userRouteInfoList&&e.userRouteInfoList.filter(e=>!e.memberUserID);i&&i.length?(-1!=s.indexOf("x-userType")&&E("x-userType",i[0].userType),-1!=s.indexOf("x-country")&&E("x-country",i[0].countryCode),function(){let e=localStorage.getItem("X-HD-SESSION");e||(e=function(){let e="";for(let t=1;t<=32;t++){let n=Math.floor(16*Math.random()).toString(16);e+=n,8!=t&&12!=t&&16!=t&&20!=t||(e+="-")}return e}());localStorage.setItem("X-HD-SESSION",e),E("X-HD-SESSION",e)}(),function(e){if(!o.a.getEnv().oAuthConfig.isRecordLogin)return;if(C()!==o.a.getEnv().site.china)return;const t={loginType:navigator.userAgent.indexOf("Mobile")>-1?2:1,loginUrl:e};r.a.recordLoginInfo(t)}(n),-1!=s.indexOf("x-hd-grey")?r.a.isGreyDeveloper({req:{}}).then(e=>{g("alnc",e.greyType||"000"),t()}).catch(e=>f()):t()):t()}).catch(e=>f())}).catch(e=>f())}else d()&&await D()&&s.a.getUserInfo().then(()=>t&&t()),e&&e()}function g(e,t){let n=i.a.getCookie("x-hd-grey"),o=[];n&&(o=n.split("_"));const r=o.filter(t=>-1===t.indexOf(e+"-"));r.push(`${e}-${t}`),E("x-hd-grey",r.join("_"))}function d(){try{return(!!U()&&U()||!!k()&&k()).replace("T","").replace("Z","")>=i.a.dateFormat(i.a.getUTCDate(new Date),"yyyyMMddhhmmss")}catch(e){return!1}}function p(){L("developer_userinfo"),L("developer_userdata"),L("x-country"),L("x-userType"),L("x-hd-grey"),L("x-siteId"),L("x-teamId")}function v(e,t){var n;f&&N()||(f=!0,(n=t,new u((e,t)=>{if(d()){const t=new Date,o=t.setMinutes(t.getMinutes()+50);k().replace("T","").replace("Z","")<i.a.dateFormat(i.a.getUTCDate(new Date(o)),"yyyyMMddhhmmss")?(function(e){if(navigator&&navigator.userAgent){var t=navigator.userAgent.match(new RegExp("AllianceApp(\\d*)","i")),n=navigator.userAgent.match(new RegExp("AllianceAppHMOS(\\d*)","i"));if(t&&t[1]){var o=window.android;o&&o.refreshAccessToken?(window.allianceRefreshATCallback=e=>{R(e)},o.refreshAccessToken()):e&&e()}else if(n&&n[1]){var i=window.hmos;i&&i.refreshAccessToken?(window.allianceRefreshATCallback=e=>{R(e)},i.refreshAccessToken()):e&&e()}else e&&e()}else e&&e()}((function(){A().then(e=>{let t=N();e&&"0"==e.returnCode?(C()&&b()&&(e.teamId=JSON.parse(JSON.stringify(b())),e.siteID=JSON.parse(JSON.stringify(C()))),R(e),f=!1,t&&window.location.reload()):(f=!1,T(n))}).catch(e=>T(n))})),e()):(f=!1,e())}else f=!1,T(n)})).then(()=>e&&e()))}function m(e,t){o.a.checkEnv("oAuthConfig.logoutURL"),l||(l=!0,r.a.csCall("/oauth2/v1/logout",{a:1,next:encodeURIComponent(e||location.href)}).then(t=>{L("developer_userinfo"),L("developer_userdata"),L("x-uid"),L("x-country"),L("x-userType"),L("x-hd-grey"),L("x-siteId"),L("x-teamId"),L("X-HD-SESSION"),L("state"),L("urlBeforeLogin"),sessionStorage.removeItem("alliance_privacy_signed");let n="";n=(null==t?void 0:t.casLogoutUrl)?t.casLogoutUrl:(null==t?void 0:t.accessToken)?o.a.getEnv().oAuthConfig.logoutURL+"?response_type=code&access_token="+encodeURIComponent(t.accessToken)+"&next="+encodeURIComponent(e||location.href):e||location.href,i.a.isSafeUrl(n)&&(window.location.href=n)}).then(()=>{t&&t(),L("developer_userinfo"),L("developer_userdata")}))}function w(){try{return JSON.parse(i.a.getCookie("developer_userdata"))||JSON.parse(i.a.getCookie("developer_userinfo"))||{}}catch(e){return{}}}function y(){try{return JSON.parse(i.a.getCookie("developer_userinfo"))||JSON.parse(i.a.getCookie("developer_userdata"))||{}}catch(e){return{}}}function C(){return o.a.checkEnv("site"),y().siteid||o.a.getEnv().site.china}function b(){return o.a.checkEnv("site"),y().teamid}function A(){return r.a.csCall("/oauth2/v1/refreshAccessToken",{})}function T(e){var t,n,r;const s=window.navigator.userAgent,a=t=>{var n,r;let s=t;"string"==typeof t&&(s=JSON.parse(t||"{}"));let a=null!==(n=o.a.getEnv().oAuthConfig.permissions.map(e=>encodeURIComponent(e)).join("+"))&&void 0!==n?n:"",u=encodeURIComponent(o.a.getEnv().oAuthConfig.handleLoginUrl.split("?")[0].split("#")[0]);if(0===Number(s.retCode)&&o.a.getEnv().oAuthConfig.clientID&&u&&a){let t=null!==(r=i.a.getCookie("state"))&&void 0!==r?r:i.a.rand(1e7);E("state",t);let n=sessionStorage.getItem("loginTime");if(n&&(new Date).getTime()-Number(n)<2e3)return null;sessionStorage.setItem("loginTime",String((new Date).getTime())),E("urlBeforeLogin",e||location.href.split("?authorization_code")[0].split("&authorization_code")[0].split("?code")[0]);(e=>{c("linkedLogin","login",e,()=>{},l)})({clientId:o.a.getEnv().oAuthConfig.clientID,redirectUri:u,scope:a,accessType:"offline",state:t})}else(e=>{_(e)})(e)},u=t=>{t instanceof Array&&t.includes("linkedLogin")?c("linkedLogin","isLogin",{clientId:o.a.getEnv().oAuthConfig.clientID},a,l):_(e)},l=()=>{sessionStorage.removeItem("loginTime"),_(e)};if(s.includes("HuaweiBrowser")&&s.includes("ArkWeb")&&!(null===(t=o.a.getEnv().oAuthConfig)||void 0===t?void 0:t.ignoreSupportOneClickLogin)&&(null===(r=null===(n=o.a.getEnv().oAuthConfig)||void 0===n?void 0:n.handleLoginUrl)||void 0===r?void 0:r.includes("handleLoginV2")))try{c("app","getPluginList",null,u,l)}catch(t){_(e)}else _(e)}function _(e){!function(e){if(navigator&&navigator.userAgent){const t=navigator.userAgent.match(new RegExp("AllianceApp(\\d*)","i")),n=navigator.userAgent.match(new RegExp("AllianceAppHMOS(\\d*)","i"));if(t&&t[1]){const n=Number(t[1]),o=window.android;n>=70006100&&o&&o.login?(window.allianceLoginCallback=function(e){e&&window.location.reload()},o.login()):e&&e()}else if(n&&n[1]){const t=window.hmos;t&&t.login?(window.allianceLoginCallback=function(e){e&&window.location.reload()},t.login()):e&&e()}else e&&e()}else e&&e()}(()=>{p();let t=function(e){let t=sessionStorage.getItem("loginTime");if(t&&(new Date).getTime()-Number(t)<2e3)return null;sessionStorage.setItem("loginTime",String((new Date).getTime()));o.a.checkEnv(["oAuthConfig.handleLoginUrl","oAuthConfig.loginURL","oAuthConfig.clientID","oAuthConfig.loginChannel","oAuthConfig.reqClientType","oAuthConfig.permissions"]);let n=encodeURIComponent(o.a.getEnv().oAuthConfig.handleLoginUrl.split("?")[0].split("#")[0]);E("urlBeforeLogin",e||location.href.split("?authorization_code")[0].split("&authorization_code")[0].split("?code")[0]);let r=i.a.rand(1e7);E("state",r);let s=o.a.getEnv().oAuthConfig.loginURL+"?access_type=offline&response_type=code&client_id="+o.a.getEnv().oAuthConfig.clientID+"&login_channel="+o.a.getEnv().oAuthConfig.loginChannel+"&req_client_type="+o.a.getEnv().oAuthConfig.reqClientType+"&lang="+S()+"&redirect_uri="+n+"&state="+r;o.a.getEnv().oAuthConfig.permissions&&(s+="&scope="+o.a.getEnv().oAuthConfig.permissions.map(e=>encodeURIComponent(e)).join("+"));i.a.isMobile()&&(s+="&display=mobile");return s}(e);setTimeout(()=>{t&&(window.location.href=t)},30)})}function S(){let e;switch(o.a.checkEnv("language"),o.a.getEnv().language){case"cn":e="zh-cn";break;case"en":e="en-us";break;case"ru":e="ru-ru";break;default:e="en-us"}return e}function x(e,t="email",n,r,s){o.a.checkEnv(["oAuthConfig.loginURL","oAuthConfig.reqClientType","oAuthConfig.loginChannel","oAuthConfig.clientID"]);let a=encodeURIComponent(o.a.getEnv().oAuthConfig.handleLoginUrl.split("?")[0].split("#")[0]);E("urlBeforeLogin",e||location.href.split("?authorization_code")[0].split("&authorization_code")[0].split("?code")[0]);let c=i.a.rand(1e7);E("state",c);let u="";return o.a.getEnv().oAuthConfig.permissions&&(u="&scope="+o.a.getEnv().oAuthConfig.permissions.map(e=>encodeURIComponent(e)).join("+")),o.a.getEnv().oAuthConfig.loginURL+"?req_client_type="+(s||o.a.getEnv().oAuthConfig.reqClientType)+"&access_type=offline&response_type=code&client_id="+(r||o.a.getEnv().oAuthConfig.clientID)+"&login_channel="+(n||o.a.getEnv().oAuthConfig.loginChannel)+"&lang="+S()+"&redirect_uri="+a+"&state="+c+u+"&register_type="+t}function E(e,t,n,o){["x-siteId","x-userType","x-country","x-hd-grey","x-teamId","X-HD-SESSION"].includes(e)&&U()?i.a.setCookie(e,t,I(i.a.dateStrToDate(U()))):"developer_userinfo"===e?(o||i.a.setCookie(e,t,I()),n&&i.a.setCookie("developer_userdata",t,I(i.a.dateStrToDate(n)))):i.a.setCookie(e,t,I(i.a.dateStrToDate(n)))}function I(e){return{domain:o.a.getEnv().oAuthConfig.cookieDomain||location.hostname,secure:"localhost"!==location.hostname,expires:e}}function k(){return y().expiretime}function U(){return w().cookieExpireTime}function O(){return y().csrftoken}function L(e){i.a.delCookie(e,{domain:o.a.getEnv().oAuthConfig.cookieDomain||location.hostname})}function R(e){let t=e.csrfToken||O(),n=e.siteID||C(),o=1===e.sessionExpired,r=e.cookieExpireTime||U(),s=U()&&e.cookieExpireTime&&U()!==e.cookieExpireTime;L("developer_userinfo"),L("developer_userdata"),L("x-userType");let a="{";a=a+'"siteid":"'+n+'",',a=a+'"expiretime":"'+(null==e?void 0:e.expireTime)+'",',e.teamId&&(a=a+'"teamid":"'+e.teamId+'",'),r&&(a=a+'"cookieExpireTime":"'+r+'",'),a=a+'"csrftoken":"'+t+'"',a+="}",a=encodeURIComponent(a),E("developer_userinfo",a,r,o);s&&["x-siteId","x-userType","x-country","x-hd-grey","x-teamId"].forEach(e=>{i.a.getCookie(e)&&E(e,i.a.getCookie(e))})}async function D(){var e,t;const n=await r.a.getAgeGroupFlag();if(n&&2===n.ageGroupFlag){await r.a.addNotRealName({req:{loginChannel:o.a.getEnv().oAuthConfig.loginChannel}});const n=o.a.getEnv();let i="en";["cn","en","ru"].includes(n.language)&&(i=n.language),"zh"===n.language&&(i="cn");let s=null!==(e=o.a.getEnv().oAuthConfig.prefix)&&void 0!==e?e:"/consumer",a=null!==(t=o.a.getEnv().oAuthConfig.instructionsforchildrenUrl)&&void 0!==t?t:"instructionsforchildren/";const c=`${location.protocol}//${location.host}${s}/${i}/${a}`;return new u((e,t)=>{m(c,()=>{e(!1)})})}return u.resolve(!0)}function N(){var e;const t=new Date;return(null===(e=k())||void 0===e?void 0:e.replace("T","").replace("Z",""))<i.a.dateFormat(i.a.getUTCDate(new Date(t)),"yyyyMMddhhmmss")}t.a={init:function(e){o.a.setEnv(e)},handleLogin:h,doLogin:function(e){h(e,null,!1)},isLogin:d,reLogin:function(){p(),v()},refreshAT:A,checkLogin:v,logout:m,register:function(e,t){const n=x(e,t);i.a.isSafeUrl(n)&&(location.href=n)},setCookie:E,getSiteId:C,setGrayCookie:g,getRegUrl:x,getCsrftoken:O,getDeveloperUserDataInfo:w,getDeveloperUserInfoData:y,getCookieExpireTime:U,isATExpire:N}},function(e,t,n){"use strict";var o=n(2),i=n(3),r="undefined"==typeof Promise?n(5).Promise:Promise;const s={userInfo:{},developerInfo:{},userRouteInfoList:[],userID:""};let a=!1;function c(e){for(const t in e)e[t]&&(s[t]=e[t])}function u(e){return new r((t,n)=>{if(a&&e)t(s);else{let e=sessionStorage.getItem("loginTime");r.all([o.a.getCasUserInfo({getNickName:"1"}),o.a.getUserRouteInfo({req:{}}),e&&(new Date).getTime()-Number(e)<3e5?o.a.setAccountLoginTime({req:{}}):null]).then(e=>{var o;if(e&&e.length){if(6==(null===(o=e[0])||void 0===o?void 0:o.NSP_STATUS))i.a.reLogin();else if(c({userInfo:e[0]}),e&&e[1]){const{userRouteInfoList:t}=e[1];t&&c({userRouteInfoList:t});let n=e[1].userRouteInfoList&&e[1].userRouteInfoList.filter(e=>!e.memberUserID);if(n&&n.length){let{realName:e,userType:t,verifyRealState:o,countryCode:i,userID:r}=n[0];c({developerInfo:{realName:e,userType:t,verifyRealState:o,country:i},userID:r})}a=!0}t(s)}else n()}).catch(()=>n())}})}t.a={User:s,updateUser:c,isVerified:function(){return 2===s.developerInfo.verifyRealState},getUserInfo:u,fetchUserInfo:function(){return u(!0)}}},function(e,t,n){(function(t,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var o;o=function(){"use strict";function e(e){return"function"==typeof e}var o=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,r=void 0,s=void 0,a=function(e,t){d[i]=e,d[i+1]=t,2===(i+=2)&&(s?s(p):C())},c="undefined"!=typeof window?window:void 0,u=c||{},l=u.MutationObserver||u.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function g(){var e=setTimeout;return function(){return e(p,1)}}var d=new Array(1e3);function p(){for(var e=0;e<i;e+=2)(0,d[e])(d[e+1]),d[e]=void 0,d[e+1]=void 0;i=0}var v,m,w,y,C=void 0;function b(e,t){var n=this,o=new this.constructor(_);void 0===o[T]&&D(o);var i=n._state;if(i){var r=arguments[i-1];a((function(){return L(i,o,r,n._result)}))}else U(n,o,e,t);return o}function A(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(_);return x(t,e),t}f?C=function(){return t.nextTick(p)}:l?(m=0,w=new l(p),y=document.createTextNode(""),w.observe(y,{characterData:!0}),C=function(){y.data=m=++m%2}):h?((v=new MessageChannel).port1.onmessage=p,C=function(){return v.port2.postMessage(0)}):C=void 0===c?function(){try{var e=Function("return this")().require("vertx");return void 0!==(r=e.runOnLoop||e.runOnContext)?function(){r(p)}:g()}catch(e){return g()}}():g();var T=Math.random().toString(36).substring(2);function _(){}function S(t,n,o){n.constructor===t.constructor&&o===b&&n.constructor.resolve===A?function(e,t){1===t._state?I(e,t._result):2===t._state?k(e,t._result):U(t,void 0,(function(t){return x(e,t)}),(function(t){return k(e,t)}))}(t,n):void 0===o?I(t,n):e(o)?function(e,t,n){a((function(e){var o=!1,i=function(e,t,n,o){try{e.call(t,n,o)}catch(e){return e}}(n,t,(function(n){o||(o=!0,t!==n?x(e,n):I(e,n))}),(function(t){o||(o=!0,k(e,t))}),e._label);!o&&i&&(o=!0,k(e,i))}),e)}(t,n,o):I(t,n)}function x(e,t){if(e===t)k(e,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(o=t),null===o||"object"!==i&&"function"!==i)I(e,t);else{var n=void 0;try{n=t.then}catch(t){return void k(e,t)}S(e,t,n)}var o,i}function E(e){e._onerror&&e._onerror(e._result),O(e)}function I(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&a(O,e))}function k(e,t){void 0===e._state&&(e._state=2,e._result=t,a(E,e))}function U(e,t,n,o){var i=e._subscribers,r=i.length;e._onerror=null,i[r]=t,i[r+1]=n,i[r+2]=o,0===r&&e._state&&a(O,e)}function O(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var o=void 0,i=void 0,r=e._result,s=0;s<t.length;s+=3)o=t[s],i=t[s+n],o?L(n,o,i,r):i(r);e._subscribers.length=0}}function L(t,n,o,i){var r=e(o),s=void 0,a=void 0,c=!0;if(r){try{s=o(i)}catch(e){c=!1,a=e}if(n===s)return void k(n,new TypeError("A promises callback cannot return that same promise."))}else s=i;void 0!==n._state||(r&&c?x(n,s):!1===c?k(n,a):1===t?I(n,s):2===t&&k(n,s))}var R=0;function D(e){e[T]=R++,e._state=void 0,e._result=void 0,e._subscribers=[]}var N=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(_),this.promise[T]||D(this.promise),o(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?I(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&I(this.promise,this._result))):k(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,o=n.resolve;if(o===A){var i=void 0,r=void 0,s=!1;try{i=e.then}catch(e){s=!0,r=e}if(i===b&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===M){var a=new n(_);s?k(a,r):S(a,e,i),this._willSettleAt(a,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(o(e),t)},e.prototype._settledAt=function(e,t,n){var o=this.promise;void 0===o._state&&(this._remaining--,2===e?k(o,n):this._result[t]=n),0===this._remaining&&I(o,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;U(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},e}(),M=function(){function t(e){this[T]=R++,this._result=this._state=void 0,this._subscribers=[],_!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){x(e,t)}),(function(t){k(e,t)}))}catch(t){k(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return M.prototype.then=b,M.all=function(e){return new N(this,e).promise},M.race=function(e){var t=this;return o(e)?new t((function(n,o){for(var i=e.length,r=0;r<i;r++)t.resolve(e[r]).then(n,o)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},M.resolve=A,M.reject=function(e){var t=new this(_);return k(t,e),t},M._setScheduler=function(e){s=e},M._setAsap=function(e){a=e},M._asap=a,M.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var o=null;try{o=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===o&&!t.cast)return}e.Promise=M},M.Promise=M,M},e.exports=o()}).call(this,n(7),n(8))},function(e,t,n){"use strict";t.a={language:"cn",site:{china:"1",european:"3",singapore:"2",russia:"8"},oAuthConfig:{regUrl:"https://id1.cloud.huawei.com/CAS/portal/userRegister/regbyemail.html",userCenter:"https://id1.cloud.huawei.com/CAS/portal/userCenter/index.html",loginURL:"https://oauth-login.cloud.huawei.com/oauth2/v2/authorize",logoutURL:"https://oauth-login.cloud.huawei.com/connect/v2/logout",getATUrl:"https://svc-drcn.developer.huawei.com/codeserver",permissions:["https://www.huawei.com/auth/account/country","https://www.huawei.com/auth/account/base.profile","https://www.huawei.com/auth/account/loginid","https://www.huawei.com/auth/account/account.flags","https://www.huawei.com/auth/account/realname/state","https://www.huawei.com/auth/account/realname/identity","https://www.huawei.com/auth/account/realname/ctf.type","https://www.huawei.com/auth/account/state.register","https://www.huawei.com/auth/account/anonymous.mobile"],codeServerURL:{1:"https://svc-drcn.developer.huawei.com/codeserver",3:"https://svc-dre.developer.huawei.com/codeserver",2:"https://svc-dra.developer.huawei.com/codeserver",8:"https://svc-drru.developer.huawei.com/codeserver"},clientID:"6099200",loginChannel:"89000000",reqClientType:"89",handleLoginUrl:"https://developer.huawei.com/aui2/handleLoginV2.html",isRecordLogin:!0}}},function(e,t){var n,o,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var c,u=[],l=!1,f=-1;function h(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&g())}function g(){if(!l){var e=a(h);l=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,l=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||l||a(g)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var o=n(3),i=n(2),r=n(0),s=n(6),a=n(4),c=n(1);r.a.setEnv(s.a),window.AUI2={ENV:r.a,LOGIN:o.a,ACCOUNT:a.a,OPENGW:i.a,UTIL:c.a}}]);