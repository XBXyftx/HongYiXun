/*! For license information please see 16826.b9f6f37e.js.LICENSE.txt */
"use strict";(self.webpackChunkapp_botstudio_main=self.webpackChunkapp_botstudio_main||[]).push([["16826"],{800780:function(t,n,r){function e(){return!0}function i(){return!1}function o(t){return"function"==typeof t&&"number"!==t.nodeType}r.d(n,{ar:function(){return i},cI:function(){return e},mf:function(){return o}})},382443:function(t,n,r){r.d(n,{EG:function(){return T},ky:function(){return I},nF:function(){return R},qF:function(){return w},qW:function(){return S},s7:function(){return H},vA:function(){return v},zs:function(){return d}});var e,i=r(170973),o=r(664941),u=r(171852),f=r(963036),a=r(893463),c=r(541956),s=r(800780),l=r(815696),p,b="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function v(){var t=[];return t.toMap=function(){return(0,o.A)(this)},t}function d(t){void 0===t&&(t=20);for(var n="",r=0;r<t;r++){var e=Math.floor(Math.random()*b.length);n+=b[e]}return n}function h(t,n,r){var n=t.offsetToPoint(n),e=n.line,i=n.offset,r=t.offsetToPoint(r),o=r.line,u=r.offset,f="";if(e===o)return t.getLine(e).getModelText().slice(i,u);for(var a=e;a<=o;a++){var c=t.getLine(a).getModelText();f+=a===e?c.slice(i):a===o?c.slice(0,u):c}return f}function y(t,n,r){return n=t.offsetToPoint(n),r=t.offsetToPoint(r),t.getEntities({start:n,end:r})}(e=p=p||{})[e.BLOCK=0]="BLOCK",e[e.LMKR=1]="LMKR",e[e.TEXT=2]="TEXT";var E=function(t,n){return I(t.attributes,n)?p.BLOCK:(0,u.eV)(t)?p.LMKR:p.TEXT},g=[[s.cI,s.cI,function(t,n){return!n.startsWith("\n")}],[s.ar,s.cI,s.ar],[function(t){return!t.endsWith("\n")},function(t){return!t.endsWith("\n")},s.ar]];function I(t,n){return void 0===t&&(t={}),Object.keys(t).some(function(r){var e=null===(e=n.get(r))||void 0===e?void 0:e.display;return"string"==typeof e?e===l.v.block:"function"==typeof e&&e(t[r])===l.v.block})}function T(t,n,r,e){if(e instanceof RegExp){if(t.match(e))return!0}else if(e(t,n,r))return!0;return!1}function P(t,n,r,e){var i=Object.keys(t).reduce(function(i,o){return o===n||T(o,t[o],r,e)?i[o]=t[o]:i[o]="",i},{});return t.lmkr&&(i.lmkr=t.lmkr),i}function m(t,n){var r=(0,i.b)({},t);return Object.keys(t).forEach(function(e){t[e]&&!n[e]&&delete r[e]}),r}function w(t,n){if(n)return Object.keys(n).filter(function(t){return n[t]}).find(function(n){var r;return(null===(r=t.get(n))||void 0===r?void 0:r.attributes)||(null===(n=t.get(n))||void 0===n?void 0:n.lineAttributes)})}function k(t,n,r){if(n>=t.ops.length)throw Error("getOpOffsetInDocumentWithCache index overstep");for(var e=n,i=0;0<=e;){if(r.has(e)){i+=r.get(e);break}var o=t.ops[e];(0,f.f)(o)!==a.HP.INSERT&&(i+=(0,f.a)(o)),e--}return i}function S(t,n,r){var e,o,u,s;return u=t,s=n,(e=t,o=n,r.reduce(function(t,n){if(!(n instanceof c.I))return t.concat(n);var r=e.getZoneState(n.zoneId);if(!r&&n.ops.some(function(t){return!t.insert}))throw Error("attempt to apply new ZoneDelta which is invalid");var u=!1,s=n.reduce(function(t,e,c){var s=(0,f.f)(e);return s===a.HP.DELETE?(t.push(e),t):s===a.HP.RETAIN?(u=!1,function(t,n,r,e,o){var u,c=t.ops[r];if(!c.attributes||!I(c.attributes,o))return!1;if(!(n=(u=n).ops[u.ops.length-1]))return!1;if((0,f.f)(n)===a.HP.INSERT)return!n.insert.endsWith("\n");for(var s=t.ops.slice(0,r).filter(function(t){return(0,f.f)(t)!==a.HP.INSERT});s[s.length-1]&&(0,f.f)(s[s.length-1])===a.HP.DELETE;)s.pop();return 0!==s.length&&"\n"!==h(e,(r=s.reduce(function(t,n){return t+(0,f.a)(n)},0))-1,r)&&!(0,i._)(y(e,r-1,r),1)[0].attributes.lmkr}(n,t,c,r,o)&&t.insertEnter(),t.push(e),function t(n,r,e,o,u){var c=n.ops[r],s=n.ops[e];if(!c.attributes||!I(c.attributes,u))return function(t,n,r,e){for(var o=!1,u=n+1;u<t.ops.length;){var c=(0,f.f)(t.ops[u]);if(c===a.HP.INSERT)return!1;if(c===a.HP.RETAIN)break;c===a.HP.DELETE&&(o=!0),u++}if(!o)return!1;var s=t.ops.slice(0,n+1).filter(function(t){return(0,f.f)(t)!==a.HP.INSERT}).reduce(function(t,n){return(0,f.a)(n)+t},0),l=(0,i._)(y(r,s-1,s),1)[0],p=I(l.attributes,e),b=t.ops.slice(0,u).filter(function(t){return(0,f.f)(t)!==a.HP.INSERT}).reduce(function(t,n){return(0,f.a)(n)+t},0),n=(0,i._)(y(r,b,b+1),1)[0],e=I(n.attributes,e);return p?!h(r,b,b+1).startsWith("\n"):e?!l.attributes.lmkr&&!h(r,s-1,s).endsWith("\n"):!(!l.attributes.lmkr||!n.attributes.lmkr)}(n,r,o,u);if(!s)return"\n"!==h(o,l=n.ops.filter(function(t){return(0,f.f)(t)!==a.HP.INSERT}).reduce(function(t,n){return t+(0,f.a)(n)},0),l+1);if((c=(0,f.f)(s))!==a.HP.INSERT)return c!==a.HP.RETAIN?t(n,r,e+1,o,u):"\n"!==h(o,l=n.ops.slice(0,e).filter(function(t){return(0,f.f)(t)!==a.HP.INSERT}).reduce(function(t,n){return t+(0,f.a)(n)},0),l+1);var l,s=s.insert.startsWith("\n"),r=n.ops.slice(0,r+1).filter(function(t){return(0,f.f)(t)!==a.HP.INSERT}).reduce(function(t,n){return t+(0,f.a)(n)},0),r=h(o,r-1,r).endsWith("\n");return!s&&!r}(n,c,c+1,r,o)&&t.insertEnter(),t):(!u&&function t(n,r,e,o,u){var c=n.ops[e],s=n.ops[r];if(s){var l=(0,f.f)(s);return l===a.HP.INSERT?(0,g[E(s,u)][E(c,u)])(s.insert,c.insert):l!==a.HP.RETAIN?t(n,r-1,e,o,u):(n=n.ops.slice(0,r+1).filter(function(t){return(0,f.f)(t)!==a.HP.INSERT}).reduce(function(t,n){return t+(0,f.a)(n)},0),r=(0,i._)(y(o,n-1,n),1)[0],(0,g[r=E({insert:n=h(o,n-1,n),attributes:r.attributes},u)][E(c,u)])(n,c.insert))}return!1}(n,c-1,c,r,o)&&t.insertEnter(),t.push(e),(c=function t(n,r,e,o,u){var c=n.ops[r],s=n.ops[e];if(!s){if(!o)return!1;var l=n.ops.slice().filter(function(t){return(0,f.f)(t)!==a.HP.INSERT}).reduce(function(t,n){return t+(0,f.a)(n)},0),p=(0,i._)(y(o,l,l+1),1)[0],b=h(o,l,l+1),l=E({insert:b,attributes:p.attributes},u);return(0,g[E(c,u)][l])(c.insert,b)}if((p=(0,f.f)(s))===a.HP.INSERT)return(0,g[E(c,u)][E(s,u)])(c.insert,s.insert);if(p!==a.HP.RETAIN)return p===a.HP.DELETE&&t(n,r,e+1,o,u);var n=n.ops.slice(0,e).filter(function(t){return(0,f.f)(t)!==a.HP.INSERT}).reduce(function(t,n){return t+(0,f.a)(n)},0),e=(0,i._)(y(o,n,n+1),1)[0],b=h(o,n,n+1),l=E({insert:b,attributes:e.attributes},u);return(0,g[E(c,u)][l])(c.insert,b)}(n,c,c+1,r,o))&&t.insertEnter(),u=c,t)},n.create({zoneId:n.zoneId}));return t.concat(s)},new f.D)).reduce(function(t,n){if(!(n instanceof c.I))return t.concat(n);var r=u.getZoneState(n.zoneId);if(!r&&n.ops.some(function(t){return!t.insert}))throw Error("attempt to apply new ZoneDelta which is invalid");var e=new Map,o=n.reduce(function(t,o,u){var c=(0,f.f)(o);if(c===a.HP.DELETE||!o.attributes)return t.push(o);var l,p,b=k(n,u-1,e);if(e.set(u-1,b),c===a.HP.RETAIN&&(l=b+(0,f.a)(o),(p=function(t,n,r){for(var e,o,u=[],a=t.offsetToPoint(n).line,c=t.getLine(a)._offsetStart,s=a;s<t.length();s++){var l=t.getLine(s).getOps();try{for(var p=(e=void 0,(0,i.c)(l)),b=p.next();!b.done;b=p.next()){var v,d,h=b.value,y=(0,f.a)(h),E=c+y;if(r<=c)return u;c<=r&&n<E&&(v=Math.max(n-c,0),d=Math.min(y,r-c),u.push({insert:h.insert.slice(v,d),attributes:h.attributes})),c+=y}}catch(t){e={error:t}}finally{try{b&&!b.done&&(o=p.return)&&o.call(p)}finally{if(e)throw e.error}}}return u}(r,b,l)).forEach(function(c,b){var v,d,h=(0,i.b)((0,i.b)({},c.attributes),o.attributes),E=w(s,h);if(E&&c.attributes&&null!==(v=s.get(E))&&void 0!==v&&v.attributes&&(R=s.get(E).attributes,h=P(h,E,c.attributes[E],R)),null!=h&&h.lmkr){var g=void 0;if(b<p.length-1)g=p[b+1].attributes;else{for(var I=!1,T=u+1;T<n.ops.length;){var S=n.ops[T];if((0,f.f)(S)!==a.HP.DELETE){var H,I=!0;g=(0,f.f)(S)===a.HP.INSERT?S.attributes:(H=k(n,u,e),e.set(u,H),H=(0,i._)(y(r,H,H+1),1)[0],(0,i.b)((0,i.b)({},H.attributes),S.attributes));break}T++}I||(g=(0,i._)(y(r,l,l+1),1)[0].attributes)}var R=w(s,g);return R&&(O=s.get(R).lineAttributes)&&(h=P(h,R,g[R],O)),t.retain(c.insert.length,m(o.attributes,h))}if(E){var O=s.get(E).lineAttributes;if(0<=b)return t.retain(c.insert.length,m(o.attributes,h));for(var N=t.ops.length-1,z=void 0;0<=N;){var x=(0,f.f)(t.ops[N]);if(x!==a.HP.DELETE){z=x;break}N++}return N<0?t.retain(c.insert.length,m(o.attributes,h)):(b=t.ops[N],z===a.HP.INSERT&&null!==(d=b.attributes)&&void 0!==d&&d.lmkr?O&&(t.ops[N]={insert:b.insert,attributes:P(b.attributes,E,c.attributes[E],O)}):z===a.HP.RETAIN&&b.attributes,t.retain(c.insert.length,m(o.attributes,h)))}return t.retain(c.insert.length,m(o.attributes,h))})),c!==a.HP.INSERT)return t;var v=o.attributes,d=w(s,v);if(d&&null!==(h=s.get(d))&&void 0!==h&&h.attributes&&(v=P(v,d,v[d],s.get(d).attributes)),o.attributes.lmkr){for(var h,E=void 0,g=!1,I=u+1;I<n.ops.length;){var T=n.ops[I];if((0,f.f)(T)!==a.HP.DELETE){g=!0,E=T.attributes;break}I++}g?(c=n.ops[I],(h=(0,f.f)(c))===a.HP.INSERT&&c.attributes&&(E=c.attributes),h===a.HP.RETAIN&&!c.attributes&&r&&(E=(H=(0,i._)(y(r,b,b+1),1)[0]).attributes)):r&&(E=(H=(0,i._)(y(r,b,b+1),1)[0]).attributes),!E||(S=w(s,E))&&(R=s.get(S).lineAttributes)&&(v=P(v,S,E[S],R))}else if(d){for(var S,H,R=s.get(d).lineAttributes,O=t.ops.slice(),N=O.length-1;0<=N;){var z=O[N],x=(0,f.f)(z);if(x===a.HP.RETAIN)break;if(x===a.HP.INSERT&&z.insert&&z.insert.includes("\n")){N=-1;break}N--}0<=N&&!O[N].attributes&&R&&r&&(z=O[N],S=O.slice(0,N+1).filter(function(t){return(0,f.f)(t)!==a.HP.INSERT}).reduce(function(t,n){return t+(0,f.a)(n)},0),(H=(0,i._)(y(r,S-1,S),1)[0]).attributes.lmkr&&(d=P(H.attributes,d,o.attributes[d],R),R=1<z.retain?[{retain:z.retain-1},{retain:1,attributes:d}]:[{retain:1,attributes:d}],(d=t.ops).splice.apply(d,(0,i.e)([N,1],R))))}return t.insert(o.insert,v)},new c.I({zoneId:n.zoneId}));return t.concat(o)},new f.D)}function H(t){return!t.some(function(t){return t._getOps().map(function(t){return"string"==typeof t.insert?t.insert:" "}).join("")!==t.getModelText()})}function R(t){return t.reduce(function(t,n){return n instanceof c.I?(n=n.reduce(function(t,n){if((0,f.f)(n)!==a.HP.INSERT||!n.insert)return t.push(n);var r=n.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n").replace(/\t/g," ".repeat(8)).replace(/[\x00-\x08\x0b\x0c\x0e-\x1f\x7f]/g,"");return r===n.insert?t.push(n):t.push((0,i.b)((0,i.b)({},n),{insert:r}))},new c.I({zoneId:n.zoneId})),t.concat(n)):t.concat(n)},new f.D)}},815696:function(t,n,r){var e,i;r.d(n,{v:function(){return e}}),(i=e=e||{}).inline="inline",i.block="block"},170973:function(t,n,r){r.d(n,{_:function(){return l},a:function(){return f},b:function(){return o},c:function(){return s},d:function(){return i},e:function(){return p},f:function(){return a},g:function(){return c},h:function(){return u}});var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(t,n)};function i(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var o=function(){return(o=Object.assign||function(t){for(var n,r=1,e=arguments.length;r<e;r++)for(var i in n=arguments[r])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};function u(t,n){var r={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&0>n.indexOf(i)&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,i=Object.getOwnPropertySymbols(t);e<i.length;e++)0>n.indexOf(i[e])&&Object.prototype.propertyIsEnumerable.call(t,i[e])&&(r[i[e]]=t[i[e]]);return r}function f(t,n,r,e){var i,o=arguments.length,u=o<3?n:null===e?e=Object.getOwnPropertyDescriptor(n,r):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,n,r,e);else for(var f=t.length-1;0<=f;f--)(i=t[f])&&(u=(o<3?i(u):3<o?i(n,r,u):i(n,r))||u);return 3<o&&u&&Object.defineProperty(n,r,u),u}function a(t,n,r,e){return new(r=r||Promise)(function(i,o){function u(t){try{a(e.next(t))}catch(t){o(t)}}function f(t){try{a(e.throw(t))}catch(t){o(t)}}function a(t){var n;t.done?i(t.value):((n=t.value)instanceof r?n:new r(function(t){t(n)})).then(u,f)}a((e=e.apply(t,n||[])).next())})}function c(t,n){var r,e,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},u={next:f(0),throw:f(1),return:f(2)};return"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function f(u){return function(f){return function(u){if(r)throw TypeError("Generator is already executing.");for(;o;)try{if(r=1,e&&(i=2&u[0]?e.return:u[0]?e.throw||((i=e.return)&&i.call(e),0):e.next)&&!(i=i.call(e,u[1])).done)return i;switch(e=0,(u=i?[2&u[0],i.value]:u)[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,e=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){o.label=u[1];break}if(6===u[0]&&o.label<i[1]){o.label=i[1],i=u;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(u);break}i[2]&&o.ops.pop(),o.trys.pop();continue}u=n.call(t,o)}catch(t){u=[6,t],e=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,f])}}}function s(t){var n="function"==typeof Symbol&&Symbol.iterator,r=n&&t[n],e=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&e>=t.length?void 0:t)&&t[e++],done:!t}}};throw TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,n){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var e,i,o=r.call(t),u=[];try{for(;(void 0===n||0<n--)&&!(e=o.next()).done;)u.push(e.value)}catch(t){i={error:t}}finally{try{e&&!e.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return u}function p(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(l(arguments[n]));return t}},171852:function(t,n,r){r.d(n,{Jg:function(){return o},eV:function(){return i}});var e=r(893463);function i(t){return!!(t.insert===e.F5&&t.attributes&&t.attributes.lmkr)}function o(t){return"object"==typeof t.insert&&t.insert.id}},541956:function(t,n,r){r.d(n,{I:()=>u});var e=r("877855"),i=r("893463");r("434058");var o=r("963036"),u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}(0,e.d)(n,t);var r=n.prototype;return r.create=function(t){return t.zoneType=t.zoneType||this.zoneType,new n(t)},r.insert=function(n,r){return t.prototype.insert.call(this,n,r,!1)},r.insertLineMarker=function(t){void 0===t&&(t={});var n=Object.assign({lmkr:1},t);return this.insert(i.F5,n),this},r.insertEnterAndLineMarker=function(t){this.insert(i.K5,t&&t.enterAttributes?t.enterAttributes:{});var n=Object.assign({lmkr:1},t&&t.lineAttributes?t.lineAttributes:{});return this.insert(i.F5,n),this},n}(function(t){function n(n){void 0===n&&(n={});var r=t.call(this)||this;r.ops=[];var e=n.zoneId,o=n.ops;return r.zoneId=e||"0",r.zoneType=i.Ak.Content,o&&o.length>0&&(r.ops=o),r}(0,e.d)(n,t);var r=n.prototype;return r.create=function(t){return t.zoneType=t.zoneType||this.zoneType,new n(t)},r.insertEnter=function(t){return void 0===t&&(t={}),this.insert(i.K5,t),this},r.insertEnterAndLineMarker=function(t){return this},r.insertLineMarker=function(t){return this},n}(o.w));o.w.registerCreator(i.Ak.Content,u)},282695:function(t,n,r){r.d(n,{eh:()=>l,yN:()=>f,NE:()=>c,z3:()=>s,Ul:()=>p,qL:()=>a});var e=r("382443"),i=r("541956"),o=r("963036"),u=r("221013");function f(t,n,r){var e=!1,o=new Set;return t.forEach(function(t){if(t instanceof i.I)t.forEach(function(t){r(t)&&(e=!0,o.add(t.attributes.zoneId))})}),e&&o.forEach(function(r){var e,i=null===(e=n.getContentState().getZoneState(r))||void 0===e?void 0:e.getContent();i&&t.add(i)}),e}function a(t,n){var r=[];return t=t.reduce(function(e,o){if(!(o instanceof i.I))return e.concat(o);var u=o.reduce(function(e,i){if(!n(i))return e.push(i);var o=t.get(i.attributes.zoneId);return r.push(o.zoneId),e.concat(o)},new i.I({zoneId:o.zoneId}));return e.concat(u)},new o.D),r.forEach(function(n){return t.delete(n)}),t}function c(t,n,r){return void 0===n&&(n=!1),t=t.reduce(function(t,e){if(!(e instanceof i.I)||(o=e.zoneId)!==u.S&&10!==o.length)return t;var o,f=e.reduce(function(t,e){return e.attributes?r&&r(e)?t:n&&e.attributes.lmkr?t.insertLineMarker():t.push(e):t.push(e)},new i.I({zoneId:e.zoneId}));return p(f),t.concat(f)},new o.D)}function s(){return(0,e.zs)(10).toLowerCase()}function l(t,n){var r=t||s(),e=new i.I({zoneId:r});return n?e.insert(n):e.insert("\n"),e}function p(t){var n=t.ops.pop();n&&n.insert&&("string"==typeof n.insert&&n.insert.endsWith("\n")&&(n.insert=n.insert.slice(0,-1)),n.insert&&t.ops.push(n))}},664941:function(t,n,r){r.d(n,{A:function(){return i}});var e=r(329684);function i(t){var n,r,i={};try{for(var o=(0,e._)(t),u=o.next();!u.done;u=o.next()){var f=u.value;i[f[0]]=f[1]}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}},221013:function(t,n,r){r.d(n,{S:function(){return e}});var e="0"},329684:function(t,n,r){function e(t){var n="function"==typeof Symbol&&Symbol.iterator,r=n&&t[n],e=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}};throw TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(t,n){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var e,i,o=r.call(t),u=[];try{for(;(void 0===n||n-- >0)&&!(e=o.next()).done;)u.push(e.value)}catch(t){i={error:t}}finally{try{e&&!e.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return u}function o(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(i(arguments[n]));return t}r.d(n,{_:function(){return e},a:function(){return i},b:function(){return o}})}}]);
//# sourceMappingURL=https://sourcemap-redirect.coze.cn/obj/coze-sourcemap/ol-sourcemap/bot/1.0.2.2395/16826.b9f6f37e.js.map