!function(e,t){for(var i in t)e[i]=t[i]}(window,function(e){var t={};function i(n){var o;return(t[n]||(o=t[n]={i:n,l:!1,exports:{}},e[n].call(o.exports,o,o.exports,i),o.l=!0,o)).exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=19)}([function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,function(e){return e=function(e,t){if("object"!=n(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return String(e);if("object"!=n(e=i.call(e,t)))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"==n(e)?e:e+""}(o.key),o)}}var r=function(){return e=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")},(t=[{key:"createEle",value:function(e,t){var i=document.createElement(e);return t&&t.split(" ").forEach((function(e){i.classList.add(e)})),i}},{key:"afterAppendDom",value:function(e,t){t.nextSibling?t.parentNode.insertBefore(e,t):t.parentNode.appendChild(e)}}])&&o(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();t.a=r},function(e,t,i){"use strict";function n(e,t,i,n){return new(i=i||Promise)((function(o,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))}i.d(t,"a",(function(){return n})),Object.create},function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,function(e){return e=function(e,t){if("object"!=n(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return String(e);if("object"!=n(e=i.call(e,t)))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"==n(e)?e:e+""}(o.key),o)}}var r=function(){return e=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")},(t=[{key:"isSafeUrl",value:function(e){return!(!e||!e.match(/^(?:(?:https?|mailto):|[^&:/?#]*(?:[/?#]|$))/gi)&&!e.match(/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i))&&e}},{key:"ajax_method",value:function(e,t,i,n){var o=new XMLHttpRequest;"get"==i?(o.open(i,e),o.send()):(o.open(i,e),o.setRequestHeader("Content-type","application/json; charset=utf-8"),t?(t=JSON.stringify(t),o.send(t)):o.send()),o.onreadystatechange=function(){4==o.readyState&&200==o.status&&n(o.responseText)}}},{key:"loadCommonResources",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=2<arguments.length?arguments[2]:void 0,n=3<arguments.length?arguments[3]:void 0,o=[],r=function(e,t,i,n){var a,s,l,c;t.length?"string"==typeof(a=t.shift())?0<=o.indexOf(a)?r(e,t,i,n):(s=function(){o.push(a),r(e,t,i,n)},2!=(l=a.split(".css")).length||l[1]?(l=document.createElement("script"),document.body.appendChild(l),l.onload=s,l.src=e+"/"+a+".js"+(n?"?v=".concat(n):"")):(l=document.createElement("link"),document.head.appendChild(l),l.rel="stylesheet",l.onload=s,l.type="text/css",l.href=e+"/"+a+(n?"?v=".concat(n):""))):"[object Array]"===Object.prototype.toString.call(a)&&(a.length?(c=0,a.forEach((function(s){var l,d;0<=o.indexOf(s)?++c===a.length&&r(e,t,i,n):(l=function(){c++,o.push(s),c===a.length&&r(e,t,i,n)},2!=(d=s.split(".css")).length||d[1]?(d=document.createElement("script"),document.body.appendChild(d),d.onload=l,d.src=e+"/"+s+".js"+(n?"?v=".concat(n):"")):(d=document.createElement("link"),document.body.appendChild(d),d.rel="stylesheet",d.onload=l,d.href=e+"/"+s+(n?"?v=".concat(n):"")))}))):r(e,[],i,n)):i&&i(window)};r(e,t,i,n)}},{key:"removeUrlSlashes",value:function(e){return"/"===e.substr(-1)?e.substring(0,e.length-1):e}},{key:"getUtcToLocalFormatTime",value:function(e){var t;if(null!=e&&""!==e)return t=-(e=new Date(Date.parse(e.replace(/-/g,"/")))).getTimezoneOffset()/60,(e=new Date(e.getTime()+60*t*60*1e3)).getFullYear()+"-"+this.appendZero(e.getMonth()+1)+"-"+this.appendZero(e.getDate())+" "+this.appendZero(e.getHours())+":"+this.appendZero(e.getMinutes())+":"+this.appendZero(e.getSeconds())}},{key:"appendZero",value:function(e){return 2<=(e+="").length?e:("00"+e).substr((e+"").length)}},{key:"isMobile",value:function(){return/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)}},{key:"isAndroid",value:function(){return/Android/i.test(navigator.userAgent)}},{key:"isAllianceApp",value:function(){return/allianceapp/i.test(navigator.userAgent)}},{key:"isNewAllianceApp",value:function(){var e;return!!/allianceapp/i.test(navigator.userAgent)&&120111e3<=(null==(e=navigator.userAgent)?void 0:e.split("AllianceApp")[1])}},{key:"getCookie",value:function(e){e=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(e=document.cookie.match(e))?decodeURIComponent(e[2]):null}},{key:"getCurrentLang",value:function(){var e=document.querySelector("html").getAttribute("lang")||"zh";return"cn"==e||"zh"==e?"zh":"ru"==e?e:"en"}},{key:"queryAlienceAgreement",value:function(){return new Promise((function(e){AUI2.OPENGW.createGWService("PartnerCommunityService/v1/developer/querySign",{reqType:1})({agreementInfoList:[{agrType:800,country:"cn",count:1}]}).then((function(t){var i;t&&"00000"===t.code?0<t.signInfo.length?null!=(i=t.signInfo[0])&&i.isAgree&&!t.signInfo[0].needSign?e({contentType:1,version:t.signInfo[0].version}):null!=(i=t.signInfo[0])&&i.isAgree&&!t.signInfo[0].needSign||(i=t.signInfo[0].needSign?2:3,e({contentType:i,version:t.signInfo[0].version})):0===t.signInfo.length&&e({contentType:3,version:t.versionInfo[0].newestVersion}):e({contentType:0,version:""})}))}))}}])&&o(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();t.a=r},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));class n{constructor(){window.commonObservable||(window.commonObservable={})}subscribe(e,t){window.commonObservable[e]||(window.commonObservable[e]=[]);const i=window.commonObservable[e].push(t);return{unsubscribe:()=>{window.commonObservable[e].splice(i-1,1,null)}}}publish(e,t={}){(window.commonObservable[e]||[]).forEach(e=>{e&&e.call(null,t)})}}var o;(t=o=o||{})[t.loading=0]="loading",t[t.loaded=1]="loaded";class r{constructor(){this.observable=new n,window.loadedScripts||(window.loadedScripts=[])}loadScript(...e){let[t,i=[],n,r=""]=e;if(i.length){const e=i.shift();if("string"==typeof e){const a=t+"/"+e;0<=window.loadedScripts.indexOf(a)?this.loadScript(t,i,n,r):0<window.loadedScripts.filter(e=>{if(e.path===a)return!0}).length?this.loadResources(a).then(e=>{e&&this.loadScript(t,i,n,r)}):this.documentAppendHeaderResources(e,()=>{this.observable.publish("loadResources",{data:a}),window.loadedScripts=window.loadedScripts.map(e=>(e.path===a&&(e.status=o.loaded),e)),this.loadScript(t,i,n,r)},t,r)}else if("[object Array]"===Object.prototype.toString.call(e))if(e.length){let a=0;e.forEach(s=>{const l=t+"/"+s;0<=window.loadedScripts.indexOf(l)?++a===e.length&&this.loadScript(t,i,n,r):0<window.loadedScripts.filter(e=>{if(e.path===l)return!0}).length?this.loadResources(l).then(e=>{e&&this.loadScript(t,i,n,r)}):this.documentAppendHeaderResources(s,()=>{a++,window.loadedScripts=window.loadedScripts.map(e=>(e.path===l&&(e.status=o.loaded),e)),this.observable.publish("loadResources",{data:l}),a===e.length&&this.loadScript(t,i,n,r)},t,r)})}else this.loadScript(t,[],n,r)}else n&&n(window)}documentAppendHeaderResources(e,t,i,n){var r;e.match(/.css$/gi)?(r=document.createElement("link"),document.head.appendChild(r),r.rel="stylesheet",r.onload=t,r.type="text/css",r.href=i+"/"+e+"?v="+n):(r=document.createElement("script"),document.body.appendChild(r),r.onload=t,r.src=i+"/"+e+".js?v="+n),window.loadedScripts.push({path:i+"/"+e,status:o.loading})}loadResources(e){return new Promise((t,i)=>{if(0<window.loadedScripts.filter(t=>{if(t.path===e&&t.status===o.loaded)return!0}).length)t(!0);else{const i=this.observable.subscribe("loadResources",n=>{n.data===e&&(i.unsubscribe(),t(!0))})}})}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(0);i(6);class o{constructor(){this.baseEle=new n.a}create(...e){var[e,t,i,n]=e,o=this.baseEle.createEle("div","cpCommon_Popover");o.innerText=n,o.setAttribute("id",e),o.style.left=t+"px",o.style.bottom=document.documentElement.clientHeight-i+"px",document.body.append(o)}destory(e){document.getElementById(e)&&document.getElementById(e).parentElement.removeChild(document.getElementById(e))}}i(5);class r{constructor(){this.baseEle=new n.a,this.basePopover=new o}getCheckBoxValue(e){e=document.querySelectorAll(`div.cpCommon_checkbox[data-name='${e}']`);const t=[];return e.forEach(e=>{"true"===e.dataset.checked&&t.push(e.dataset.value)}),t}createFormlabel(e,t=!0){var i=this.baseEle.createEle("div","cpCommon_form_label");return i.innerText=e,t&&i.classList.add("required"),i}createCheckboxList(e,t){const i=this.baseEle.createEle("div","form_offset");return t.forEach(t=>{i.appendChild(this.createCheckbox(t.label,e,t.value))}),i}createCheckbox(...e){let[t,i,n,o,r,a,s]=e;const l=this.baseEle.createEle("div","cpCommon_checkbox");l.setAttribute("data-name",i),l.setAttribute("data-checked",!0===o),l.setAttribute("data-value",n);e=this.baseEle.createEle("div","cpCommon_checkbox_widgets");var c=(l.appendChild(e),this.baseEle.createEle("div","cpCommon_checkbox_label"));if("object"==typeof t?c.appendChild(t):c.innerText=t,l.appendChild(c),a){c=this.baseEle.createEle("div","cpCommon_checkbox_tip");const e=this.baseEle.createEle("span"),t=this.baseEle.createEle("em");t.innerText=a,e.appendChild(t),c.appendChild(e),c.addEventListener("mouseover",i=>{e.offsetWidth>t.offsetWidth+32&&(e.style.width=t.offsetWidth+32+"px")}),l.appendChild(c)}return(s?e:l).addEventListener("click",e=>{var t=l.getAttribute("data-checked"),i=l.getAttribute("data-disabled");i&&"false"!==i||("true"===t?l.setAttribute("data-checked",!1):l.setAttribute("data-checked",!0),"function"==typeof r&&r(l))}),l}createRadio(e,t,i,n=!1,o){const r=this.baseEle.createEle("div","cpCommon_radio");return r.setAttribute("data-name",t),r.setAttribute("data-checked",n),r.setAttribute("data-value",i),n=this.baseEle.createEle("div","cpCommon_radio_widgets"),r.appendChild(n),i=this.baseEle.createEle("div","cpCommon_radio_label"),"object"==typeof e?i.appendChild(e):i.innerText=e,r.appendChild(i),r.addEventListener("click",e=>{"true"!==r.getAttribute("data-checked")&&(r.setAttribute("data-checked",!0),"function"==typeof o)&&o(r),Array.prototype.forEach.call(document.querySelectorAll(`div.cpCommon_radio[data-name='${t}']`),e=>{r.dataset.value!==e.dataset.value&&(e.dataset.checked=!1)})}),r}getRadioData(e){let t=null;var i=document.querySelectorAll(`div.cpCommon_radio[data-name='${e}']`);for(let e=0;e<i.length;e++)if("true"===i[e].dataset.checked){t=i[e].dataset.value;break}return t}getInputData(e){return document.querySelector(`input.cpCommon_form_input[data-name='${e}']`).value}getTextareaData(e){return document.querySelector(`textarea.cpCommon_form_textarea[data-name='${e}']`).value}getSelectData(e){return document.querySelector(`div.cpCommon_select[data-name='${e}']`).dataset.value}getTagData(e){const t=[];return document.querySelectorAll(`div.cpCommon_tag[data-name='${e}']`).forEach(e=>{"true"===e.dataset.selected&&t.push(e.dataset.value)}),t}createTag(...e){let[t,i,n,o=!1,r,a]=e;const s=this.baseEle.createEle("div","cpCommon_tag"),l=(s.setAttribute("data-name",i),s.setAttribute("data-selected",o),s.setAttribute("data-value",n),s.innerText=t,s.addEventListener("click",e=>{"true"===s.getAttribute("data-selected")?s.setAttribute("data-selected",!1):s.setAttribute("data-selected",!0),"function"==typeof r&&r(s)}),this.baseEle.createEle("span")),c=this.baseEle.createEle("em");return c.innerText=a,s.addEventListener("mouseover",e=>{l.offsetWidth>c.offsetWidth+32&&(l.style.width=c.offsetWidth+32+"px")}),l.appendChild(c),s.appendChild(l),s}createInput(e,t,i,n){var o=this.baseEle.createEle("input","cpCommon_form_input");return o.setAttribute("data-name",e),o.setAttribute("placeholder",t),i&&o.setAttribute("maxlength",i),n&&(o.value=n),o}createTextArea(e,t,i,n){var o=this.baseEle.createEle("textarea","cpCommon_form_textarea");return o.setAttribute("data-name",e),o.setAttribute("placeholder",t),i&&o.setAttribute("maxlength",i),n&&(o.value=n),o}createSelect(e,t,i=null){const n=this.baseEle.createEle("div","cpCommon_select"),o=(n.setAttribute("data-name",e),this.baseEle.createEle("div","cpCommon_select_label"));o.innerText=(e=>{for(let t=0;t<e.length;t++)if(!0===e[t].selected)return e[t];return e[0]})(t).label,n.appendChild(o);const r=this.baseEle.createEle("div","cpCommon_select_list");t.forEach(e=>{const t=this.baseEle.createEle("div");t.innerText=e.label,t.addEventListener("click",a=>{n.setAttribute("data-value",e.value),o.innerText=e.label,t.setAttribute("data-selected",!0),Array.prototype.forEach.call(r.querySelectorAll("div"),e=>{t.dataset.value!==e.dataset.value&&(e.dataset.selected=!1)}),"function"==typeof i&&i(t)}),t.setAttribute("data-value",e.value),t.setAttribute("data-selected",!0===e.selected),!0===e.selected&&n.setAttribute("data-value",e.value),r.appendChild(t)}),n.appendChild(r);let a=!1;return n.addEventListener("click",e=>{a?n.classList.remove("selectOpen"):n.classList.add("selectOpen"),a=!a}),document.addEventListener("click",e=>{n.contains(e.target)||(n.classList.remove("selectOpen"),a=!1)}),n}}},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";var n=i(0);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){return e=function(e,t){if("object"!=o(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return String(e);if("object"!=o(e=i.call(e,t)))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"==o(e)?e:e+""}(n.key),n)}}i(8),i=function(){return e=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.baseEle=new n.a},(t=[{key:"createModal",value:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var o=i[0],r=void 0!==(r=i[1])&&r,a=i[2],s=void 0===(s=i[3])||s,l=(document.body.style.overflow="hidden",this.baseEle.createEle("div",a?"cpCommon_modal ".concat(a):"cpCommon_modal")),c=(a=this.baseEle.createEle("div","cpCommon_container"),this.createCloseBtn(l)),d=this.baseEle.createEle("div","cpCommon_container_main"),u=(s=(s&&a.appendChild(c),o.title),c=o.content,o.footer);o=o.extraAfterContent,s=this.createTitle(s),a.appendChild(s),a.appendChild(d),s=this.baseEle.createEle("div","cpCommon_content"),c&&s.appendChild(c),c=this.baseEle.createEle("div","cpCommon_footer");return u&&c.appendChild(u),d.appendChild(s),o&&d.appendChild(o),d.appendChild(c),l.appendChild(a),r&&l.addEventListener("click",(function(t){t=t.target,20!==l.compareDocumentPosition(t)&&16!==l.compareDocumentPosition(t)&&e.closeModal(l)})),l}},{key:"createTitle",value:function(e){var t=this.baseEle.createEle("div","cpCommon_title");return e&&t.appendChild(e),t}},{key:"createCloseBtn",value:function(e){var t=this,i=this.baseEle.createEle("i","cpCommon_closebtn");return i.addEventListener("click",(function(i){t.closeModal(e)})),i}},{key:"closeModal",value:function(e){e.parentNode.removeChild(e),document.body.style.overflow=""}}])&&r(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),t.a=i},function(e,t,i){},,,,,,function(e,t,i){},,,,,function(e,t,i){"use strict";i.r(t);var n,o=i(1),r=(t=i(3),i(2)),a=i(4),s=i(7),l=i(0),c=[{label:"0-20人",value:1},{label:"20-99人",value:2},{label:"100-499人",value:3},{label:"500-999人",value:4},{label:"1000-9999人",value:5},{label:"10000人以上",value:6}];i(14),(i=n=n||{})[i.default=0]="default",i[i.clickIcon=1]="clickIcon";class d{constructor(){this.personalCenterUrl="",this.domain="",this.servletURL="",this.jshash="",this.nickname="",this.isEnableRegGuidelines=!0,this.isEnableAddNotRealName=!0,this.isVerify=!1,this.agreementFun=()=>{},this.solutionUrl="/consumer/cn/solutionservicerecommendation",this.openMode=n.default,this.referModuleName="official"}}window.regGuidelines=new class{constructor(e,t,i,n,o){this.util=e,this.baseForm=t,this.baseModal=i,this.baseEle=n,this.load=o,this.config=new d,this.specialJobType=["8","9","11"],this.DeveloperTypeList=[],this.industryInfoList=[],this.interestList=[],this.developerInfo={},this.clickOpenActiving=!0,this.solutionUrl=""}injectConf(e){return this.config=Object.assign(Object.assign({},this.config),e),this.solutionUrl=this.config.solutionUrl,this.config.referModuleName&&(this.solutionUrl=this.config.solutionUrl+"?referModuleName="+this.config.referModuleName),this}init(){document.documentElement.clientWidth<900||this.util.isAllianceApp()||(this.config.openMode===n.clickIcon?this.openRegGuidelines():this.loadAuiSdk().then(()=>Object(o.a)(this,void 0,void 0,(function*(){AUI2.LOGIN.isLogin()&&AUI2.ENV.getEnv().site.china===AUI2.LOGIN.getSiteId()&&this.config.isEnableAddNotRealName&&!this.config.isVerify&&AUI2.OPENGW.createGWService("OpenCommon.DelegateTm.OpenUP_Server4User_addNotRealName",{})({req:{}}).then(e=>{}),(yield this.enableRegGuidelines())&&AUI2.OPENGW.createGWService("PartnerCommunityService/v1/registerGuide/developer/getTriggerInfo",{prefix:!1,cn:!0,reqType:1})({req:{}}).then(e=>"00000"===(null==e?void 0:e.code)&&-1<(null==(e=null==e?void 0:e.value)?void 0:e.triggerIds.indexOf("1"))?this.getDeveloperBasicInfo():new Promise(e=>e(null))).then(e=>{var t;"00000"!==(null==e?void 0:e.code)||null!=(t=null==e?void 0:e.value)&&t.developerTypeList||(this.developerInfo=e.value,this.createFormModal())})}))))}openRegGuidelines(){this.injectConf({openMode:n.clickIcon}),this.clickOpenActiving&&(this.clickOpenActiving=!1,this.loadAuiSdk().then(()=>Object(o.a)(this,void 0,void 0,(function*(){(yield this.enableRegGuidelines())&&((yield new Promise(e=>{this.getDeveloperBasicInfo().then(t=>Object(o.a)(this,void 0,void 0,(function*(){var i;this.developerInfo=t.value,"00000"===t.code&&0<(null==(i=null==(i=t.value)?void 0:i.developerTypeList)?void 0:i.length)?e(!0):e(!1)})))}))?(this.clickOpenActiving=!0,location.href=this.solutionUrl):(yield this.createFormModal(),this.clickOpenActiving=!0))}))))}enableRegGuidelines(){return Object(o.a)(this,void 0,void 0,(function*(){return new Promise(e=>Object(o.a)(this,void 0,void 0,(function*(){AUI2.LOGIN.isLogin()&&AUI2.ENV.getEnv().site.china===AUI2.LOGIN.getSiteId()&&this.config.isEnableRegGuidelines||e(!1);var{contentType:t,version:i}=yield this.util.queryAlienceAgreement();2!==t&&3!==t||(this.clickOpenActiving=!0,this.config.agreementFun.call(this,t,i),e(!1)),e(!0)})))}))}loadAuiSdk(){return new Promise((e,t)=>{var i;if(window.AUI2)e(!0);else{let t="aui2-login-v2";0===location.pathname.indexOf("/consumer/cn/market")&&(t="aui2-login"),this.load.loadScript((this.config.domain||"")+"/aui2",[t],()=>{e(!0)},null!=(i=this.config.jshash)?i:"20250617")}})}createEditFormModal(e,t=!1){return Object(o.a)(this,void 0,void 0,(function*(){if(this.clickOpenActiving){if(this.clickOpenActiving=!1,!(yield this.enableRegGuidelines()))return!1;yield this.getDeveloperBasicInfo().then(e=>{"00000"===e.code&&(this.developerInfo=e.value)});var i=this.baseEle.createEle("span"),n=(i.innerText="Hi，让 HUAWEI DEVELOPERS 认识您",this.baseEle.createEle("div","baseInfoDiv")),o=(n.appendChild(this.createWelcomeDiv()),n.appendChild(yield this.createFormInfo()),this.baseEle.createEle("div")),r=this.baseEle.createEle("div","cpCommon_button cpCommon_grey"),a=(r.innerText="取消",this.baseEle.createEle("div","cpCommon_button cpCommon_black"));a.innerText="确认",o.appendChild(r),o.appendChild(a);let s={title:i,content:n,footer:o};1!==this.developerInfo.isShowcaseSubscribeInfo&&t&&(s=Object.assign(Object.assign({},s),{extraAfterContent:this.createSubscribeDiv()}));const l=this.baseModal.createModal(s,!1,"regGuidelines");document.body.appendChild(l),this.clickOpenActiving=!0,this.close=()=>{this.baseModal.closeModal(l)},r.addEventListener("click",e=>{this.baseModal.closeModal(l)}),a.addEventListener("click",t=>{this.submitCollectedDevInfo(e)})}}))}createFormModal(){return Object(o.a)(this,void 0,void 0,(function*(){var e=this.baseEle.createEle("span"),t=(e.innerText="Hi，让 HUAWEI DEVELOPERS 认识您",this.baseEle.createEle("div","baseInfoDiv")),i=(t.appendChild(this.createWelcomeDiv()),t.appendChild(yield this.createFormInfo()),this.baseEle.createEle("div")),n=this.baseEle.createEle("div","cpCommon_button cpCommon_grey"),o=(n.innerText="取消",this.baseEle.createEle("div","cpCommon_button cpCommon_black"));o.innerText="确认",i.appendChild(n),i.appendChild(o);let r={title:e,content:t,footer:i};1===this.developerInfo.isShowcaseSubscribeInfo||sessionStorage.getItem("acceptEDM")||(r=Object.assign(Object.assign({},r),{extraAfterContent:this.createSubscribeDiv()}));const a=this.baseModal.createModal(r,!1,"regGuidelines");document.body.appendChild(a),this.close=()=>{this.baseModal.closeModal(a)},n.addEventListener("click",e=>{this.baseModal.closeModal(a)}),o.addEventListener("click",e=>{this.submitCollectedDevInfo()})}))}formatSuccessTips(e){var{ruleName:e,showCreditInfo:t,credits:i}=e;if(e){var n=document.querySelector(".rule-message-success");n&&document.body.removeChild(n);let o="";o=0<t?`恭喜完成${e}任务，积分+${i}！`:`恭喜完成${e}任务！`;const r=this.baseEle.createEle("div","rule-message-success");r.innerText=o,document.body.appendChild(r),setTimeout(()=>{document.body.removeChild(r)},3e3)}}submitCollectedDevInfo(e){let{params:t,isPass:i}=this.getFormValidationData();1!==this.developerInfo.isShowcaseSubscribeInfo&&0<this.baseForm.getCheckBoxValue("isSubscribe").length&&(t.isShowcaseSubscribeInfo=1),i&&this.loadAuiSdk().then(()=>{AUI2.LOGIN.isLogin()&&AUI2.OPENGW.createGWService("PartnerCommunityService/v1/registerGuide/developer/addOrUpdateDeveloperBasicInfo",{prefix:!1,cn:!0,reqType:1})(t).then(t=>{0===t.code&&(this.formatSuccessTips(t),"function"==typeof e?e(t):this.close())})})}createFormInfo(){return Object(o.a)(this,void 0,void 0,(function*(){yield this.getDeveloperBasicInfoOptions().then(e=>{this.DeveloperTypeList=e.developerTypeInfoList,this.industryInfoList=this.handleIndustryList(e.industryInfoList),this.interestList=e.interestList});var e=this.baseEle.createEle("div","cpCommon_form"),t=(e.appendChild(this.baseForm.createFormlabel("您属于",!1)),e.appendChild(this.createDeveloperType()),this.baseEle.createEle("div","cpCommon_form_mergeDiv")),i=this.baseEle.createEle("div","cpCommon_form_mergeDivItem"),n=(i.appendChild(this.baseForm.createFormlabel("您从事的岗位是？",!1)),this.baseEle.createEle("div","cpCommon_form_row"));return n.appendChild(yield this.createJobTypeItem()),i.appendChild(n),t.appendChild(i),t.appendChild(this.createcompanyGroup()),e.appendChild(t),e.appendChild(this.createBusinessDomainGroup()),e.appendChild(this.createinterestGroup()),e}))}handleIndustryList(e){var t=e.find(e=>"其他"===e.name);return t?[...e.filter(e=>"其他"!==e.name),t]:e}createJobTypeItem(){return Object(o.a)(this,void 0,void 0,(function*(){var e=this.baseEle.createEle("div","form_offset"),t=yield this.getDeveloperJobTypeList();return(t=(this.developerInfo.jobType&&t.forEach(e=>{e.value===this.developerInfo.jobType?e.selected=!0:e.selected=!1}),[...t])).unshift({label:"请选择岗位",value:null}),e.appendChild(this.baseForm.createSelect("JobType",t,e=>{var t=document.querySelector("div[data-relationship='companySize']");this.specialJobType.includes(e.dataset.value)?t.setAttribute("data-show","false"):t.setAttribute("data-show","true"),this.removeErrorTips("JobType")})),e}))}createinterestGroup(){var e=this.baseEle.createEle("div","cpCommon_form_group"),t=(e.setAttribute("data-relationship","interest"),e.setAttribute("data-show",0<(null==(t=this.developerInfo.developerTypeList)?void 0:t.length)),e.appendChild(this.baseForm.createFormlabel("您的兴趣方向有哪些？（最多可选5项）",!1)),this.baseEle.createEle("div","cpCommon_form_row"));return t.appendChild(this.createinterestItem()),e.appendChild(t),e}createBusinessDomainGroup(){var e,t=this.baseEle.createEle("div","cpCommon_form_group");return t.setAttribute("data-relationship","businessDomain"),t.setAttribute("data-show",0<(null==(e=this.developerInfo.developerTypeList)?void 0:e.length)),t.appendChild(this.baseForm.createFormlabel("您从事的行业？",!1)),t.appendChild(this.createBusinessDomain()),t}createcompanyGroup(){var e=this.baseEle.createEle("div","cpCommon_form_group"),t=(e.setAttribute("data-relationship","companySize"),e.setAttribute("data-show",!this.specialJobType.includes(null==(t=null==(t=this.developerInfo)?void 0:t.jobType)?void 0:t.toString())),this.baseEle.createEle("div","cpCommon_form_row")),i=(this.developerInfo.companySize&&c.forEach(e=>{e.value===this.developerInfo.companySize?e.selected=!0:e.selected=!1}),[...c]);return i.unshift({label:"请选择规模",value:null}),t.appendChild(this.baseForm.createSelect("companySize",i)),e.appendChild(this.baseForm.createFormlabel("您的公司规模是？",!1)),e.appendChild(t),e}createBusinessDomain(){var e,t=this.baseEle.createEle("div","cpCommon_form_row");const i=e=>{"true"===e.dataset.checked?this.removeErrorTips("businessDomain"):0===this.baseForm.getCheckBoxValue("businessDomain").length&&this.addErrorTips("businessDomain","请选择您从事的行业")},n=this.baseEle.createEle("div","form_offset");let o=[],r=(this.developerInfo.industryList&&(o=this.developerInfo.industryList),[]);return 0<(null==(e=null==(e=this.developerInfo)?void 0:e.developerTypeList)?void 0:e.length)&&this.DeveloperTypeList.filter(e=>this.developerInfo.developerTypeList.some(t=>t.id===e.id)).forEach(e=>{r=[...r,...null==(e=e.industryIds)?void 0:e.split(",")]}),this.industryInfoList.forEach(e=>{var t=this.baseForm.createCheckbox(e.name,"businessDomain",e.id,!!o.some(t=>t.id===e.id.toString()),i);-1===r.indexOf(e.id)&&t.setAttribute("data-show","false"),n.appendChild(t)}),t.appendChild(n),t}createinterestItem(){var e;const t=this.baseEle.createEle("div","form_offset interestRow"),i=e=>{var t="true"===e.dataset.selected;t&&5<document.querySelectorAll("div.cpCommon_tag[data-name='interest'][data-selected='true']").length?e.dataset.selected=!1:t?this.removeErrorTips("interest"):0===this.baseForm.getTagData("interest").length&&this.addErrorTips("interest","请选择兴趣方向")};let n=[],o=(this.developerInfo.interestList&&(n=this.developerInfo.interestList),[]);return 0<(null==(e=null==(e=this.developerInfo)?void 0:e.developerTypeList)?void 0:e.length)&&this.DeveloperTypeList.filter(e=>this.developerInfo.developerTypeList.some(t=>t.id===e.id)).forEach(e=>{o=[...o,...null==(e=e.interestIdList)?void 0:e.split(",")]}),this.interestList.forEach(e=>{const r=this.baseForm.createTag(e.name,"interest",e.id,!!n.some(t=>t.id===e.id.toString()),i,e.tips);-1===o.indexOf(e.id)&&r.setAttribute("data-show","false"),r.addEventListener("mouseenter",e=>{var t=e.target.offsetLeft,i=e.target.clientWidth,n=e.target.parentElement.clientWidth;t+i/2<(e=e.target.querySelector("span").clientWidth)/2&&r.classList.add("tooltip-placement-topLeft"),n<t+i/2+e/2&&r.classList.add("tooltip-placement-topRight")}),t.appendChild(r)}),t}getDeveloperBasicInfoOptions(){return new Promise((e,t)=>{var i=this.util.removeUrlSlashes(this.config.servletURL)+"/community/servlet/consumer/partnerCommunityService/v1/servlet/registerGuide/getDeveloperBasicInfoOptions";this.util.ajax_method(i,{},"POST",i=>{"00000"===(i=JSON.parse(i)).code?e(i.result):t("request getDeveloperBasicInfoOptions failed")})})}getDeveloperBasicInfo(){return new Promise((e,t)=>{AUI2.OPENGW.createGWService("PartnerCommunityService/v1/registerGuide/developer/getDeveloperBasicInfo",{prefix:!1,cn:!0,reqType:1})({req:{}}).then(t=>{e(t)})})}getDeveloperJobTypeList(){return new Promise((e,t)=>{AUI2.OPENGW.createGWService("OpenCommon.DelegateTm.OpenUP_Server4User_getJobList",{})({req:{}}).then(t=>{t=t.jobInfoList.map(e=>({label:e.jobDesc,value:e.jobType})),e(t)})})}addErrorTips(e,t){(e=document.querySelector(`[data-name='${e}']`).parentElement).classList.add("form_error"),e.dataset.error=t}removeErrorTips(e){document.querySelector(`[data-name='${e}']`).parentElement.classList.remove("form_error")}getFormValidationData(){var e={};let t=!0;var i;return 0===(i=(0===(i=(0===(i=this.baseForm.getCheckBoxValue("developerType")).length?(t=!1,this.addErrorTips("developerType","请选择开发者类型")):e.developerTypeId=i.join(","),e.jobType=parseInt(this.baseForm.getSelectData("JobType")),e.jobType||(t=!1,this.addErrorTips("JobType","请选择岗位类型")),e.jobType&&!this.specialJobType.includes(e.jobType.toString())&&(e.companySize=parseInt(this.baseForm.getSelectData("companySize")),e.companySize||(t=!1,this.addErrorTips("companySize","请选择公司规模"))),this.baseForm.getCheckBoxValue("businessDomain"))).length&&(t=!1,this.addErrorTips("businessDomain","请选择您从事的行业")),e.industryIds=i.join(","),this.baseForm.getTagData("interest"))).length?(t=!1,this.addErrorTips("interest","请选择兴趣方向")):e.interestIds=i.join(","),{params:e,isPass:t}}createSubscribeDiv(){var e,t=this.baseEle.createEle("div","cpCommon_subscribe");return(e=((e=this.baseEle.createEle("div","cpCommon_form_label")).appendChild(document.createTextNode("您可以订阅")),t.appendChild(e),this.baseEle.createEle("span"))).appendChild(document.createTextNode("华为开发者订阅消息，随时了解新的解决方案、业务、活动等。")),t.appendChild(this.baseForm.createCheckbox(e,"isSubscribe",1,!1)),t}createWelcomeDiv(){var e=this.baseEle.createEle("div","cpCommon_welcome");e.appendChild(document.createTextNode("您好，"));const t=this.baseEle.createEle("font");e.appendChild(t),this.config.nickname?t.innerText=this.config.nickname+"，":window.AUI2&&AUI2.ACCOUNT.getUserInfo().then(e=>{t.innerText=e.userInfo.displayName?e.userInfo.displayName+"，":""}),e.appendChild(document.createTextNode("欢迎来到开发者联盟，"));var i=this.baseEle.createEle("span");return i.appendChild(document.createTextNode("您可以通过完善以下信息获得便捷的服务支持与体验！")),e.appendChild(i),e}createDeveloperType(){var e,t=this.baseEle.createEle("div","cpCommon_form_row");const i=e=>{e="true"===e.dataset.checked;var t=document.querySelector("div[data-relationship='interest']"),i=document.querySelector("div[data-relationship='businessDomain']");const n=this.baseForm.getCheckBoxValue("developerType");var o=this.DeveloperTypeList.filter(e=>-1<n.indexOf(e.id));if(-1<o.length){let e=[],t=[];o.forEach(i=>{var n;e=[...e,...null==(n=i.interestIdList)?void 0:n.split(",")],t=[...t,...null==(n=i.industryIds)?void 0:n.split(",")]}),document.querySelectorAll("div.cpCommon_tag[data-name=interest]").forEach(t=>{-1<e.indexOf(t.dataset.value)?t.setAttribute("data-show","true"):(t.setAttribute("data-show","false"),t.dataset.selected="false")}),document.querySelectorAll("div.cpCommon_checkbox[data-name=businessDomain]").forEach(e=>{-1<t.indexOf(e.dataset.value)?e.setAttribute("data-show","true"):(e.setAttribute("data-show","false"),e.dataset.checked="false")})}e?(this.removeErrorTips("developerType"),t.setAttribute("data-show","true"),i.setAttribute("data-show","true")):0===this.baseForm.getCheckBoxValue("developerType").length&&(this.addErrorTips("developerType","请选择开发者类型"),t.setAttribute("data-show","false"),i.setAttribute("data-show","false"))},n=this.baseEle.createEle("div","form_offset");let o=[];return 0<(null==(e=null==(e=this.developerInfo)?void 0:e.developerTypeList)?void 0:e.length)&&(o=this.developerInfo.developerTypeList),this.DeveloperTypeList.forEach(e=>{n.appendChild(this.baseForm.createCheckbox(e.name,"developerType",e.id,!!o.some(t=>t.id===e.id.toString()),i,e.tips))}),t.appendChild(n),t}close(){}}(new r.a,new a.a,new s.a,new l.a,new t.a)}]).default);